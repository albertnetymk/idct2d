times(1, :, :) = [
0, 250114881, 0
0, 250251529, 0
0, 250278389, 0
0, 250501544, 0
0, 251540099, 0
0, 251290557, 0
0, 250999115, 0
0, 250755841, 0
0, 251567274, 0
0, 251933531, 0
0, 252373534, 0
0, 252852109, 0
0, 253791066, 0
0, 253740910, 0
0, 253337738, 0
];
times(2, :, :) = [
0, 250116271, 0
0, 250252707, 0
0, 250279759, 0
0, 250503770, 0
0, 251542147, 0
0, 251292537, 0
0, 251001536, 0
0, 250757451, 0
0, 251569310, 0
0, 251934972, 0
0, 252375388, 0
0, 252853352, 0
0, 253789572, 0
0, 253740745, 0
0, 253337728, 0
];
times(3, :, :) = [
0, 250110753, 0
0, 250248070, 0
0, 250275108, 0
0, 250499693, 0
0, 251537882, 0
0, 251288405, 0
0, 250996410, 0
0, 250754068, 0
0, 251565137, 0
0, 251930901, 0
0, 252371064, 0
0, 252848129, 0
0, 253785696, 0
0, 253733155, 0
0, 253331947, 0
];
times(4, :, :) = [
0, 250141431, 0
0, 250278539, 0
0, 250305338, 0
0, 250529749, 0
0, 251568585, 0
0, 251318624, 0
0, 251027380, 0
0, 250783838, 0
0, 251595743, 0
0, 251961524, 0
0, 252402589, 0
0, 252879420, 0
0, 253816059, 0
0, 253764879, 0
0, 253363791, 0
];
times(5, :, :) = [
0, 250120335, 0
0, 250257245, 0
0, 250284255, 0
0, 250509117, 0
0, 251548420, 0
0, 251297982, 0
0, 251006805, 0
0, 250763457, 0
0, 251575602, 0
0, 251941460, 0
0, 252382238, 0
0, 252859865, 0
0, 253798840, 0
0, 253748123, 0
0, 253344539, 0
];
times(6, :, :) = [
0, 250118233, 0
0, 250255112, 0
0, 250282144, 0
0, 250505943, 0
0, 251544902, 0
0, 251295032, 0
0, 251003318, 0
0, 250760338, 0
0, 251572135, 0
0, 251937979, 0
0, 252378358, 0
0, 252855367, 0
0, 253791963, 0
0, 253744055, 0
0, 253340544, 0
];
times(7, :, :) = [
0, 250129684, 0
0, 250266687, 0
0, 250293502, 0
0, 250519101, 0
0, 251557877, 0
0, 251308032, 0
0, 251016531, 0
0, 250773163, 0
0, 251585048, 0
0, 251950636, 0
0, 252391264, 0
0, 252866944, 0
0, 253803700, 0
0, 253754887, 0
0, 253352895, 0
];
times(8, :, :) = [
0, 250126461, 0
0, 250262898, 0
0, 250289820, 0
0, 250514647, 0
0, 251553376, 0
0, 251303609, 0
0, 251012097, 0
0, 250769017, 0
0, 251580365, 0
0, 251946506, 0
0, 252387472, 0
0, 252864137, 0
0, 253798887, 0
0, 253746751, 0
0, 253349646, 0
];
times(9, :, :) = [
0, 250123653, 0
0, 250260450, 0
0, 250287220, 0
0, 250511694, 0
0, 251550522, 0
0, 251300411, 0
0, 251009498, 0
0, 250766069, 0
0, 251577743, 0
0, 251943718, 0
0, 252383652, 0
0, 252860621, 0
0, 253796694, 0
0, 253748283, 0
0, 253346520, 0
];
times(10, :, :) = [
0, 250108714, 0
0, 250246492, 0
0, 250273553, 0
0, 250498797, 0
0, 251537498, 0
0, 251287578, 0
0, 250996480, 0
0, 250752978, 0
0, 251564718, 0
0, 251930645, 0
0, 252371209, 0
0, 252848577, 0
0, 253784474, 0
0, 253736207, 0
0, 253333128, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_read_times = ave_times;
times(1, :, :) = [
43490, 248175606, 0
27273881, 248309670, 0
61735138, 248336432, 0
79370194, 248553887, 0
82191101, 249578836, 0
109452285, 249332206, 0
109230512, 249043570, 0
94113091, 248803805, 0
110738995, 249605761, 0
130746045, 249968779, 0
142609710, 250405823, 0
154917355, 250876414, 0
0, 251794179, 0
124676571, 251747283, 0
175516071, 251355152, 0
];
times(2, :, :) = [
46301, 248195658, 0
27617516, 248328944, 0
62625431, 248355602, 0
80452652, 248573283, 0
82738088, 249598667, 0
109987655, 249351528, 0
110538926, 249062578, 0
95381187, 248822983, 0
111292357, 249625581, 0
131324069, 249988577, 0
142930847, 250425354, 0
155035169, 250896225, 0
0, 251814309, 0
124686094, 251763082, 0
175721247, 251373773, 0
];
times(3, :, :) = [
36388, 248194324, 0
27600948, 248328572, 0
62595221, 248355432, 0
80587359, 248572332, 0
82716405, 249597130, 0
109953566, 249350219, 0
110602496, 249061579, 0
95340805, 248821647, 0
111268376, 249624064, 0
131302465, 249987137, 0
142932506, 250424122, 0
154949553, 250893121, 0
0, 251819059, 0
124694491, 251769289, 0
175485557, 251371662, 0
];
times(4, :, :) = [
19006, 248170827, 0
26948943, 248304800, 0
61225086, 248331541, 0
78885233, 248550109, 0
82106550, 249574488, 0
109357736, 249327912, 0
109200656, 249039129, 0
93670576, 248799895, 0
110757634, 249601448, 0
130773692, 249964952, 0
142605555, 250401975, 0
154769669, 250872458, 0
0, 251792864, 0
124673375, 251742687, 0
175346192, 251349983, 0
];
times(5, :, :) = [
33849, 248185475, 0
27233360, 248319416, 0
61834369, 248346273, 0
79637405, 248565264, 0
82131074, 249589171, 0
109326692, 249342506, 0
109481457, 249053432, 0
94354652, 248814412, 0
110909454, 249616128, 0
130940855, 249979227, 0
143193638, 250415980, 0
155416504, 250884848, 0
0, 251805992, 0
124693249, 251757223, 0
175587275, 251362350, 0
];
times(6, :, :) = [
45093, 248188059, 0
27847230, 248322045, 0
63189693, 248348781, 0
81209715, 248566558, 0
82789283, 249590972, 0
110038270, 249344343, 0
110544975, 249055837, 0
95578100, 248816912, 0
111394669, 249617968, 0
131470908, 249980834, 0
143783879, 250417446, 0
155902600, 250887386, 0
0, 251805865, 0
124692599, 251758450, 0
176015222, 251365761, 0
];
times(7, :, :) = [
33091, 248180999, 0
26966159, 248314894, 0
61554075, 248341621, 0
79710343, 248560707, 0
82295591, 249585300, 0
109498187, 249338015, 0
109574686, 249049475, 0
94690799, 248810161, 0
111015817, 249612221, 0
130981620, 249975900, 0
143135045, 250412701, 0
155196159, 250882866, 0
0, 251801972, 0
124682179, 251754153, 0
175889890, 251361889, 0
];
times(8, :, :) = [
20676, 248178703, 0
27540899, 248312683, 0
62629536, 248339492, 0
80655008, 248557217, 0
83050485, 249582393, 0
110296947, 249335209, 0
110776303, 249046425, 0
95661287, 248807433, 0
111681665, 249609336, 0
131828684, 249972605, 0
143578645, 250409775, 0
155549578, 250880000, 0
0, 251803278, 0
124682196, 251751956, 0
175718355, 251358009, 0
];
times(9, :, :) = [
49120, 248198922, 0
27409644, 248333139, 0
62043826, 248359881, 0
79796223, 248577809, 0
82156270, 249603175, 0
109403759, 249356421, 0
109462880, 249067612, 0
94418269, 248827820, 0
110858032, 249630167, 0
130917553, 249993654, 0
142679373, 250430392, 0
154794221, 250900108, 0
0, 251820076, 0
124691756, 251768984, 0
175134313, 251378168, 0
];
times(10, :, :) = [
39138, 248182160, 0
27122639, 248316038, 0
61536463, 248342807, 0
79112815, 248558773, 0
81886918, 249583404, 0
109088319, 249336346, 0
108586040, 249048266, 0
93369376, 248808619, 0
110476618, 249610367, 0
130418631, 249973466, 0
142269254, 250410382, 0
154497872, 250879971, 0
0, 251796006, 0
124670869, 251747396, 0
175312763, 251356749, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_write_times = ave_times;
times(1, :, :) = [
0, 280745949, 0
8882655, 280921764, 64000
17792115, 280949583, 128000
8912859, 281190203, 64000
8969088, 282311098, 64000
15566178, 282043914, 128000
8890206, 281732905, 64000
8915574, 281461312, 64000
17762208, 282339802, 128000
8895917, 282710264, 64000
8957701, 283160281, 64000
8949043, 283642216, 64000
29245670, 284593545, 255980
15567091, 284545370, 128000
8908756, 284129698, 64000
];
times(2, :, :) = [
0, 280754741, 0
8882320, 280929983, 64000
17792652, 280956591, 128000
8914207, 281200140, 64000
8969393, 282327327, 64000
15564878, 282059796, 128000
8884593, 281748614, 64000
8921759, 281478407, 64000
17762624, 282355924, 128000
8895388, 282727186, 64000
8964383, 283177233, 64000
8940656, 283659042, 64000
29246105, 284608354, 255980
15573120, 284555996, 128000
8915722, 284146819, 64000
];
times(3, :, :) = [
0, 280732481, 0
8882058, 280908219, 64000
17791224, 280934718, 128000
8912874, 281177465, 64000
8968878, 282309294, 64000
15566439, 282042381, 128000
8890060, 281731293, 64000
8916098, 281459604, 64000
17761546, 282338995, 128000
8895537, 282709380, 64000
8958689, 283159828, 64000
8948124, 283641468, 64000
29246493, 284601677, 255980
15567148, 284549714, 128000
8908938, 284133194, 64000
];
times(4, :, :) = [
0, 280737931, 0
8882818, 280913510, 64000
17792871, 280941343, 128000
8920656, 281182522, 64000
8969111, 282302771, 64000
15565418, 282035434, 128000
8883256, 281724642, 64000
8920331, 281453617, 64000
17762426, 282331371, 128000
8896172, 282702990, 64000
8966638, 283153003, 64000
8943680, 283634794, 64000
29245745, 284586039, 255980
15567534, 284532527, 128000
8911082, 284121745, 64000
];
times(5, :, :) = [
0, 280736370, 0
8882109, 280912263, 64000
17792192, 280940068, 128000
8912697, 281181693, 64000
8969039, 282303904, 64000
15565325, 282036951, 128000
8883243, 281725828, 64000
8920561, 281455420, 64000
17762804, 282332585, 128000
8895144, 282703580, 64000
8964636, 283153032, 64000
8937558, 283634173, 64000
29246496, 284584224, 255980
15573195, 284531951, 128000
8894901, 284121732, 64000
];
times(6, :, :) = [
0, 280727647, 0
8882514, 280903642, 64000
17792093, 280931461, 128000
8913423, 281172795, 64000
8968844, 282292566, 64000
15564607, 282025345, 128000
8884215, 281714206, 64000
8921616, 281443936, 64000
17762345, 282322263, 128000
8895655, 282692479, 64000
8963389, 283142167, 64000
8939569, 283622994, 64000
29246163, 284569217, 255980
15567642, 284520894, 128000
8898607, 284110687, 64000
];
times(7, :, :) = [
0, 280731190, 0
8882331, 280906975, 64000
17792375, 280934790, 128000
8920402, 281176086, 64000
8968798, 282297548, 64000
15565369, 282030575, 128000
8883314, 281719432, 64000
8920459, 281448829, 64000
17761884, 282327282, 128000
8893869, 282697735, 64000
8964803, 283147802, 64000
8937822, 283629147, 64000
29245877, 284580141, 255980
15573202, 284530671, 128000
8894936, 284116139, 64000
];
times(8, :, :) = [
0, 280739902, 0
8882665, 280915471, 64000
17791086, 280943400, 128000
8912746, 281184081, 64000
8969155, 282302937, 64000
15566190, 282035654, 128000
8889991, 281725215, 64000
8915680, 281454906, 64000
17763069, 282331532, 128000
8900279, 282702702, 64000
8964872, 283153005, 64000
8937797, 283633430, 64000
29245202, 284588247, 255980
15573018, 284534852, 128000
8894755, 284121008, 64000
];
times(9, :, :) = [
0, 280755983, 0
8882559, 280932680, 64000
17792731, 280960548, 128000
8921115, 281202050, 64000
8969334, 282321803, 64000
15565930, 282054723, 128000
8889979, 281744058, 64000
8916165, 281473272, 64000
17762177, 282351603, 128000
8896181, 282721449, 64000
8965582, 283171287, 64000
8943702, 283652943, 64000
29245868, 284605233, 255980
15567186, 284550474, 128000
8910625, 284141709, 64000
];
times(10, :, :) = [
0, 280755903, 0
8882502, 280931176, 64000
17791564, 280959045, 128000
8914352, 281200511, 64000
8969151, 282320929, 64000
15565143, 282053710, 128000
8888894, 281742383, 64000
8916797, 281472070, 64000
17761962, 282350660, 128000
8898570, 282720449, 64000
8963250, 283170410, 64000
8939318, 283651674, 64000
29246103, 284606638, 255980
15567293, 284554975, 128000
8898922, 284140371, 64000
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
read_times = ave_times;
times(1, :, :) = [
0, 248083554, 0
0, 248216818, 0
0, 248243630, 0
0, 248461748, 0
0, 249486527, 0
0, 249239473, 0
0, 248950535, 0
0, 248710795, 0
0, 249513236, 0
0, 249877006, 0
0, 250313899, 0
0, 250783863, 0
0, 251700449, 0
0, 251651640, 0
0, 251261406, 0
];
times(2, :, :) = [
0, 248107618, 0
0, 248242222, 0
0, 248269028, 0
0, 248486818, 0
0, 249512586, 0
0, 249265030, 0
0, 248976003, 0
0, 248736740, 0
0, 249539287, 0
0, 249903130, 0
0, 250339557, 0
0, 250808649, 0
0, 251728755, 0
0, 251677587, 0
0, 251286842, 0
];
times(3, :, :) = [
0, 248107085, 0
0, 248240932, 0
0, 248267690, 0
0, 248484417, 0
0, 249509128, 0
0, 249262031, 0
0, 248972986, 0
0, 248733556, 0
0, 249536066, 0
0, 249899242, 0
0, 250336493, 0
0, 250806216, 0
0, 251728329, 0
0, 251677649, 0
0, 251284296, 0
];
times(4, :, :) = [
0, 248093205, 0
0, 248226263, 0
0, 248252986, 0
0, 248471180, 0
0, 249495103, 0
0, 249248016, 0
0, 248959307, 0
0, 248720328, 0
0, 249521819, 0
0, 249885256, 0
0, 250322266, 0
0, 250792593, 0
0, 251709594, 0
0, 251659215, 0
0, 251270044, 0
];
times(5, :, :) = [
0, 248105783, 0
0, 248239965, 0
0, 248266753, 0
0, 248484973, 0
0, 249508846, 0
0, 249262250, 0
0, 248973496, 0
0, 248734242, 0
0, 249535560, 0
0, 249899420, 0
0, 250336693, 0
0, 250806427, 0
0, 251725834, 0
0, 251677603, 0
0, 251285327, 0
];
times(6, :, :) = [
0, 248087364, 0
0, 248220041, 0
0, 248246824, 0
0, 248463292, 0
0, 249488070, 0
0, 249241005, 0
0, 248952364, 0
0, 248712884, 0
0, 249514762, 0
0, 249878458, 0
0, 250315601, 0
0, 250785376, 0
0, 251707951, 0
0, 251655995, 0
0, 251263938, 0
];
times(7, :, :) = [
0, 248091108, 0
0, 248225126, 0
0, 248251927, 0
0, 248469411, 0
0, 249494103, 0
0, 249247293, 0
0, 248958445, 0
0, 248718881, 0
0, 249520769, 0
0, 249884347, 0
0, 250321561, 0
0, 250790938, 0
0, 251706181, 0
0, 251658354, 0
0, 251268941, 0
];
times(8, :, :) = [
0, 248102815, 0
0, 248236365, 0
0, 248263111, 0
0, 248478870, 0
0, 249503503, 0
0, 249256561, 0
0, 248967532, 0
0, 248728488, 0
0, 249530447, 0
0, 249894049, 0
0, 250330642, 0
0, 250800467, 0
0, 251718491, 0
0, 251670142, 0
0, 251279566, 0
];
times(9, :, :) = [
0, 248098167, 0
0, 248232405, 0
0, 248259142, 0
0, 248477011, 0
0, 249501495, 0
0, 249254799, 0
0, 248966158, 0
0, 248726465, 0
0, 249528199, 0
0, 249891843, 0
0, 250328873, 0
0, 250798587, 0
0, 251720248, 0
0, 251669001, 0
0, 251277250, 0
];
times(10, :, :) = [
0, 248093038, 0
0, 248227211, 0
0, 248254027, 0
0, 248471789, 0
0, 249495960, 0
0, 249249398, 0
0, 248960441, 0
0, 248720907, 0
0, 249522643, 0
0, 249886060, 0
0, 250322960, 0
0, 250792770, 0
0, 251710858, 0
0, 251662931, 0
0, 251272126, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
total_times = ave_times;
times(1, :, :) = [
46985821, 254862467, 64000
91220458, 254881386, 128000
47079241, 254895045, 64000
45840321, 254908935, 64000
91436923, 255179945, 128000
87032253, 255143212, 64000
45647244, 254999522, 64000
45695855, 254931869, 64000
46937060, 255195580, 64000
45672801, 255209651, 64000
45841058, 255313966, 64000
45924270, 255781910, 64000
0, 256700249, 0
177110591, 256652366, 64000
49698032, 256256554, 64000
];
times(2, :, :) = [
46985214, 254888412, 64000
91220024, 254907524, 128000
47079775, 254920942, 64000
45841519, 254934771, 64000
91436916, 255205920, 128000
87037172, 255169108, 64000
45646547, 255025327, 64000
45693969, 254957427, 64000
46937344, 255221466, 64000
45672135, 255235253, 64000
45840922, 255339185, 64000
45924062, 255807273, 64000
0, 256724613, 0
177102057, 256676271, 64000
49695990, 256281731, 64000
];
times(3, :, :) = [
46985393, 254897219, 64000
91220253, 254916142, 128000
47078401, 254929523, 64000
45839886, 254943585, 64000
91437854, 255214476, 128000
87032103, 255177659, 64000
45646692, 255033872, 64000
45695633, 254966470, 64000
46937572, 255229745, 64000
45673675, 255243755, 64000
45840811, 255349200, 64000
45927337, 255817179, 64000
0, 256730282, 0
177088141, 256682035, 64000
49695526, 256291182, 64000
];
times(4, :, :) = [
46985495, 254880028, 64000
91219134, 254899138, 128000
47079935, 254912738, 64000
45841527, 254926599, 64000
91438209, 255197404, 128000
87033911, 255160632, 64000
45647827, 255016877, 64000
45693656, 254949240, 64000
46938844, 255212949, 64000
45673144, 255227074, 64000
45841123, 255329962, 64000
45924769, 255798011, 64000
0, 256714188, 0
177084177, 256662579, 64000
49694923, 256272041, 64000
];
times(5, :, :) = [
46985092, 254887540, 64000
91221526, 254906738, 128000
47078196, 254920140, 64000
45840112, 254933912, 64000
91436214, 255204940, 128000
87030071, 255168097, 64000
45646986, 255024340, 64000
45695037, 254956505, 64000
46938539, 255220468, 64000
45673698, 255234312, 64000
45841867, 255340464, 64000
45927172, 255808913, 64000
0, 256723227, 0
177105455, 256674886, 64000
49701213, 256283530, 64000
];
times(6, :, :) = [
46984652, 254913278, 64000
91218638, 254932461, 128000
47080132, 254946129, 64000
45840092, 254959875, 64000
91437487, 255230821, 128000
87035715, 255194139, 64000
45646998, 255050355, 64000
45694828, 254982593, 64000
46937008, 255246370, 64000
45673551, 255260143, 64000
45839878, 255364389, 64000
45923827, 255832155, 64000
0, 256750391, 0
177091052, 256701592, 64000
49691935, 256307861, 64000
];
times(7, :, :) = [
46985704, 254882862, 64000
91219626, 254902038, 128000
47079041, 254915737, 64000
45841916, 254929756, 64000
91436191, 255200281, 128000
87028823, 255163453, 64000
45647564, 255019616, 64000
45695918, 254952625, 64000
46937996, 255215481, 64000
45673039, 255229309, 64000
45840660, 255335155, 64000
45926475, 255802511, 64000
0, 256715357, 0
177115014, 256668824, 64000
49698798, 256276963, 64000
];
times(8, :, :) = [
46984814, 254865477, 64000
91220369, 254884577, 128000
47079435, 254898285, 64000
45840664, 254912306, 64000
91438274, 255182601, 128000
87035076, 255145765, 64000
45646378, 255002029, 64000
45696341, 254935170, 64000
46936948, 255198044, 64000
45673924, 255211811, 64000
45840697, 255317460, 64000
45927248, 255784988, 64000
0, 256701341, 0
177115148, 256654405, 64000
49699432, 256259661, 64000
];
times(9, :, :) = [
46986039, 254889149, 64000
91220240, 254908376, 128000
47078886, 254922069, 64000
45839558, 254936135, 64000
91435368, 255206490, 128000
87035177, 255169762, 64000
45646831, 255025967, 64000
45695275, 254958822, 64000
46937379, 255221983, 64000
45673887, 255236000, 64000
45839394, 255340993, 64000
45926159, 255809614, 64000
0, 256732183, 0
177087547, 256680048, 64000
49696526, 256285061, 64000
];
times(10, :, :) = [
46985696, 254880750, 64000
91220086, 254899555, 128000
47079651, 254912951, 64000
45841477, 254926812, 64000
91438234, 255198452, 128000
87033715, 255161630, 64000
45648285, 255017827, 64000
45696893, 254949503, 64000
46936924, 255213993, 64000
45673436, 255228046, 64000
45840875, 255333329, 64000
45926317, 255801445, 64000
0, 256711922, 0
177110868, 256665286, 64000
49698762, 256276539, 64000
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
write_times = ave_times;
mytitle = 'v3\_16';
order = [1 2 3 4 8 7 6 5 9 10 11 12 15 14 13];

total_times = total_times(:, 2)(order);

read_times = read_times(:, 1)(order);
write_times = write_times(:, 1)(order);

polling_read_times = polling_read_times(:, 1)(order);
polling_write_times = polling_write_times(:, 1)(order);

total_times /= 1000000;

read_times /= 1000000;
write_times /= 1000000;

polling_read_times /= 1000000;
polling_write_times /= 1000000;

% laying read on top of write
read_times += write_times;
polling_read_times += write_times;

figure(1);
clf()
% set(gcf, 'Position', get(0,'Screensize'));
% set(gcf,'units','normalized','outerposition',[0 0 1 1])
bar(0:14, total_times,'g');
hold on;
bar(0:14, read_times,'b');
bar(0:14, polling_read_times,'r');
bar(0:14, write_times,'k');
bar(0:14, polling_write_times,'c');
hold off

axis([-2 16 0 300])
% axis([-1 15])
set(gca,'XTick',0:14);
set(gca,'xticklabel',{ '0'; '1'; '2'; '3'; '7'; '6'; '5'; '4'; '8'; '9'; '10'; '11'; '15'; '14'; '13' })

xlabel('Core ID')
ylabel('Cycles (Million)')

legend('total', 'read', 'p-read', 'write', 'p-write')
title(mytitle)
print(1, strcat(mytitle, '.png'))
