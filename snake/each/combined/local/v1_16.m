times(1, :, :) = [
0, 241696061, 0
0, 241700268, 0
0, 241917345, 0
0, 241931666, 0
0, 243056667, 0
0, 243026464, 0
28186, 242463874, 0
0, 242195321, 0
0, 243392993, 0
0, 243409241, 0
0, 243851595, 0
11626, 244331604, 0
0, 245766399, 0
0, 245677198, 0
58, 244817634, 0
];
times(2, :, :) = [
0, 241608617, 0
0, 241613250, 0
0, 241832156, 0
0, 241847142, 0
0, 242972087, 0
0, 242942045, 0
20428, 242379008, 0
0, 242110911, 0
0, 243309074, 0
0, 243325389, 0
0, 243767643, 0
4294, 244248364, 0
0, 245687617, 0
0, 245597345, 0
0, 244733599, 0
];
times(3, :, :) = [
0, 241671651, 0
0, 241676254, 0
0, 241895278, 0
0, 241910034, 0
0, 243035296, 0
58, 243005152, 0
28447, 242441889, 0
0, 242173685, 0
0, 243372309, 0
0, 243388351, 0
0, 243830332, 0
8796, 244310751, 0
0, 245745056, 0
0, 245659671, 0
58, 244796880, 0
];
times(4, :, :) = [
0, 241679806, 0
0, 241684479, 0
0, 241903592, 0
0, 241918201, 0
0, 243043429, 0
0, 243013367, 0
28970, 242450734, 0
0, 242181885, 0
0, 243380018, 0
0, 243396358, 0
0, 243838721, 0
12155, 244318860, 0
0, 245757159, 0
0, 245666711, 0
0, 244804251, 0
];
times(5, :, :) = [
0, 241627479, 0
0, 241632102, 0
0, 241850500, 0
0, 241865117, 0
0, 242990662, 0
0, 242960487, 0
18653, 242397905, 0
0, 242129319, 0
0, 243327552, 0
0, 243343859, 0
0, 243785744, 0
174, 244266622, 0
0, 245698911, 0
0, 245614291, 0
0, 244751569, 0
];
times(6, :, :) = [
0, 241633608, 0
0, 241638556, 0
0, 241855860, 0
0, 241870392, 0
0, 242996321, 0
0, 242966131, 0
18061, 242402993, 0
0, 242134328, 0
0, 243332844, 0
0, 243349165, 0
0, 243791891, 0
3891, 244272310, 0
0, 245710383, 0
0, 245620692, 0
0, 244757333, 0
];
times(7, :, :) = [
0, 241675979, 0
0, 241680918, 0
0, 241898686, 0
0, 241913255, 0
0, 243038168, 0
0, 243007958, 0
19898, 242445030, 0
0, 242176792, 0
0, 243374850, 0
0, 243390950, 0
0, 243833084, 0
3496, 244313693, 0
0, 245740310, 0
0, 245654442, 0
0, 244799422, 0
];
times(8, :, :) = [
0, 241630683, 0
0, 241635389, 0
0, 241855148, 0
0, 241869831, 0
0, 242995873, 0
0, 242965801, 0
27454, 242402894, 0
0, 242134287, 0
0, 243332864, 0
0, 243348871, 0
0, 243791723, 0
874, 244271911, 0
0, 245708497, 0
0, 245617944, 0
0, 244757118, 0
];
times(9, :, :) = [
0, 241644671, 0
0, 241649117, 0
0, 241868279, 0
0, 241883034, 0
0, 243008565, 0
0, 242978506, 0
18531, 242415646, 0
0, 242147021, 0
0, 243345775, 0
0, 243361849, 0
0, 243804331, 0
4170, 244285178, 0
0, 245729792, 0
0, 245635589, 0
70, 244771363, 0
];
times(10, :, :) = [
0, 241588865, 0
0, 241593709, 0
0, 241811885, 0
0, 241826822, 0
0, 242951846, 0
0, 242921625, 0
28042, 242358830, 0
0, 242090327, 0
0, 243288607, 0
0, 243304881, 0
0, 243747278, 0
348, 244228364, 0
0, 245665034, 0
0, 245578918, 0
0, 244713151, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_read_times = ave_times;
times(1, :, :) = [
20806885, 239783827, 0
129176658, 239789685, 0
172721269, 240003806, 0
187404378, 240018804, 0
170440451, 241151311, 0
177973995, 241119975, 0
193776861, 240553185, 0
190106869, 240284110, 0
181238313, 241491612, 0
196177821, 241508081, 0
199119694, 241959086, 0
202723785, 242431953, 0
0, 243861129, 0
167092675, 243770602, 0
205461016, 242932642, 0
];
times(2, :, :) = [
20793548, 239764092, 0
129154013, 239770179, 0
172696360, 239985370, 0
187306010, 240000556, 0
170436563, 241131404, 0
177971078, 241100088, 0
193748239, 240534049, 0
190077703, 240264748, 0
181235447, 241471927, 0
196196330, 241488346, 0
199158063, 241939286, 0
202695003, 242411298, 0
0, 243844275, 0
167098692, 243754088, 0
205458426, 242911968, 0
];
times(3, :, :) = [
20840027, 239799022, 0
129218849, 239804760, 0
172758875, 240020785, 0
187371513, 240035713, 0
170487776, 241166848, 0
177997288, 241135717, 0
193842530, 240569540, 0
190169870, 240300796, 0
181248020, 241507600, 0
196205746, 241524170, 0
199154024, 241974695, 0
202718231, 242446110, 0
0, 243880225, 0
167111613, 243786142, 0
205482800, 242947131, 0
];
times(4, :, :) = [
20851914, 239778333, 0
129240068, 239784261, 0
172729099, 240000028, 0
187416613, 240015006, 0
170461004, 241148069, 0
177974487, 241116920, 0
193788314, 240549672, 0
190126642, 240280428, 0
181226591, 241488894, 0
196180506, 241505170, 0
199133699, 241955203, 0
202718565, 242426841, 0
0, 243854801, 0
167084963, 243767755, 0
205463262, 242927443, 0
];
times(5, :, :) = [
20826059, 239780153, 0
129201489, 239786039, 0
172755130, 240000501, 0
187387269, 240015540, 0
170463107, 241147977, 0
177955173, 241116772, 0
193828385, 240550220, 0
190169097, 240280936, 0
181162032, 241488622, 0
196234894, 241505366, 0
199168368, 241955840, 0
202702553, 242426433, 0
0, 243861572, 0
167086975, 243771783, 0
205525391, 242927463, 0
];
times(6, :, :) = [
20779095, 239746628, 0
129134157, 239752774, 0
172700668, 239966660, 0
187345047, 239981950, 0
170420315, 241114548, 0
177910102, 241083462, 0
193749679, 240516351, 0
190095754, 240247257, 0
181125043, 241455420, 0
196145143, 241471850, 0
199088697, 241922696, 0
202693442, 242394700, 0
0, 243828123, 0
167080613, 243737486, 0
205425913, 242895514, 0
];
times(7, :, :) = [
20824080, 239776695, 0
129203961, 239782556, 0
172757687, 239998664, 0
187439910, 240013602, 0
170479464, 241146226, 0
177971097, 241115046, 0
193814338, 240547963, 0
190151511, 240278460, 0
181155381, 241486941, 0
196187909, 241503702, 0
199105000, 241954386, 0
202691589, 242427026, 0
0, 243864807, 0
167122511, 243774119, 0
205455969, 242927411, 0
];
times(8, :, :) = [
20816548, 239710518, 0
129151810, 239716270, 0
172639958, 239930104, 0
187240965, 239945532, 0
170377423, 241077681, 0
177869450, 241046512, 0
193667245, 240479918, 0
189993683, 240211271, 0
181072107, 241418256, 0
196100215, 241434938, 0
199044741, 241886432, 0
202650540, 242358239, 0
0, 243785415, 0
167037459, 243696975, 0
205380309, 242858941, 0
];
times(9, :, :) = [
20811075, 239730368, 0
129155201, 239736469, 0
172675696, 239951471, 0
187357764, 239966493, 0
170402855, 241098822, 0
177893447, 241067618, 0
193730988, 240501106, 0
190061492, 240232255, 0
181080813, 241439517, 0
196113053, 241456315, 0
199042977, 241907083, 0
202588052, 242378909, 0
0, 243810774, 0
167080742, 243721598, 0
205456992, 242879320, 0
];
times(10, :, :) = [
20804898, 239769886, 0
129143900, 239775896, 0
172689478, 239991135, 0
187367868, 240005830, 0
170428273, 241138100, 0
177962458, 241106833, 0
193743912, 240540459, 0
190087742, 240271213, 0
181160606, 241478816, 0
196144255, 241495412, 0
199082987, 241946600, 0
202619204, 242418367, 0
0, 243846556, 0
167112978, 243758385, 0
205494470, 242918694, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_write_times = ave_times;
times(1, :, :) = [
0, 267680448, 0
10233638, 267689535, 64000
19301104, 267926035, 128000
9951440, 267943413, 64000
9906049, 269154164, 64000
15344706, 269120511, 128000
9516861, 268518422, 64000
10498862, 268229408, 64000
18435804, 269510071, 128000
9950208, 269529371, 64000
10792547, 269993111, 64000
9577404, 270493538, 64000
28445372, 271991882, 255980
15193889, 271893659, 128000
10965266, 271005445, 64000
];
times(2, :, :) = [
0, 267676975, 0
10236263, 267686745, 64000
19311122, 267923062, 128000
9959862, 267940360, 64000
9912222, 269147270, 64000
15337426, 269113607, 128000
9505620, 268510915, 64000
10478580, 268221577, 64000
18430202, 269503413, 128000
9934329, 269522746, 64000
10749962, 269986233, 64000
9562544, 270487174, 64000
28431928, 271989315, 255980
15273007, 271896292, 128000
10815773, 270999017, 64000
];
times(3, :, :) = [
0, 267645740, 0
10230706, 267655219, 64000
19373095, 267891694, 128000
10007786, 267908787, 64000
9910360, 269118789, 64000
15339131, 269085159, 128000
9522941, 268482718, 64000
10274641, 268193351, 64000
18429500, 269474685, 128000
9960598, 269493773, 64000
10564442, 269957431, 64000
9592267, 270458256, 64000
28429703, 271965915, 255980
15303880, 271865610, 128000
10850770, 270970132, 64000
];
times(4, :, :) = [
0, 267573552, 0
10231651, 267582597, 64000
19373194, 267818621, 128000
10099109, 267835814, 64000
9916529, 269044487, 64000
15333071, 269010823, 128000
9510234, 268408384, 64000
10316298, 268119143, 64000
18449213, 269401008, 128000
9855093, 269420151, 64000
10605947, 269883570, 64000
9579190, 270384653, 64000
28429954, 271884677, 255980
15303428, 271789661, 128000
10892941, 270896701, 64000
];
times(5, :, :) = [
0, 267620462, 0
10231477, 267630206, 64000
19304237, 267866759, 128000
9999907, 267883312, 64000
9919526, 269087899, 64000
15422272, 269054236, 128000
9487774, 268452482, 64000
10373089, 268163104, 64000
18520313, 269443870, 128000
9888396, 269462933, 64000
10722617, 269926600, 64000
9588094, 270426088, 64000
28445700, 271933972, 255980
15208886, 271835238, 128000
10919829, 270937955, 64000
];
times(6, :, :) = [
0, 267649140, 0
10236749, 267658836, 64000
19306885, 267895087, 128000
10038623, 267912299, 64000
9910083, 269118252, 64000
15333064, 269084626, 128000
9495675, 268482566, 64000
10173464, 268193473, 64000
18434928, 269474118, 128000
9935751, 269493366, 64000
10751634, 269957415, 64000
9572035, 270458379, 64000
28433245, 271968280, 255980
15265580, 271870094, 128000
10820147, 270970175, 64000
];
times(7, :, :) = [
0, 267638340, 0
10235462, 267647898, 64000
19367203, 267884895, 128000
10086688, 267902026, 64000
9899940, 269108513, 64000
15397365, 269074859, 128000
9511753, 268472739, 64000
10324964, 268182993, 64000
18468480, 269464562, 128000
9920272, 269483736, 64000
10828281, 269949043, 64000
9727362, 270447706, 64000
28453937, 271953138, 255980
15135501, 271854917, 128000
11672782, 270960086, 64000
];
times(8, :, :) = [
0, 267604703, 0
10235783, 267614203, 64000
19383633, 267850612, 128000
10099516, 267867770, 64000
9904355, 269072534, 64000
15393397, 269038886, 128000
9510055, 268436532, 64000
10304272, 268147095, 64000
18456487, 269428427, 128000
9987557, 269447759, 64000
10713518, 269911583, 64000
9584491, 270412517, 64000
28436022, 271921162, 255980
15268682, 271823248, 128000
10842817, 270924429, 64000
];
times(9, :, :) = [
0, 267636965, 0
10231130, 267646276, 64000
19302654, 267882929, 128000
9960784, 267900344, 64000
9905426, 269104336, 64000
15398308, 269070695, 128000
9519074, 268468862, 64000
10500914, 268180063, 64000
18476152, 269460267, 128000
9920032, 269479537, 64000
10675911, 269942664, 64000
9664666, 270442974, 64000
28441973, 271943969, 255980
15197466, 271848828, 128000
11150486, 270955003, 64000
];
times(10, :, :) = [
0, 267669202, 0
10229280, 267678745, 64000
19301657, 267914920, 128000
9990705, 267932327, 64000
9906078, 269137560, 64000
15428602, 269103907, 128000
9492730, 268501633, 64000
10372736, 268212436, 64000
18490113, 269493672, 128000
9947767, 269512626, 64000
10776272, 269976035, 64000
9667921, 270475811, 64000
28440432, 271985413, 255980
15211376, 271888064, 128000
11102161, 270987517, 64000
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
read_times = ave_times;
times(1, :, :) = [
0, 239930790, 0
0, 239935660, 0
0, 240151174, 0
0, 240165806, 0
0, 241281539, 0
0, 241251496, 0
0, 240694455, 0
0, 240428823, 0
0, 241615586, 0
0, 241631787, 0
0, 242072312, 0
0, 242543304, 0
0, 243955681, 0
0, 243871008, 0
0, 243028521, 0
];
times(2, :, :) = [
0, 239927614, 0
0, 239931943, 0
0, 240148564, 0
0, 240163371, 0
0, 241278950, 0
0, 241249055, 0
0, 240692246, 0
0, 240427534, 0
0, 241613718, 0
0, 241629678, 0
0, 242069947, 0
0, 242539429, 0
0, 243956607, 0
0, 243870451, 0
0, 243024279, 0
];
times(3, :, :) = [
0, 239942477, 0
0, 239946786, 0
0, 240163805, 0
0, 240178408, 0
0, 241293186, 0
0, 241263246, 0
0, 240706914, 0
0, 240442024, 0
0, 241627262, 0
0, 241643014, 0
0, 242083028, 0
0, 242553576, 0
0, 243977735, 0
0, 243888980, 0
0, 243038872, 0
];
times(4, :, :) = [
0, 239918005, 0
0, 239922615, 0
0, 240138437, 0
0, 240153149, 0
0, 241269075, 0
0, 241239159, 0
0, 240681447, 0
0, 240417147, 0
0, 241603679, 0
0, 241619962, 0
0, 242059749, 0
0, 242527064, 0
0, 243950935, 0
0, 243860754, 0
0, 243013141, 0
];
times(5, :, :) = [
0, 239939631, 0
0, 239944190, 0
0, 240160865, 0
0, 240175534, 0
0, 241292527, 0
0, 241262493, 0
0, 240705699, 0
0, 240439665, 0
0, 241627338, 0
0, 241643548, 0
0, 242082791, 0
0, 242552033, 0
0, 243970650, 0
0, 243882602, 0
0, 243036144, 0
];
times(6, :, :) = [
0, 239962582, 0
0, 239967316, 0
0, 240183666, 0
0, 240198488, 0
0, 241315629, 0
0, 241285461, 0
0, 240727803, 0
0, 240461819, 0
0, 241649983, 0
0, 241665710, 0
0, 242106128, 0
0, 242576930, 0
0, 244001416, 0
0, 243911825, 0
0, 243061510, 0
];
times(7, :, :) = [
0, 239924418, 0
0, 239928865, 0
0, 240144836, 0
0, 240159618, 0
0, 241275597, 0
0, 241245491, 0
0, 240687521, 0
0, 240422894, 0
0, 241609898, 0
0, 241625889, 0
0, 242066000, 0
0, 242535732, 0
0, 243959552, 0
0, 243873497, 0
0, 243021731, 0
];
times(8, :, :) = [
0, 239930310, 0
0, 239934905, 0
0, 240151773, 0
0, 240166535, 0
0, 241281530, 0
0, 241251606, 0
0, 240694614, 0
0, 240430209, 0
0, 241614885, 0
0, 241630877, 0
0, 242071545, 0
0, 242543775, 0
0, 243966138, 0
0, 243879301, 0
0, 243029246, 0
];
times(9, :, :) = [
0, 239920969, 0
0, 239925854, 0
0, 240141646, 0
0, 240156291, 0
0, 241272608, 0
0, 241242597, 0
0, 240684959, 0
0, 240420510, 0
0, 241607191, 0
0, 241623417, 0
0, 242063183, 0
0, 242535194, 0
0, 243946636, 0
0, 243862374, 0
0, 243020545, 0
];
times(10, :, :) = [
0, 239973951, 0
0, 239978593, 0
0, 240195016, 0
0, 240209339, 0
0, 241326830, 0
0, 241296881, 0
0, 240738521, 0
0, 240473170, 0
0, 241661908, 0
0, 241677607, 0
0, 242118050, 0
0, 242590345, 0
0, 244003434, 0
0, 243919417, 0
0, 243075850, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
total_times = ave_times;
times(1, :, :) = [
34315763, 242316292, 64000
161799607, 242329573, 128000
184854862, 242537883, 64000
200126152, 242556259, 64000
196105821, 243668991, 128000
191537835, 243631917, 64000
206635459, 243083680, 64000
203114383, 242819186, 64000
194571516, 243994004, 64000
209927815, 244013862, 64000
213146236, 244452794, 64000
217148932, 244924502, 64000
0, 246342099, 0
184717004, 246253182, 64000
219539466, 245409855, 64000
];
times(2, :, :) = [
34245141, 242282212, 64000
161794019, 242295672, 128000
184873079, 242502731, 64000
200099237, 242520604, 64000
196095950, 243635137, 128000
191491777, 243597988, 64000
206586061, 243049395, 64000
203006012, 242784544, 64000
194567183, 243959693, 64000
209941272, 243979610, 64000
213122856, 244418394, 64000
217079832, 244888901, 64000
0, 246302882, 0
184681908, 246216098, 64000
219548210, 245374125, 64000
];
times(3, :, :) = [
34274675, 242316089, 64000
161776975, 242329126, 128000
184824147, 242536399, 64000
200072628, 242554525, 64000
196118914, 243668029, 128000
191531481, 243630987, 64000
206589581, 243081907, 64000
202990948, 242818013, 64000
194588640, 243991426, 64000
209958054, 244011344, 64000
213147286, 244449811, 64000
217145205, 244914926, 64000
0, 246334713, 0
184743089, 246242471, 64000
219403361, 245399553, 64000
];
times(4, :, :) = [
34262204, 242298733, 64000
161825091, 242311898, 128000
184897297, 242518968, 64000
200152514, 242537066, 64000
196119137, 243651803, 128000
191535058, 243614536, 64000
206641784, 243064591, 64000
203032404, 242799773, 64000
194597646, 243975396, 64000
209983602, 243994898, 64000
213193573, 244433616, 64000
217162563, 244902783, 64000
0, 246317935, 0
184727666, 246229338, 64000
219420189, 245387857, 64000
];
times(5, :, :) = [
34272769, 242305990, 64000
161769764, 242319183, 128000
184842252, 242526367, 64000
200083608, 242544459, 64000
196054000, 243659382, 128000
191464680, 243622157, 64000
206561785, 243072647, 64000
202960759, 242807796, 64000
194499755, 243983661, 64000
209911461, 244003415, 64000
213119854, 244441536, 64000
217107967, 244909945, 64000
0, 246325994, 0
184696388, 246235881, 64000
219489139, 245394906, 64000
];
times(6, :, :) = [
34205730, 242260630, 64000
161718095, 242273582, 128000
184799607, 242481981, 64000
200057261, 242500434, 64000
196056269, 243614018, 128000
191490521, 243576823, 64000
206577394, 243028425, 64000
203060931, 242763021, 64000
194485183, 243938490, 64000
209883151, 243958165, 64000
213051710, 244396793, 64000
217079550, 244865612, 64000
0, 246284438, 0
184697999, 246194773, 64000
219323890, 245350904, 64000
];
times(7, :, :) = [
34296782, 242353017, 64000
161849210, 242366075, 128000
184950913, 242573804, 64000
200217317, 242592064, 64000
196196925, 243705476, 128000
191638965, 243668351, 64000
206745199, 243120688, 64000
203211478, 242855076, 64000
194592230, 244029231, 64000
210012161, 244048873, 64000
213170605, 244488544, 64000
217180853, 244959556, 64000
0, 246371573, 0
184746946, 246284565, 64000
219556423, 245443998, 64000
];
times(8, :, :) = [
34274439, 242311158, 64000
161748359, 242324183, 128000
184825443, 242533443, 64000
200047467, 242551385, 64000
196062836, 243665200, 128000
191511315, 243628167, 64000
206622035, 243079484, 64000
203074755, 242814893, 64000
194526543, 243990130, 64000
209886717, 244009951, 64000
213133107, 244448192, 64000
217105863, 244915876, 64000
0, 246322200, 0
184720746, 246237987, 64000
219380039, 245401782, 64000
];
times(9, :, :) = [
34370301, 242413022, 64000
161869282, 242426018, 128000
184949856, 242633794, 64000
200155557, 242651668, 64000
196202255, 243767378, 128000
191656893, 243730156, 64000
206763199, 243180308, 64000
203213545, 242915116, 64000
194650532, 244091161, 64000
210024743, 244110661, 64000
213182047, 244549698, 64000
217229395, 245018848, 64000
0, 246436587, 0
184804096, 246344277, 64000
219642136, 245504807, 64000
];
times(10, :, :) = [
34294707, 242337558, 64000
161875422, 242350636, 128000
184965954, 242558102, 64000
200230555, 242576198, 64000
196225378, 243691315, 128000
191677961, 243654032, 64000
206798590, 243104058, 64000
203244685, 242839197, 64000
194635639, 244015452, 64000
210031225, 244035247, 64000
213252707, 244473553, 64000
217211871, 244941609, 64000
0, 246355198, 0
184729392, 246266417, 64000
219562695, 245427453, 64000
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
write_times = ave_times;
mytitle = 'v1\_16';
order = [1 2 3 4 8 7 6 5 9 10 11 12 15 14 13];

total_times = total_times(:, 2)(order);

read_times = read_times(:, 1)(order);
write_times = write_times(:, 1)(order);

polling_read_times = polling_read_times(:, 1)(order);
polling_write_times = polling_write_times(:, 1)(order);

total_times /= 1000000;

read_times /= 1000000;
write_times /= 1000000;

polling_read_times /= 1000000;
polling_write_times /= 1000000;

% laying read on top of write
read_times += write_times;
polling_read_times += write_times;

figure(1);
clf()
% set(gcf, 'Position', get(0,'Screensize'));
% set(gcf,'units','normalized','outerposition',[0 0 1 1])
bar(0:14, total_times,'g');
hold on;
bar(0:14, read_times,'b');
bar(0:14, polling_read_times,'r');
bar(0:14, write_times,'k');
bar(0:14, polling_write_times,'c');
hold off

axis([-2 16 0 300])
% axis([-1 15])
set(gca,'XTick',0:14);
set(gca,'xticklabel',{ '0'; '1'; '2'; '3'; '7'; '6'; '5'; '4'; '8'; '9'; '10'; '11'; '15'; '14'; '13' })

xlabel('Core ID')
ylabel('Cycles (Million)')

legend('total', 'read', 'p-read', 'write', 'p-write')
title(mytitle)
print(1, strcat(mytitle, '.png'))
