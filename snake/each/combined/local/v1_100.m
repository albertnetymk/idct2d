times(1, :, :) = [
0, 228680927, 0
0, 229356042, 0
580, 230115701, 0
0, 231104896, 0
0, 237550720, 0
0, 236506690, 0
182, 234378358, 0
0, 232704697, 0
0, 238705759, 0
174, 239966910, 0
0, 243163548, 0
121, 246148594, 0
0, 253488333, 0
0, 252834674, 0
0, 249166539, 0
];
times(2, :, :) = [
0, 228672851, 0
0, 229347081, 0
638, 230109002, 0
0, 231097290, 0
0, 237544887, 0
0, 236499850, 0
236, 234371148, 0
0, 232698186, 0
0, 238700517, 0
290, 239960263, 0
0, 243156792, 0
241, 246138736, 0
0, 253464019, 0
0, 252810262, 0
0, 249156719, 0
];
times(3, :, :) = [
0, 228689238, 0
0, 229361454, 0
464, 230120672, 0
0, 231109532, 0
0, 237553465, 0
0, 236509763, 0
299, 234382532, 0
0, 232709641, 0
0, 238709282, 0
870, 239971779, 0
0, 243166732, 0
0, 246156186, 0
0, 253494929, 0
0, 252842256, 0
0, 249174299, 0
];
times(4, :, :) = [
0, 228685469, 0
0, 229359416, 0
812, 230124020, 0
0, 231111524, 0
0, 237556184, 0
0, 236512374, 0
444, 234384633, 0
0, 232711917, 0
0, 238712379, 0
696, 239973988, 0
0, 243170172, 0
116, 246157099, 0
0, 253514157, 0
0, 252854111, 0
0, 249175520, 0
];
times(5, :, :) = [
0, 228694392, 0
0, 229367217, 0
754, 230127359, 0
0, 231115429, 0
0, 237558892, 0
0, 236514948, 0
66, 234388925, 0
0, 232716143, 0
0, 238714589, 0
1102, 239976802, 0
0, 243173232, 0
232, 246161794, 0
0, 253503017, 0
0, 252842118, 0
0, 249180252, 0
];
times(6, :, :) = [
0, 228692114, 0
0, 229365799, 0
58, 230124459, 0
0, 231114750, 0
0, 237561098, 0
0, 236517159, 0
364, 234388380, 0
0, 232714875, 0
0, 238715499, 0
290, 239977323, 0
0, 243172829, 0
182, 246157485, 0
0, 253506214, 0
0, 252848674, 0
0, 249175915, 0
];
times(7, :, :) = [
0, 228678600, 0
0, 229352457, 0
928, 230111924, 0
0, 231100650, 0
0, 237548821, 0
0, 236504568, 0
370, 234375498, 0
0, 232701446, 0
0, 238704569, 0
58, 239965388, 0
0, 243161451, 0
468, 246149160, 0
0, 253484804, 0
0, 252833944, 0
0, 249167417, 0
];
times(8, :, :) = [
0, 228683240, 0
0, 229356211, 0
638, 230116385, 0
0, 231104243, 0
0, 237549427, 0
0, 236504665, 0
353, 234378313, 0
0, 232704446, 0
0, 238705245, 0
174, 239967590, 0
0, 243164062, 0
0, 246147287, 0
0, 253490093, 0
0, 252831142, 0
0, 249165457, 0
];
times(9, :, :) = [
0, 228693530, 0
0, 229366434, 0
754, 230126183, 0
0, 231115077, 0
0, 237562398, 0
0, 236518384, 0
541, 234390498, 0
0, 232715759, 0
0, 238719256, 0
996, 239980206, 0
0, 243178545, 0
410, 246160284, 0
0, 253500411, 0
0, 252843310, 0
0, 249178538, 0
];
times(10, :, :) = [
0, 228681088, 0
0, 229354134, 0
406, 230113674, 0
0, 231101120, 0
0, 237547661, 0
0, 236502948, 0
305, 234375576, 0
0, 232701958, 0
0, 238703996, 0
232, 239964997, 0
0, 243161607, 0
232, 246152622, 0
0, 253496700, 0
0, 252843202, 0
0, 249170483, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_read_times = ave_times;
times(1, :, :) = [
8043663, 226842429, 0
68360536, 227512442, 0
77998825, 228264492, 0
91217091, 229247571, 0
120662232, 235518362, 0
119866498, 234506941, 0
118562028, 232450532, 0
104538269, 230838358, 0
133443111, 236632210, 0
151385514, 237848642, 0
167169286, 240927040, 0
182402307, 243763523, 0
0, 250902373, 0
171923976, 250243660, 0
196545226, 246682518, 0
];
times(2, :, :) = [
8021539, 226813812, 0
68313651, 227483419, 0
77922099, 228236039, 0
91149215, 229218017, 0
120610395, 235492122, 0
119823472, 234479855, 0
118512357, 232420405, 0
104462515, 230808501, 0
133383117, 236605454, 0
151334493, 237822697, 0
167115322, 240901406, 0
182382987, 243743816, 0
0, 250886055, 0
171897894, 250231473, 0
196535761, 246663343, 0
];
times(3, :, :) = [
8026890, 226811101, 0
68338019, 227481114, 0
77966087, 228232048, 0
91178076, 229215421, 0
120597679, 235484743, 0
119814130, 234473683, 0
118507043, 232417856, 0
104521535, 230806521, 0
133377231, 236597881, 0
151329517, 237814171, 0
167119778, 240892394, 0
182401709, 243733424, 0
0, 250877026, 0
171870178, 250217503, 0
196533481, 246653409, 0
];
times(4, :, :) = [
8032237, 226813844, 0
68331592, 227482288, 0
77959025, 228234634, 0
91165412, 229216745, 0
120620746, 235488834, 0
119822430, 234478733, 0
118506870, 232419313, 0
104496715, 230807509, 0
133394893, 236603360, 0
151351398, 237819352, 0
167133003, 240896019, 0
182395159, 243744663, 0
0, 250894221, 0
171905132, 250242849, 0
196580819, 246663416, 0
];
times(5, :, :) = [
8033111, 226828303, 0
68331421, 227499362, 0
77937037, 228250411, 0
91168164, 229232761, 0
120652285, 235503882, 0
119847793, 234492659, 0
118531816, 232434670, 0
104470618, 230823058, 0
133419400, 236618660, 0
151381835, 237835393, 0
167149821, 240914082, 0
182406807, 243752772, 0
0, 250880984, 0
171913289, 250231772, 0
196560781, 246672697, 0
];
times(6, :, :) = [
8043714, 226821211, 0
68361376, 227491535, 0
77983660, 228243493, 0
91209177, 229226586, 0
120663497, 235499688, 0
119887053, 234488226, 0
118590442, 232430758, 0
104553447, 230817557, 0
133429822, 236615195, 0
151402608, 237832142, 0
167158217, 240912500, 0
182432391, 243759300, 0
0, 250874466, 0
171896834, 250228264, 0
196563574, 246678438, 0
];
times(7, :, :) = [
8029644, 226809771, 0
68345905, 227478353, 0
77973600, 228227030, 0
91189806, 229209426, 0
120655278, 235478449, 0
119869718, 234467890, 0
118589196, 232412011, 0
104533852, 230800365, 0
133428356, 236591402, 0
151385071, 237806720, 0
167160409, 240884632, 0
182423222, 243730191, 0
0, 250858791, 0
171906205, 250205626, 0
196589713, 246650095, 0
];
times(8, :, :) = [
8028266, 226815397, 0
68337135, 227485194, 0
77962430, 228236642, 0
91162895, 229219589, 0
120632192, 235490533, 0
119840285, 234480309, 0
118538043, 232423306, 0
104510397, 230810659, 0
133399416, 236603982, 0
151340726, 237819527, 0
167108965, 240896461, 0
182307503, 243732183, 0
0, 250854734, 0
171883276, 250198464, 0
196526950, 246651401, 0
];
times(9, :, :) = [
8041211, 226829440, 0
68368006, 227499493, 0
77981353, 228249091, 0
91220091, 229232076, 0
120650645, 235501864, 0
119853027, 234490618, 0
118560122, 232434192, 0
104565310, 230821608, 0
133406002, 236615266, 0
151340464, 237832116, 0
167121447, 240910352, 0
182376455, 243749903, 0
0, 250884621, 0
171878337, 250229034, 0
196565324, 246669096, 0
];
times(10, :, :) = [
8035345, 226817961, 0
68402991, 227487660, 0
78043252, 228240945, 0
91227069, 229223218, 0
120691543, 235493436, 0
119902916, 234483367, 0
118583302, 232426447, 0
104554855, 230814281, 0
133450261, 236606627, 0
151396438, 237823654, 0
167150991, 240898381, 0
182418933, 243736533, 0
0, 250874418, 0
171913418, 250215768, 0
196551476, 246655503, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_write_times = ave_times;
times(1, :, :) = [
0, 253939359, 0
9694523, 254675787, 64000
19401823, 255495378, 128000
9859445, 256531493, 64000
10123639, 263481892, 64000
15853853, 262364187, 128000
9840190, 260069890, 64000
10476549, 258259819, 64000
19350165, 264714520, 128000
9607179, 266048778, 64000
10757973, 269404618, 64000
9715708, 272519794, 64000
28571123, 280232545, 255980
15308297, 279525469, 128000
11024999, 275716451, 64000
];
times(2, :, :) = [
0, 253958618, 0
9688618, 254696011, 64000
19403023, 255514567, 128000
9853490, 256550995, 64000
10118661, 263498993, 64000
15903965, 262381250, 128000
9818401, 260087201, 64000
10558925, 258276922, 64000
19352278, 264731858, 128000
9562570, 266066829, 64000
10824458, 269421991, 64000
9709971, 272541047, 64000
28568581, 280249326, 255980
15286666, 279543195, 128000
11093335, 275738407, 64000
];
times(3, :, :) = [
0, 253951094, 0
9692911, 254688586, 64000
19386638, 255507257, 128000
9840886, 256541921, 64000
10116506, 263484849, 64000
15899252, 262367035, 128000
9803250, 260073489, 64000
10423278, 258262837, 64000
19340167, 264716939, 128000
9638589, 266051359, 64000
10759168, 269408060, 64000
9778167, 272526802, 64000
28569245, 280233471, 255980
15309351, 279522682, 128000
11077094, 275724138, 64000
];
times(4, :, :) = [
0, 253974504, 0
9706885, 254710472, 64000
19403164, 255527862, 128000
9857194, 256564931, 64000
10123201, 263500635, 64000
15860998, 262382498, 128000
9817217, 260088570, 64000
10469956, 258278201, 64000
19326122, 264732014, 128000
9633256, 266066995, 64000
10781409, 269420539, 64000
9774104, 272540831, 64000
28566885, 280232404, 255980
15317159, 279528318, 128000
11027962, 275737481, 64000
];
times(5, :, :) = [
0, 253969826, 0
9709203, 254705763, 64000
19408947, 255523252, 128000
9869431, 256559378, 64000
10130489, 263513516, 64000
15849814, 262395693, 128000
9828145, 260101775, 64000
10548826, 258291411, 64000
19352802, 264748430, 128000
9565490, 266083152, 64000
10786955, 269440158, 64000
9788109, 272556579, 64000
28567260, 280265247, 255980
15311929, 279561219, 128000
11196748, 275753451, 64000
];
times(6, :, :) = [
0, 253968172, 0
9691141, 254706407, 64000
19391528, 255524017, 128000
9768806, 256573014, 64000
10115030, 263509032, 64000
15913064, 262391781, 128000
9808553, 260097856, 64000
10617524, 258287313, 64000
19348968, 264744448, 128000
9667406, 266079022, 64000
10746596, 269436338, 64000
9745191, 272554988, 64000
28569979, 280264768, 255980
15286280, 279560873, 128000
11032944, 275752315, 64000
];
times(7, :, :) = [
0, 253950331, 0
9703795, 254688424, 64000
19384498, 255506539, 128000
9737504, 256541939, 64000
10111980, 263490211, 64000
15899058, 262372373, 128000
9798926, 260078416, 64000
10631618, 258268720, 64000
19354273, 264722370, 128000
9568988, 266056976, 64000
10816466, 269412880, 64000
9707388, 272530204, 64000
28570518, 280235470, 255980
15295198, 279530587, 128000
11025992, 275727625, 64000
];
times(8, :, :) = [
0, 253970613, 0
9685820, 254707078, 64000
19387262, 255525124, 128000
9769799, 256563396, 64000
10120364, 263510917, 64000
15904747, 262393349, 128000
9818736, 260099596, 64000
10601183, 258287103, 64000
19346265, 264743961, 128000
9681748, 266078393, 64000
10773332, 269433699, 64000
9891367, 272547012, 64000
28573807, 280251167, 255980
15253323, 279547471, 128000
11625856, 275743800, 64000
];
times(9, :, :) = [
0, 253958879, 0
9706959, 254696753, 64000
19387798, 255513915, 128000
9766010, 256547329, 64000
10118664, 263483030, 64000
15909612, 262364377, 128000
9814535, 260070986, 64000
10621442, 258260820, 64000
19321490, 264714886, 128000
9642253, 266049176, 64000
10793569, 269404670, 64000
9898189, 272523827, 64000
28572584, 280222761, 255980
15249997, 279521919, 128000
11650014, 275720814, 64000
];
times(10, :, :) = [
0, 253988357, 0
9690784, 254725917, 64000
19401234, 255544263, 128000
9860910, 256582069, 64000
10121090, 263519000, 64000
15858062, 262401463, 128000
9819159, 260107783, 64000
10527776, 258297432, 64000
19357725, 264750769, 128000
9687145, 266085511, 64000
10695802, 269441210, 64000
9897066, 272560274, 64000
28573694, 280257789, 255980
15259107, 279560753, 128000
11615956, 275757367, 64000
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
read_times = ave_times;
times(1, :, :) = [
0, 226921830, 0
0, 227590758, 0
0, 228340896, 0
0, 229322796, 0
0, 235596326, 0
0, 234586420, 0
0, 232527662, 0
0, 230913818, 0
0, 236710505, 0
0, 237927190, 0
0, 241007428, 0
0, 243849261, 0
0, 250989638, 0
0, 250335580, 0
0, 246767343, 0
];
times(2, :, :) = [
0, 226913144, 0
0, 227582481, 0
0, 228335795, 0
0, 229318675, 0
0, 235593810, 0
0, 234582151, 0
0, 232521037, 0
0, 230909509, 0
0, 236707648, 0
0, 237922566, 0
0, 241003156, 0
0, 243844754, 0
0, 250997929, 0
0, 250337039, 0
0, 246764832, 0
];
times(3, :, :) = [
0, 226917545, 0
0, 227586847, 0
0, 228340358, 0
0, 229324900, 0
0, 235599772, 0
0, 234588284, 0
0, 232528049, 0
0, 230915335, 0
0, 236714934, 0
0, 237931351, 0
0, 241012315, 0
0, 243852636, 0
0, 250975421, 0
0, 250325127, 0
0, 246771996, 0
];
times(4, :, :) = [
0, 226908947, 0
0, 227578600, 0
0, 228330016, 0
0, 229314123, 0
0, 235587925, 0
0, 234576152, 0
0, 232516767, 0
0, 230904161, 0
0, 236703016, 0
0, 237919556, 0
0, 240998845, 0
0, 243846993, 0
0, 250981184, 0
0, 250327457, 0
0, 246765869, 0
];
times(5, :, :) = [
0, 226933890, 0
0, 227602887, 0
0, 228355472, 0
0, 229338386, 0
0, 235609153, 0
0, 234597922, 0
0, 232541511, 0
0, 230929381, 0
0, 236723698, 0
0, 237940596, 0
0, 241020324, 0
0, 243859309, 0
0, 250994758, 0
0, 250341553, 0
0, 246779171, 0
];
times(6, :, :) = [
0, 226917553, 0
0, 227585288, 0
0, 228336931, 0
0, 229320375, 0
0, 235593359, 0
0, 234580392, 0
0, 232523265, 0
0, 230910367, 0
0, 236707451, 0
0, 237925254, 0
0, 241007321, 0
0, 243844355, 0
0, 250978583, 0
0, 250328750, 0
0, 246764007, 0
];
times(7, :, :) = [
0, 226913615, 0
0, 227580921, 0
0, 228332395, 0
0, 229317091, 0
0, 235594327, 0
0, 234582619, 0
0, 232522178, 0
0, 230908315, 0
0, 236707841, 0
0, 237926143, 0
0, 241005030, 0
0, 243851710, 0
0, 250986173, 0
0, 250344108, 0
0, 246770531, 0
];
times(8, :, :) = [
0, 226921833, 0
0, 227588878, 0
0, 228340521, 0
0, 229323452, 0
0, 235598397, 0
0, 234587156, 0
0, 232526948, 0
0, 230914146, 0
0, 236713765, 0
0, 237932762, 0
0, 241013588, 0
0, 243856909, 0
0, 250996617, 0
0, 250345245, 0
0, 246776466, 0
];
times(9, :, :) = [
0, 226923088, 0
0, 227591132, 0
0, 228342772, 0
0, 229327480, 0
0, 235601057, 0
0, 234589359, 0
0, 232530279, 0
0, 230917324, 0
0, 236714712, 0
0, 237930248, 0
0, 241004388, 0
0, 243845935, 0
0, 250989716, 0
0, 250328025, 0
0, 246764572, 0
];
times(10, :, :) = [
0, 226939417, 0
0, 227608965, 0
0, 228362219, 0
0, 229345456, 0
0, 235618282, 0
0, 234607727, 0
0, 232547620, 0
0, 230935514, 0
0, 236733636, 0
0, 237951332, 0
0, 241031992, 0
0, 243885463, 0
0, 251024128, 0
0, 250366920, 0
0, 246804165, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
total_times = ave_times;
times(1, :, :) = [
21552626, 229583836, 64000
83890828, 230257569, 128000
78473738, 231005849, 64000
91244503, 231983090, 64000
141588491, 238253922, 128000
126214521, 237242072, 64000
122076346, 235189403, 64000
106290407, 233574778, 64000
141132270, 239366498, 64000
159153059, 240585034, 64000
176701754, 243658848, 64000
193864149, 246506386, 64000
0, 253627336, 0
189418810, 252975753, 64000
209269598, 249427128, 64000
];
times(2, :, :) = [
21527456, 229584502, 64000
83879090, 230260813, 128000
78466710, 231008929, 64000
91195555, 231986828, 64000
141488380, 238260262, 128000
126136433, 237247415, 64000
121929860, 235191049, 64000
106200455, 233578951, 64000
141009863, 239370170, 64000
159088999, 240588987, 64000
176689390, 243662777, 64000
193874726, 246509265, 64000
0, 253607040, 0
189410710, 252961365, 64000
209568240, 249430019, 64000
];
times(3, :, :) = [
21527472, 229567086, 64000
84066601, 230241203, 128000
78708607, 230990199, 64000
91450415, 231967067, 64000
141586176, 238235274, 128000
126232023, 237223831, 64000
122142340, 235170219, 64000
106437251, 233558101, 64000
141086279, 239347443, 64000
159082418, 240564173, 64000
176672014, 243639165, 64000
193831724, 246477068, 64000
0, 253617981, 0
189390419, 252956305, 64000
209471217, 249396529, 64000
];
times(4, :, :) = [
21541545, 229582840, 64000
84023224, 230257528, 128000
78642567, 231006162, 64000
91364572, 231984193, 64000
141688815, 238254865, 128000
126294411, 237241947, 64000
122148920, 235187371, 64000
106382649, 233576151, 64000
141208000, 239366017, 64000
159303608, 240583593, 64000
176780272, 243657308, 64000
193958923, 246498993, 64000
0, 253624954, 0
189421094, 252971218, 64000
209321870, 249420469, 64000
];
times(5, :, :) = [
21513501, 229566294, 64000
83818697, 230241123, 128000
78412634, 230990906, 64000
91162185, 231968467, 64000
141448797, 238240687, 128000
126089692, 237228832, 64000
121921094, 235176433, 64000
106178852, 233560536, 64000
140942466, 239350973, 64000
158998649, 240566537, 64000
176525862, 243639772, 64000
193784688, 246490350, 64000
0, 253622969, 0
189393335, 252963884, 64000
209418628, 249412205, 64000
];
times(6, :, :) = [
21508845, 229567946, 64000
83866415, 230241477, 128000
78511984, 230992447, 64000
91244833, 231969841, 64000
141491029, 238241285, 128000
126141429, 237228585, 64000
121975669, 235175696, 64000
106208773, 233562888, 64000
141004578, 239349919, 64000
159092344, 240568541, 64000
176616707, 243643148, 64000
193855209, 246489506, 64000
0, 253633991, 0
189405012, 252981804, 64000
209272758, 249410947, 64000
];
times(7, :, :) = [
21541435, 229577736, 64000
83944381, 230255105, 128000
78481945, 231001109, 64000
91230194, 231979561, 64000
141435835, 238248582, 128000
126101245, 237235959, 64000
121958442, 235184899, 64000
106244043, 233572456, 64000
140973512, 239359490, 64000
159003228, 240577708, 64000
176537046, 243652588, 64000
193645882, 246491592, 64000
0, 253608620, 0
189360982, 252954145, 64000
209251470, 249413383, 64000
];
times(8, :, :) = [
21551105, 229596180, 64000
83799198, 230271204, 128000
78400613, 231018016, 64000
91104939, 231994955, 64000
141503539, 238264693, 128000
126103980, 237253070, 64000
121892559, 235200904, 64000
106134305, 233586066, 64000
141058520, 239375124, 64000
159061822, 240592041, 64000
176702427, 243665508, 64000
193875209, 246509425, 64000
0, 253639001, 0
189417073, 252995344, 64000
209527117, 249429603, 64000
];
times(9, :, :) = [
21524446, 229562338, 64000
84085496, 230235944, 128000
78691763, 230986061, 64000
91414029, 231963222, 64000
141593366, 238232020, 128000
126249773, 237220410, 64000
122133975, 235169390, 64000
106403092, 233555509, 64000
141126849, 239343261, 64000
159168166, 240560152, 64000
176708380, 243636102, 64000
193813210, 246486290, 64000
0, 253610799, 0
189387064, 252968348, 64000
209406717, 249407241, 64000
];
times(10, :, :) = [
21581238, 229605784, 64000
84128164, 230278716, 128000
78756570, 231027640, 64000
91489624, 232005208, 64000
141609637, 238277783, 128000
126277620, 237264968, 64000
122155660, 235211855, 64000
106402500, 233597185, 64000
141166944, 239390826, 64000
159166760, 240608822, 64000
176695080, 243681966, 64000
193885740, 246527636, 64000
0, 253664797, 0
189458404, 253010647, 64000
209275446, 249447289, 64000
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
write_times = ave_times;
mytitle = 'v1\_100';
order = [1 2 3 4 8 7 6 5 9 10 11 12 15 14 13];

total_times = total_times(:, 2)(order);

read_times = read_times(:, 1)(order);
write_times = write_times(:, 1)(order);

polling_read_times = polling_read_times(:, 1)(order);
polling_write_times = polling_write_times(:, 1)(order);

total_times /= 1000000;

read_times /= 1000000;
write_times /= 1000000;

polling_read_times /= 1000000;
polling_write_times /= 1000000;

% laying read on top of write
read_times += write_times;
polling_read_times += write_times;

figure(1);
clf()
% set(gcf, 'Position', get(0,'Screensize'));
% set(gcf,'units','normalized','outerposition',[0 0 1 1])
bar(0:14, total_times,'g');
hold on;
bar(0:14, read_times,'b');
bar(0:14, polling_read_times,'r');
bar(0:14, write_times,'k');
bar(0:14, polling_write_times,'c');
hold off

axis([-2 16 0 300])
% axis([-1 15])
set(gca,'XTick',0:14);
set(gca,'xticklabel',{ '0'; '1'; '2'; '3'; '7'; '6'; '5'; '4'; '8'; '9'; '10'; '11'; '15'; '14'; '13' })

xlabel('Core ID')
ylabel('Cycles (Million)')

legend('total', 'read', 'p-read', 'write', 'p-write')
title(mytitle)
print(1, strcat(mytitle, '.png'))
