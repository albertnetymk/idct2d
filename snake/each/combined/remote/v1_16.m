times(1, :, :) = [
0, 241319299, 0
0, 241321578, 0
0, 241539576, 0
0, 241552166, 0
0, 242686417, 0
0, 242660191, 0
0, 242087308, 0
0, 241817807, 0
0, 243034248, 0
0, 243047831, 0
0, 243500675, 0
1537, 243974299, 0
0, 245425749, 0
0, 245334559, 0
0, 244475999, 0
];
times(2, :, :) = [
0, 241354561, 0
0, 241356903, 0
0, 241576546, 0
0, 241589359, 0
0, 242723734, 0
0, 242697452, 0
124, 242124295, 0
0, 241854490, 0
0, 243071557, 0
0, 243085681, 0
0, 243538229, 0
1180, 244014957, 0
0, 245469132, 0
0, 245381413, 0
0, 244517179, 0
];
times(3, :, :) = [
0, 241316749, 0
0, 241319219, 0
0, 241538517, 0
0, 241551083, 0
0, 242687283, 0
0, 242660815, 0
116, 242087190, 0
0, 241816833, 0
0, 243034505, 0
0, 243048322, 0
0, 243500762, 0
888, 243976410, 0
0, 245437316, 0
0, 245345159, 0
0, 244478401, 0
];
times(4, :, :) = [
0, 241355094, 0
0, 241357385, 0
0, 241575568, 0
0, 241588357, 0
0, 242721781, 0
0, 242695603, 0
0, 242122827, 0
0, 241853154, 0
0, 243069634, 0
0, 243083429, 0
0, 243535700, 0
1003, 244011705, 0
0, 245458830, 0
0, 245367615, 0
0, 244515128, 0
];
times(5, :, :) = [
0, 241383626, 0
0, 241385822, 0
0, 241603911, 0
0, 241616445, 0
0, 242752160, 0
0, 242725907, 0
0, 242152259, 0
0, 241881738, 0
0, 243100161, 0
0, 243114023, 0
0, 243566582, 0
893, 244042579, 0
0, 245499214, 0
0, 245410830, 0
0, 244544536, 0
];
times(6, :, :) = [
0, 241241219, 0
0, 241243663, 0
0, 241462796, 0
0, 241475467, 0
0, 242611383, 0
0, 242585014, 0
0, 242011141, 0
0, 241740934, 0
0, 242958462, 0
0, 242972469, 0
0, 243424399, 0
1711, 243899419, 0
0, 245354823, 0
0, 245264997, 0
0, 244402626, 0
];
times(7, :, :) = [
0, 241333334, 0
0, 241335818, 0
0, 241554256, 0
0, 241567055, 0
0, 242701926, 0
0, 242675686, 0
0, 242102283, 0
0, 241832697, 0
0, 243049716, 0
0, 243063630, 0
0, 243516768, 0
1416, 243993384, 0
0, 245445813, 0
0, 245357492, 0
0, 244496231, 0
];
times(8, :, :) = [
0, 241303335, 0
0, 241305738, 0
0, 241523035, 0
0, 241535377, 0
0, 242669825, 0
0, 242643578, 0
58, 242070878, 0
0, 241800621, 0
0, 243017115, 0
0, 243031251, 0
0, 243482559, 0
1537, 243960734, 0
0, 245415253, 0
0, 245323923, 0
0, 244463461, 0
];
times(9, :, :) = [
0, 241271563, 0
0, 241273837, 0
0, 241493658, 0
0, 241506309, 0
0, 242642558, 0
0, 242616194, 0
116, 242042639, 0
0, 241772159, 0
0, 242989660, 0
0, 243003639, 0
0, 243455726, 0
1121, 243932187, 0
0, 245382790, 0
0, 245293846, 0
0, 244434999, 0
];
times(10, :, :) = [
0, 241288903, 0
0, 241291196, 0
0, 241508158, 0
0, 241521021, 0
0, 242656738, 0
0, 242630458, 0
178, 242056368, 0
0, 241787179, 0
0, 243005348, 0
0, 243019392, 0
0, 243471197, 0
1242, 243947032, 0
0, 245391964, 0
0, 245305951, 0
0, 244448033, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_read_times = ave_times;
times(1, :, :) = [
23445225, 239570997, 0
132125040, 239573482, 0
179986277, 239791051, 0
193448755, 239804481, 0
178862970, 240937044, 0
182541171, 240909734, 0
199386747, 240338335, 0
195921426, 240069111, 0
188026604, 241282222, 0
201498305, 241296920, 0
204138935, 241747863, 0
207467386, 242220642, 0
0, 243668170, 0
167923508, 243581816, 0
210036065, 242723311, 0
];
times(2, :, :) = [
23447635, 239579456, 0
132077079, 239581814, 0
179931886, 239799776, 0
193385556, 239813127, 0
178791769, 240945291, 0
182478198, 240918173, 0
199287482, 240347149, 0
195843801, 240078463, 0
187987825, 241290656, 0
201445121, 241305405, 0
204120050, 241755852, 0
207460463, 242227289, 0
0, 243682193, 0
167927568, 243589611, 0
210061699, 242728813, 0
];
times(3, :, :) = [
23366580, 239551742, 0
131990985, 239554279, 0
179839058, 239773285, 0
193282751, 239786660, 0
178726240, 240918909, 0
182406882, 240891741, 0
199219723, 240320679, 0
195722245, 240051732, 0
187897070, 241264675, 0
201421922, 241279037, 0
204077402, 241730202, 0
207444133, 242202010, 0
0, 243652090, 0
167891118, 243559880, 0
210045625, 242704980, 0
];
times(4, :, :) = [
23418340, 239544542, 0
132111640, 239546902, 0
179965028, 239764955, 0
193400944, 239777856, 0
178816171, 240910506, 0
182500519, 240883178, 0
199345347, 240312103, 0
195864345, 240042951, 0
188005335, 241255765, 0
201459158, 241269949, 0
204148576, 241721190, 0
207509190, 242194694, 0
0, 243645711, 0
167883680, 243554027, 0
210066886, 242697574, 0
];
times(5, :, :) = [
23559072, 239648202, 0
132243316, 239650543, 0
180114346, 239868800, 0
193544629, 239881936, 0
178951461, 241014175, 0
182627072, 240986920, 0
199462054, 240415819, 0
195982419, 240146682, 0
188125727, 241359520, 0
201561779, 241373843, 0
204209963, 241825607, 0
207539199, 242296922, 0
0, 243737141, 0
167984549, 243648253, 0
210133228, 242797755, 0
];
times(6, :, :) = [
23404058, 239556459, 0
132037554, 239558735, 0
179874971, 239776698, 0
193338441, 239790057, 0
178782198, 240922291, 0
182470957, 240895061, 0
199290005, 240324019, 0
195785716, 240054876, 0
187957203, 241267792, 0
201442742, 241282099, 0
204100867, 241733614, 0
207450614, 242204505, 0
0, 243653239, 0
167891939, 243564036, 0
210003634, 242707161, 0
];
times(7, :, :) = [
23438739, 239560695, 0
132017754, 239563238, 0
179823008, 239781535, 0
193288272, 239794724, 0
178745300, 240926906, 0
182412524, 240899577, 0
199231975, 240328270, 0
195740345, 240059356, 0
187911126, 241272579, 0
201413725, 241287253, 0
204049809, 241738796, 0
207412563, 242210203, 0
0, 243657138, 0
167908224, 243565965, 0
210008201, 242711536, 0
];
times(8, :, :) = [
23421112, 239575136, 0
132019593, 239577559, 0
179852780, 239796139, 0
193326127, 239809399, 0
178770253, 240941520, 0
182463445, 240914384, 0
199280772, 240343165, 0
195806411, 240073880, 0
187971383, 241287250, 0
201475955, 241301858, 0
204123554, 241752747, 0
207485905, 242223408, 0
0, 243670481, 0
167916364, 243581303, 0
210071262, 242725109, 0
];
times(9, :, :) = [
23409155, 239549033, 0
132079060, 239551324, 0
179928435, 239768211, 0
193388375, 239781345, 0
178815284, 240913264, 0
182475560, 240885895, 0
199293715, 240314864, 0
195824720, 240045850, 0
187985190, 241258739, 0
201453503, 241273539, 0
204115377, 241724825, 0
207463206, 242195471, 0
0, 243637733, 0
167882212, 243550328, 0
210033969, 242698015, 0
];
times(10, :, :) = [
23405797, 239540762, 0
132009785, 239543254, 0
179864644, 239760876, 0
193324698, 239773971, 0
178763381, 240906075, 0
182443623, 240878894, 0
199239539, 240307785, 0
195765404, 240038477, 0
187930495, 241251428, 0
201408849, 241265897, 0
204076985, 241717129, 0
207427429, 242188042, 0
0, 243630146, 0
167880121, 243541054, 0
210017258, 242689968, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_write_times = ave_times;
times(1, :, :) = [
0, 266514795, 0
8890281, 266519537, 64000
16058224, 266759446, 128000
8399727, 266773487, 64000
8140767, 267978010, 64000
13586049, 267948219, 128000
7873433, 267343153, 64000
7942716, 267053258, 64000
15619421, 268338490, 128000
8366520, 268354020, 64000
7956602, 268818712, 64000
7884310, 269318090, 64000
26023714, 270839443, 255980
13507913, 270742474, 128000
8024009, 269833671, 64000
];
times(2, :, :) = [
0, 266438547, 0
8891323, 266443238, 64000
16055804, 266683255, 128000
8401141, 266697448, 64000
8138938, 267904230, 64000
13611677, 267874325, 128000
7883149, 267268326, 64000
7942766, 266979095, 64000
15663068, 268264489, 128000
8371462, 268280454, 64000
7958534, 268744810, 64000
7884469, 269241621, 64000
26037574, 270762154, 255980
13508966, 270662269, 128000
8024347, 269756924, 64000
];
times(3, :, :) = [
0, 266457540, 0
8897976, 266462356, 64000
16060224, 266701357, 128000
8378567, 266715452, 64000
8139929, 267920622, 64000
13612888, 267890854, 128000
7862365, 267284894, 64000
7938750, 266995453, 64000
15643366, 268281010, 128000
8370942, 268297021, 64000
7976794, 268761751, 64000
7896678, 269258748, 64000
26037866, 270773667, 255980
13556328, 270678022, 128000
8063726, 269773868, 64000
];
times(4, :, :) = [
0, 266436718, 0
8895427, 266442080, 64000
16028857, 266682299, 128000
8367252, 266696723, 64000
8140117, 267901863, 64000
13585154, 267872091, 128000
7863290, 267266845, 64000
7944199, 266977222, 64000
15664477, 268262166, 128000
8365827, 268278088, 64000
7950035, 268742633, 64000
7853409, 269237237, 64000
26037607, 270757237, 255980
13548862, 270657609, 128000
7983072, 269752749, 64000
];
times(5, :, :) = [
0, 266528139, 0
8896970, 266533587, 64000
16057456, 266773958, 128000
8396613, 266787730, 64000
8137861, 267991768, 64000
13611791, 267961974, 128000
7880922, 267356587, 64000
7941600, 267067162, 64000
15622566, 268352215, 128000
8364183, 268367803, 64000
7963442, 268832681, 64000
7930528, 269331312, 64000
26022869, 270853716, 255980
13558777, 270755410, 128000
8079247, 269848148, 64000
];
times(6, :, :) = [
0, 266456453, 0
8889973, 266461586, 64000
16058643, 266701390, 128000
8398644, 266715249, 64000
8141059, 267920118, 64000
13614059, 267890216, 128000
7855939, 267284326, 64000
7941416, 266994801, 64000
15633130, 268280378, 128000
8377754, 268295911, 64000
7969284, 268760701, 64000
7853797, 269259109, 64000
26038375, 270779810, 255980
13552387, 270685196, 128000
7986106, 269777257, 64000
];
times(7, :, :) = [
0, 266397305, 0
8899007, 266402374, 64000
16055801, 266642450, 128000
8379572, 266656438, 64000
8140231, 267861668, 64000
13613408, 267831755, 128000
7862342, 267226043, 64000
7938190, 266936251, 64000
15635336, 268221596, 128000
8346443, 268237670, 64000
7945578, 268702868, 64000
7851355, 269200999, 64000
26038532, 270722115, 255980
13552736, 270624824, 128000
7983670, 269717141, 64000
];
times(8, :, :) = [
0, 266432040, 0
8887208, 266436360, 64000
16025724, 266676350, 128000
8395727, 266690420, 64000
8139484, 267894969, 64000
13612762, 267865222, 128000
7886109, 267259803, 64000
7944724, 266970475, 64000
15624612, 268255183, 128000
8373599, 268270859, 64000
7980671, 268735681, 64000
7903247, 269233795, 64000
26036081, 270747451, 255980
13556738, 270652418, 128000
8062912, 269750561, 64000
];
times(9, :, :) = [
0, 266527131, 0
8891444, 266532453, 64000
16027262, 266772540, 128000
8394593, 266786924, 64000
8139379, 267992576, 64000
13609948, 267962704, 128000
7883317, 267357075, 64000
7940073, 267067278, 64000
15631128, 268352682, 128000
8346649, 268368777, 64000
7945692, 268833729, 64000
7851051, 269332022, 64000
26023275, 270850898, 255980
13552784, 270754848, 128000
7981958, 269848620, 64000
];
times(10, :, :) = [
0, 266438923, 0
8889819, 266443884, 64000
16024845, 266684164, 128000
8366266, 266698536, 64000
8139477, 267904813, 64000
13614632, 267874867, 128000
7862274, 267268519, 64000
7938225, 266978983, 64000
15632137, 268264800, 128000
8361163, 268280454, 64000
7949142, 268745678, 64000
7846324, 269243445, 64000
26036718, 270761121, 255980
13512723, 270667818, 128000
8084016, 269759337, 64000
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
read_times = ave_times;
times(1, :, :) = [
0, 240031929, 0
0, 240034269, 0
0, 240252179, 0
0, 240264849, 0
0, 241397844, 0
0, 241371946, 0
0, 240798991, 0
0, 240530155, 0
0, 241745211, 0
0, 241759308, 0
0, 242210579, 0
0, 242680980, 0
0, 244128791, 0
0, 244039516, 0
0, 243183497, 0
];
times(2, :, :) = [
0, 240044773, 0
0, 240047257, 0
0, 240264631, 0
0, 240277205, 0
0, 241409861, 0
0, 241383783, 0
0, 240810991, 0
0, 240542054, 0
0, 241756708, 0
0, 241770236, 0
0, 242222264, 0
0, 242695528, 0
0, 244143345, 0
0, 244051626, 0
0, 243197645, 0
];
times(3, :, :) = [
0, 240098041, 0
0, 240100222, 0
0, 240317943, 0
0, 240330325, 0
0, 241464200, 0
0, 241438110, 0
0, 240865348, 0
0, 240596096, 0
0, 241811277, 0
0, 241825270, 0
0, 242277029, 0
0, 242748917, 0
0, 244199162, 0
0, 244111323, 0
0, 243250931, 0
];
times(4, :, :) = [
0, 240044258, 0
0, 240046656, 0
0, 240264216, 0
0, 240276738, 0
0, 241409905, 0
0, 241383829, 0
0, 240810914, 0
0, 240541262, 0
0, 241756688, 0
0, 241770656, 0
0, 242221498, 0
0, 242692804, 0
0, 244139134, 0
0, 244052917, 0
0, 243195174, 0
];
times(5, :, :) = [
0, 240073627, 0
0, 240076052, 0
0, 240294904, 0
0, 240307629, 0
0, 241441377, 0
0, 241415296, 0
0, 240842470, 0
0, 240573042, 0
0, 241788826, 0
0, 241802455, 0
0, 242253862, 0
0, 242725843, 0
0, 244168342, 0
0, 244081284, 0
0, 243226897, 0
];
times(6, :, :) = [
0, 240080639, 0
0, 240083002, 0
0, 240300339, 0
0, 240312885, 0
0, 241445219, 0
0, 241419145, 0
0, 240846809, 0
0, 240578035, 0
0, 241792454, 0
0, 241806222, 0
0, 242257802, 0
0, 242729207, 0
0, 244176597, 0
0, 244089014, 0
0, 243232241, 0
];
times(7, :, :) = [
0, 240072924, 0
0, 240075166, 0
0, 240292374, 0
0, 240305191, 0
0, 241438541, 0
0, 241412541, 0
0, 240839601, 0
0, 240570355, 0
0, 241785387, 0
0, 241799345, 0
0, 242251151, 0
0, 242724449, 0
0, 244167724, 0
0, 244081126, 0
0, 243226459, 0
];
times(8, :, :) = [
0, 240024558, 0
0, 240027054, 0
0, 240245188, 0
0, 240257965, 0
0, 241390648, 0
0, 241364504, 0
0, 240791991, 0
0, 240522992, 0
0, 241737599, 0
0, 241751498, 0
0, 242203769, 0
0, 242677470, 0
0, 244122376, 0
0, 244034087, 0
0, 243181624, 0
];
times(9, :, :) = [
0, 240016619, 0
0, 240018855, 0
0, 240237012, 0
0, 240249290, 0
0, 241382162, 0
0, 241356103, 0
0, 240783600, 0
0, 240514169, 0
0, 241729608, 0
0, 241743290, 0
0, 242195007, 0
0, 242666647, 0
0, 244111421, 0
0, 244025343, 0
0, 243168856, 0
];
times(10, :, :) = [
0, 240115756, 0
0, 240118243, 0
0, 240335949, 0
0, 240348714, 0
0, 241481297, 0
0, 241455269, 0
0, 240882394, 0
0, 240613305, 0
0, 241828236, 0
0, 241842081, 0
0, 242293000, 0
0, 242764179, 0
0, 244209043, 0
0, 244118728, 0
0, 243267033, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
total_times = ave_times;
times(1, :, :) = [
33712296, 241256187, 64000
157582910, 241264388, 128000
187887567, 241475529, 64000
201902960, 241491446, 64000
196961214, 242622410, 128000
191904420, 242589153, 64000
207947272, 242024173, 64000
204636730, 241756159, 64000
196805212, 242959501, 64000
211044204, 242976766, 64000
213933337, 243427011, 64000
217757729, 243900976, 64000
0, 245337002, 0
182509969, 245247173, 64000
220208624, 244401270, 64000
];
times(2, :, :) = [
33687518, 241229950, 64000
157532597, 241238025, 128000
187836227, 241451496, 64000
201897357, 241467654, 64000
196958495, 242598397, 128000
191901028, 242565201, 64000
207947931, 242000544, 64000
204637767, 241731858, 64000
196828085, 242935064, 64000
211019056, 242952759, 64000
213954601, 243403124, 64000
217756582, 243875433, 64000
0, 245308862, 0
182487747, 245220397, 64000
220202404, 244376400, 64000
];
times(3, :, :) = [
33676585, 241245746, 64000
157550648, 241253949, 128000
187856906, 241466599, 64000
201928467, 241482854, 64000
196951776, 242613961, 128000
191906740, 242580731, 64000
207941738, 242015764, 64000
204632084, 241747095, 64000
196790417, 242950660, 64000
211051599, 242967880, 64000
213958338, 243418785, 64000
217754148, 243889960, 64000
0, 245331879, 0
182510681, 245243363, 64000
220267080, 244391574, 64000
];
times(4, :, :) = [
33761256, 241273027, 64000
157563160, 241281321, 128000
187870214, 241493677, 64000
201941210, 241509964, 64000
196945195, 242640557, 128000
191904794, 242607377, 64000
207950508, 242042621, 64000
204645422, 241774567, 64000
196829191, 242977595, 64000
211034122, 242995215, 64000
213960417, 243445370, 64000
217789031, 243917700, 64000
0, 245361621, 0
182533403, 245272147, 64000
220241126, 244419504, 64000
];
times(5, :, :) = [
33754010, 241272895, 64000
157585319, 241281255, 128000
187907019, 241492793, 64000
201953322, 241508845, 64000
196985049, 242640679, 128000
191939357, 242607451, 64000
207972987, 242042266, 64000
204689038, 241773223, 64000
196823632, 242977644, 64000
211064093, 242994930, 64000
213951471, 243445810, 64000
217745002, 243917093, 64000
0, 245361261, 0
182529941, 245270518, 64000
220215727, 244419523, 64000
];
times(6, :, :) = [
33711414, 241260567, 64000
157598395, 241268608, 128000
187902936, 241481496, 64000
201919507, 241497402, 64000
197000790, 242628268, 128000
191942990, 242595263, 64000
207986679, 242030680, 64000
204696076, 241762013, 64000
196818086, 242965655, 64000
211086643, 242983056, 64000
213990056, 243433301, 64000
217758906, 243903939, 64000
0, 245340281, 0
182512732, 245251202, 64000
220242675, 244406097, 64000
];
times(7, :, :) = [
33688176, 241236225, 64000
157564412, 241244827, 128000
187878882, 241457549, 64000
201950251, 241473757, 64000
196986685, 242604354, 128000
191918490, 242571349, 64000
207979442, 242007088, 64000
204656965, 241738308, 64000
196846145, 242941323, 64000
211057925, 242959104, 64000
213999721, 243409761, 64000
217778719, 243880637, 64000
0, 245320963, 0
182496180, 245228830, 64000
220262497, 244382750, 64000
];
times(8, :, :) = [
33725930, 241287040, 64000
157600892, 241295401, 128000
187934534, 241507935, 64000
201976428, 241524011, 64000
197038725, 242654430, 128000
191976346, 242621389, 64000
208018724, 242056788, 64000
204757099, 241788154, 64000
196876173, 242991322, 64000
211112919, 243008888, 64000
214045509, 243459464, 64000
217836544, 243930924, 64000
0, 245373162, 0
182537903, 245281438, 64000
220256117, 244432479, 64000
];
times(9, :, :) = [
33631809, 241209682, 64000
157529003, 241217956, 128000
187820347, 241430505, 64000
201880326, 241446640, 64000
196927975, 242577407, 128000
191881541, 242544176, 64000
207907876, 241979642, 64000
204669068, 241711276, 64000
196776614, 242914085, 64000
211022039, 242931364, 64000
213920989, 243382285, 64000
217732491, 243854351, 64000
0, 245293502, 0
182468937, 245203554, 64000
220235281, 244356711, 64000
];
times(10, :, :) = [
33761852, 241295408, 64000
157620887, 241303663, 128000
187934186, 241516390, 64000
202012224, 241532671, 64000
197026793, 242663767, 128000
191976293, 242630524, 64000
208035047, 242065992, 64000
204720709, 241797612, 64000
196880818, 243000564, 64000
211093708, 243018054, 64000
213992675, 243468472, 64000
217805866, 243943922, 64000
0, 245387180, 0
182565826, 245299029, 64000
220278965, 244446937, 64000
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
write_times = ave_times;
mytitle = 'v1\_16';
order = [1 2 3 4 8 7 6 5 9 10 11 12 15 14 13];

total_times = total_times(:, 2)(order);

read_times = read_times(:, 1)(order);
write_times = write_times(:, 1)(order);

polling_read_times = polling_read_times(:, 1)(order);
polling_write_times = polling_write_times(:, 1)(order);

total_times /= 1000000;

read_times /= 1000000;
write_times /= 1000000;

polling_read_times /= 1000000;
polling_write_times /= 1000000;

% laying read on top of write
read_times += write_times;
polling_read_times += write_times;

figure(1);
clf()
% set(gcf, 'Position', get(0,'Screensize'));
% set(gcf,'units','normalized','outerposition',[0 0 1 1])
bar(0:14, total_times,'g');
hold on;
bar(0:14, read_times,'b');
bar(0:14, polling_read_times,'r');
bar(0:14, write_times,'k');
bar(0:14, polling_write_times,'c');
hold off

axis([-2 16 0 300])
% axis([-1 15])
set(gca,'XTick',0:14);
set(gca,'xticklabel',{ '0'; '1'; '2'; '3'; '7'; '6'; '5'; '4'; '8'; '9'; '10'; '11'; '15'; '14'; '13' })

xlabel('Core ID')
ylabel('Cycles (Million)')

legend('total', 'read', 'p-read', 'write', 'p-write')
title(mytitle)
print(1, strcat(mytitle, '.png'))
