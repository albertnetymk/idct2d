times(1, :, :) = [
0, 228311863, 0
0, 228981313, 0
531, 229737177, 0
0, 230729605, 0
0, 237106413, 0
0, 236076477, 0
768, 233973406, 0
0, 232327264, 0
58, 238249616, 0
58, 239499042, 0
0, 242668033, 0
0, 245540405, 0
0, 252799856, 0
116, 252143832, 0
0, 248562185, 0
];
times(2, :, :) = [
0, 228326650, 0
0, 228996177, 0
413, 229752313, 0
0, 230743680, 0
0, 237122415, 0
0, 236092253, 0
116, 233988043, 0
0, 232341737, 0
0, 238264391, 0
776, 239512488, 0
0, 242678656, 0
0, 245551732, 0
0, 252811461, 0
116, 252158379, 0
0, 248579289, 0
];
times(3, :, :) = [
0, 228326642, 0
0, 228993571, 0
413, 229750020, 0
590, 230741845, 0
0, 237119462, 0
0, 236089924, 0
464, 233987684, 0
0, 232340081, 0
0, 238261614, 0
1162, 239510773, 0
0, 242675835, 0
0, 245548200, 0
0, 252800746, 0
116, 252148886, 0
0, 248570032, 0
];
times(4, :, :) = [
0, 228315172, 0
0, 228983343, 0
472, 229739723, 0
767, 230730471, 0
0, 237107709, 0
0, 236077393, 0
236, 233974383, 0
0, 232327526, 0
58, 238250288, 0
597, 239499111, 0
0, 242666705, 0
59, 245532216, 0
0, 252795884, 0
116, 252141300, 0
0, 248556822, 0
];
times(5, :, :) = [
0, 228325237, 0
0, 228994328, 0
531, 229750275, 0
772, 230741105, 0
0, 237119224, 0
0, 236090236, 0
468, 233985517, 0
0, 232339289, 0
0, 238260671, 0
1430, 239509963, 0
0, 242679407, 0
59, 245548024, 0
0, 252816717, 0
0, 252166967, 0
0, 248573283, 0
];
times(6, :, :) = [
0, 228323373, 0
0, 228993610, 0
590, 229749500, 0
0, 230741271, 0
0, 237119957, 0
0, 236090009, 0
464, 233986204, 0
0, 232339617, 0
58, 238262721, 0
948, 239511277, 0
0, 242677863, 0
59, 245551062, 0
0, 252823852, 0
0, 252172344, 0
0, 248574441, 0
];
times(7, :, :) = [
0, 228325451, 0
0, 228996181, 0
472, 229753685, 0
0, 230745766, 0
0, 237121511, 0
0, 236092231, 0
240, 233988216, 0
0, 232343119, 0
0, 238263388, 0
547, 239512700, 0
0, 242677751, 0
0, 245537233, 0
0, 252783996, 0
0, 252137574, 0
0, 248558959, 0
];
times(8, :, :) = [
0, 228317099, 0
0, 228986117, 0
531, 229742320, 0
776, 230733394, 0
0, 237111056, 0
0, 236081485, 0
174, 233977563, 0
0, 232331315, 0
58, 238253902, 0
546, 239503254, 0
0, 242669446, 0
0, 245537061, 0
0, 252795446, 0
116, 252147980, 0
0, 248561954, 0
];
times(9, :, :) = [
0, 228323157, 0
0, 228992997, 0
472, 229749043, 0
0, 230741328, 0
0, 237120974, 0
0, 236089787, 0
294, 233984623, 0
0, 232338778, 0
58, 238263258, 0
893, 239512531, 0
0, 242679543, 0
0, 245541678, 0
0, 252796497, 0
0, 252148200, 0
0, 248563348, 0
];
times(10, :, :) = [
0, 228331547, 0
0, 229000392, 0
413, 229753820, 0
0, 230745200, 0
0, 237123449, 0
0, 236092943, 0
758, 233989457, 0
0, 232343652, 0
0, 238265039, 0
239, 239514679, 0
0, 242683234, 0
0, 245551056, 0
0, 252807189, 0
0, 252147812, 0
0, 248575003, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_read_times = ave_times;
times(1, :, :) = [
10318117, 226509291, 0
84698558, 227174344, 0
93807234, 227925799, 0
106738457, 228907727, 0
132774636, 235136452, 0
129928949, 234134728, 0
131477464, 232093601, 0
118747080, 230495190, 0
144308753, 236244114, 0
161048560, 237449267, 0
175429280, 240507290, 0
189313535, 243277189, 0
0, 250371664, 0
172639569, 249720634, 0
202198020, 246202390, 0
];
times(2, :, :) = [
10348540, 226498445, 0
84619035, 227163410, 0
93746453, 227913012, 0
106703427, 228895927, 0
132733176, 235123994, 0
129900281, 234122346, 0
131427238, 232081592, 0
118706571, 230483325, 0
144236303, 236231054, 0
161017777, 237435857, 0
175402954, 240493257, 0
189267226, 243268352, 0
0, 250370490, 0
172642151, 249721498, 0
202184103, 246196058, 0
];
times(3, :, :) = [
10334845, 226510844, 0
84777632, 227175442, 0
93885425, 227925920, 0
106822648, 228909504, 0
132747785, 235138594, 0
129907873, 234137295, 0
131479053, 232095377, 0
118778152, 230497794, 0
144247392, 236246060, 0
161011261, 237452167, 0
175416909, 240510016, 0
189283572, 243274184, 0
0, 250359313, 0
172620248, 249707396, 0
202183916, 246200482, 0
];
times(4, :, :) = [
10272745, 226471107, 0
84586283, 227136633, 0
93729010, 227887296, 0
106684962, 228870268, 0
132683864, 235098375, 0
129865841, 234096770, 0
131388318, 232056357, 0
118675988, 230458614, 0
144211462, 236205765, 0
160998254, 237411359, 0
175336579, 240470292, 0
189220932, 243239630, 0
0, 250330036, 0
172582875, 249673353, 0
202153792, 246166889, 0
];
times(5, :, :) = [
10278785, 226483219, 0
84574755, 227146118, 0
93688962, 227895570, 0
106655886, 228879561, 0
132685488, 235108848, 0
129840980, 234107649, 0
131377434, 232065704, 0
118665424, 230467804, 0
144211584, 236215933, 0
160962828, 237421817, 0
175330760, 240481186, 0
189275753, 243252469, 0
0, 250334833, 0
172579270, 249681105, 0
202180364, 246181147, 0
];
times(6, :, :) = [
10299693, 226490331, 0
84608457, 227154328, 0
93714027, 227906587, 0
106661214, 228888924, 0
132683028, 235118785, 0
129844586, 234117288, 0
131393797, 232075363, 0
118651111, 230477596, 0
144243224, 236225848, 0
161021096, 237430239, 0
175438678, 240489193, 0
189355108, 243260911, 0
0, 250340839, 0
172594531, 249689803, 0
202214929, 246186607, 0
];
times(7, :, :) = [
10310806, 226500834, 0
84619812, 227166991, 0
93737934, 227918948, 0
106697596, 228902130, 0
132702268, 235130266, 0
129888090, 234128839, 0
131429139, 232088072, 0
118692383, 230490371, 0
144245136, 236237708, 0
161040154, 237442576, 0
175392216, 240501808, 0
189308232, 243272639, 0
0, 250357748, 0
172621381, 249708871, 0
202160453, 246196785, 0
];
times(8, :, :) = [
10289028, 226480565, 0
84625462, 227143956, 0
93770242, 227895274, 0
106684535, 228876570, 0
132687829, 235106772, 0
129869975, 234105381, 0
131410044, 232063230, 0
118678997, 230465077, 0
144243438, 236213994, 0
160999447, 237418827, 0
175349184, 240476054, 0
189309367, 243243458, 0
0, 250334305, 0
172591270, 249678058, 0
202139774, 246166341, 0
];
times(9, :, :) = [
10332128, 226503250, 0
84602661, 227166240, 0
93716377, 227917337, 0
106679157, 228899900, 0
132691027, 235129464, 0
129859037, 234127564, 0
131393359, 232086293, 0
118666570, 230487581, 0
144238953, 236236703, 0
160976148, 237442206, 0
175378365, 240498414, 0
189271656, 243270689, 0
0, 250361479, 0
172623377, 249708951, 0
202192685, 246194590, 0
];
times(10, :, :) = [
10279533, 226487306, 0
84578741, 227152361, 0
93694360, 227902434, 0
106651955, 228885608, 0
132663980, 235115077, 0
129801227, 234113634, 0
131346583, 232072084, 0
118594019, 230473199, 0
144191815, 236222271, 0
160963218, 237426945, 0
175337053, 240485733, 0
189266103, 243261965, 0
0, 250342473, 0
172609809, 249697128, 0
202224597, 246191638, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_write_times = ave_times;
times(1, :, :) = [
0, 252577941, 0
8268039, 253309823, 64000
16963525, 254126369, 128000
8309476, 255165841, 64000
8115540, 262078735, 64000
14133569, 260963415, 128000
8207063, 258670497, 64000
8245688, 256865089, 64000
16145484, 263309749, 128000
8054899, 264640123, 64000
8118146, 267996209, 64000
8022779, 271103512, 64000
26087771, 278831271, 255980
13577970, 278123493, 128000
8057495, 274306103, 64000
];
times(2, :, :) = [
0, 252578443, 0
8275049, 253311479, 64000
16871520, 254127234, 128000
8310413, 255168032, 64000
8115832, 262082286, 64000
14151485, 260967615, 128000
8216146, 258674490, 64000
8243043, 256869477, 64000
16092040, 263312992, 128000
8047886, 264644224, 64000
8118371, 268000560, 64000
8002226, 271112375, 64000
26089515, 278846397, 255980
13614733, 278142335, 128000
8022324, 274317274, 64000
];
times(3, :, :) = [
0, 252643971, 0
8272938, 253376521, 64000
16978679, 254194434, 128000
8301346, 255234432, 64000
8116441, 262143074, 64000
14153403, 261027478, 128000
8199192, 258735056, 64000
8248632, 256929761, 64000
16117665, 263374461, 128000
8030447, 264705141, 64000
8120230, 268061784, 64000
7995943, 271172739, 64000
26086843, 278902580, 255980
13580717, 278195367, 128000
8130369, 274373685, 64000
];
times(4, :, :) = [
0, 252624504, 0
8274042, 253356356, 64000
16982460, 254174474, 128000
8312775, 255212880, 64000
8113989, 262120116, 64000
14152666, 261005457, 128000
8214194, 258712388, 64000
8244274, 256906790, 64000
16068968, 263350586, 128000
8029213, 264681287, 64000
8118801, 268036967, 64000
7996665, 271141605, 64000
26089015, 278862177, 255980
13581274, 278158458, 128000
8132221, 274340329, 64000
];
times(5, :, :) = [
0, 252597795, 0
8275672, 253329295, 64000
16887688, 254147509, 128000
8308676, 255188944, 64000
8114476, 262101726, 64000
14152723, 260986525, 128000
8213834, 258693045, 64000
8243445, 256887817, 64000
16082678, 263332263, 128000
8039772, 264663158, 64000
8132897, 268021849, 64000
8004192, 271125899, 64000
26086505, 278843271, 255980
13574152, 278142921, 128000
8034466, 274328331, 64000
];
times(6, :, :) = [
0, 252591661, 0
8275359, 253323563, 64000
16885773, 254139808, 128000
8311413, 255180307, 64000
8113488, 262086677, 64000
14134194, 260972011, 128000
8205426, 258679816, 64000
8243697, 256874444, 64000
16068791, 263317359, 128000
8031319, 264647609, 64000
8120183, 268004881, 64000
8001740, 271116416, 64000
26088307, 278853472, 255980
13613730, 278147718, 128000
8023132, 274318812, 64000
];
times(7, :, :) = [
0, 252577507, 0
8276020, 253309040, 64000
16874456, 254127511, 128000
8310192, 255168831, 64000
8116249, 262079586, 64000
14133677, 260964425, 128000
8208153, 258671639, 64000
8247397, 256864947, 64000
16121054, 263310522, 128000
8031177, 264641260, 64000
8121254, 267996749, 64000
8000145, 271106126, 64000
26089075, 278823077, 255980
13614488, 278120182, 128000
8019277, 274308778, 64000
];
times(8, :, :) = [
0, 252631267, 0
8269327, 253363109, 64000
16869971, 254178383, 128000
8306788, 255219768, 64000
8118404, 262127288, 64000
14133512, 261012343, 128000
8205134, 258719575, 64000
8246272, 256914035, 64000
16163632, 263357217, 128000
8053001, 264687599, 64000
8115496, 268045951, 64000
8001236, 271157466, 64000
26089130, 278876634, 255980
13613025, 278176271, 128000
8023697, 274359349, 64000
];
times(9, :, :) = [
0, 252622242, 0
8267593, 253353905, 64000
16874725, 254169646, 128000
8315400, 255205816, 64000
8112251, 262114942, 64000
14132488, 261000598, 128000
8201798, 258708013, 64000
8250992, 256903529, 64000
16069971, 263346442, 128000
8028554, 264676521, 64000
8119705, 268033374, 64000
7995445, 271140353, 64000
26090472, 278871972, 255980
13580104, 278166311, 128000
8132676, 274342442, 64000
];
times(10, :, :) = [
0, 252607595, 0
8273988, 253339409, 64000
16870276, 254156341, 128000
8310051, 255192607, 64000
8116511, 262103981, 64000
14135273, 260989689, 128000
8209926, 258696299, 64000
8244871, 256891037, 64000
16096834, 263335015, 128000
8050089, 264665023, 64000
8129869, 268020501, 64000
8036083, 271134797, 64000
26090754, 278863793, 255980
13617327, 278157495, 128000
8124009, 274333823, 64000
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
read_times = ave_times;
times(1, :, :) = [
0, 227093728, 0
0, 227761984, 0
0, 228516383, 0
0, 229505158, 0
0, 235870369, 0
0, 234842272, 0
0, 232744299, 0
0, 231102051, 0
0, 237009550, 0
0, 238255593, 0
0, 241413485, 0
0, 244262404, 0
0, 251512092, 0
0, 250860595, 0
0, 247287961, 0
];
times(2, :, :) = [
0, 227109046, 0
0, 227776589, 0
0, 228531802, 0
0, 229521866, 0
0, 235887788, 0
0, 234859132, 0
0, 232760823, 0
0, 231117867, 0
0, 237027212, 0
0, 238273589, 0
0, 241434940, 0
0, 244277565, 0
0, 251519967, 0
0, 250866533, 0
0, 247300610, 0
];
times(3, :, :) = [
0, 227109495, 0
0, 227777461, 0
0, 228531072, 0
0, 229520649, 0
0, 235885409, 0
0, 234857064, 0
0, 232758206, 0
0, 231115410, 0
0, 237024951, 0
0, 238271661, 0
0, 241429110, 0
0, 244271286, 0
0, 251510135, 0
0, 250855991, 0
0, 247295021, 0
];
times(4, :, :) = [
0, 227127895, 0
0, 227795941, 0
0, 228550239, 0
0, 229541058, 0
0, 235905210, 0
0, 234876624, 0
0, 232778272, 0
0, 231137605, 0
0, 237044537, 0
0, 238290857, 0
0, 241450730, 0
0, 244295881, 0
0, 251545865, 0
0, 250898069, 0
0, 247319628, 0
];
times(5, :, :) = [
0, 227133182, 0
0, 227800101, 0
0, 228555638, 0
0, 229546514, 0
0, 235911308, 0
0, 234882404, 0
0, 232784046, 0
0, 231142709, 0
0, 237050525, 0
0, 238297444, 0
0, 241459053, 0
0, 244309442, 0
0, 251556000, 0
0, 250904725, 0
0, 247333215, 0
];
times(6, :, :) = [
0, 227115192, 0
0, 227782061, 0
0, 228537287, 0
0, 229527379, 0
0, 235892529, 0
0, 234864418, 0
0, 232765924, 0
0, 231124040, 0
0, 237031716, 0
0, 238278136, 0
0, 241439635, 0
0, 244282815, 0
0, 251529524, 0
0, 250873110, 0
0, 247306772, 0
];
times(7, :, :) = [
0, 227065272, 0
0, 227732606, 0
0, 228488208, 0
0, 229478465, 0
0, 235842879, 0
0, 234814506, 0
0, 232716101, 0
0, 231073993, 0
0, 236982204, 0
0, 238228546, 0
0, 241388065, 0
0, 244239186, 0
0, 251494816, 0
0, 250838900, 0
0, 247265242, 0
];
times(8, :, :) = [
0, 227129180, 0
0, 227796228, 0
0, 228550978, 0
0, 229541569, 0
0, 235904843, 0
0, 234876761, 0
0, 232777986, 0
0, 231136948, 0
0, 237044257, 0
0, 238290383, 0
0, 241451267, 0
0, 244295498, 0
0, 251550829, 0
0, 250893324, 0
0, 247321725, 0
];
times(9, :, :) = [
0, 227114780, 0
0, 227780043, 0
0, 228534543, 0
0, 229524715, 0
0, 235889844, 0
0, 234861131, 0
0, 232762583, 0
0, 231120480, 0
0, 237029642, 0
0, 238275792, 0
0, 241434202, 0
0, 244278164, 0
0, 251530642, 0
0, 250874091, 0
0, 247302341, 0
];
times(10, :, :) = [
0, 227106292, 0
0, 227774097, 0
0, 228528886, 0
0, 229517862, 0
0, 235882480, 0
0, 234854604, 0
0, 232756285, 0
0, 231113893, 0
0, 237022459, 0
0, 238268560, 0
0, 241429116, 0
0, 244278603, 0
0, 251515228, 0
0, 250860098, 0
0, 247303344, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
total_times = ave_times;
times(1, :, :) = [
20169747, 228076992, 64000
89272411, 228747997, 128000
87157109, 229495370, 64000
99741769, 230474529, 64000
144549667, 236707982, 128000
130695887, 235704299, 64000
128552162, 233664916, 64000
113844496, 232063659, 64000
146119484, 237812479, 64000
163133895, 239019670, 64000
179669185, 242075196, 64000
195775711, 244858509, 64000
0, 251939623, 0
186808953, 251286880, 64000
210831025, 247784966, 64000
];
times(2, :, :) = [
20219253, 228106545, 64000
89511181, 228778254, 128000
87356660, 229525763, 64000
99940177, 230504858, 64000
144547763, 236736154, 128000
130712082, 235733289, 64000
128642006, 233695145, 64000
113965287, 232093596, 64000
146085153, 237840889, 64000
163149681, 239047495, 64000
179626457, 242104218, 64000
195636654, 244889612, 64000
0, 251975758, 0
186845238, 251327298, 64000
210676123, 247816232, 64000
];
times(3, :, :) = [
20184312, 228075066, 64000
89261448, 228746692, 128000
87086027, 229494340, 64000
99677491, 230472185, 64000
144519536, 236702698, 128000
130661999, 235699718, 64000
128515125, 233662437, 64000
113771260, 232062450, 64000
146093608, 237807707, 64000
163104990, 239013960, 64000
179640305, 242070965, 64000
195677599, 244846546, 64000
0, 251946671, 0
186811758, 251293644, 64000
210683720, 247776073, 64000
];
times(4, :, :) = [
20156388, 228081512, 64000
89245178, 228751838, 128000
87120702, 229499540, 64000
99713644, 230478689, 64000
144474095, 236709730, 128000
130584390, 235707429, 64000
128487090, 233669068, 64000
113773669, 232068249, 64000
146014230, 237814946, 64000
163057816, 239020721, 64000
179545513, 242077169, 64000
195568968, 244857386, 64000
0, 251955004, 0
186807289, 251299105, 64000
210715679, 247787460, 64000
];
times(5, :, :) = [
20180342, 228097881, 64000
89396222, 228768654, 128000
87270270, 229515253, 64000
99870698, 230493256, 64000
144448441, 236723684, 128000
130602463, 235719877, 64000
128522633, 233682882, 64000
113920768, 232082203, 64000
146030124, 237828279, 64000
163087777, 239034790, 64000
179579300, 242092546, 64000
195633965, 244862222, 64000
0, 251953002, 0
186819669, 251304488, 64000
210702880, 247788186, 64000
];
times(6, :, :) = [
20232757, 228146720, 64000
89559691, 228819464, 128000
87422097, 229566771, 64000
99991122, 230546131, 64000
144616634, 236774812, 128000
130762130, 235772004, 64000
128725505, 233735377, 64000
114028074, 232134544, 64000
146164252, 237880010, 64000
163230548, 239086339, 64000
179796563, 242141115, 64000
195824967, 244915212, 64000
0, 251997045, 0
186864065, 251348511, 64000
210868452, 247840950, 64000
];
times(7, :, :) = [
20186299, 228089851, 64000
89328776, 228761289, 128000
87237064, 229507652, 64000
99827152, 230485768, 64000
144545118, 236715045, 128000
130661719, 235712710, 64000
128581466, 233674856, 64000
113857648, 232074775, 64000
146107153, 237820122, 64000
163163870, 239027359, 64000
179685521, 242084560, 64000
195685273, 244870591, 64000
0, 251956631, 0
186846480, 251301886, 64000
210816555, 247797252, 64000
];
times(8, :, :) = [
20195594, 228108323, 64000
89351031, 228781086, 128000
87233965, 229526409, 64000
99784296, 230505126, 64000
144400512, 236736091, 128000
130508956, 235733632, 64000
128422324, 233695312, 64000
113765021, 232094032, 64000
145990306, 237841267, 64000
163017821, 239047763, 64000
179586465, 242103819, 64000
195615382, 244884881, 64000
0, 251975880, 0
186833976, 251325141, 64000
210674584, 247811116, 64000
];
times(9, :, :) = [
20193009, 228099905, 64000
89437151, 228768537, 128000
87269147, 229515730, 64000
99852148, 230496485, 64000
144512101, 236727847, 128000
130648028, 235724081, 64000
128608678, 233686604, 64000
113897899, 232085125, 64000
146060516, 237833130, 64000
163112054, 239039806, 64000
179591422, 242095177, 64000
195603415, 244861993, 64000
0, 251953947, 0
186815890, 251307436, 64000
210707066, 247787432, 64000
];
times(10, :, :) = [
20189818, 228099033, 64000
89233070, 228769914, 128000
87119283, 229517456, 64000
99657553, 230496550, 64000
144513356, 236727113, 128000
130597681, 235723881, 64000
128504153, 233687031, 64000
113776229, 232086200, 64000
146073780, 237832222, 64000
163086085, 239039123, 64000
179616158, 242094733, 64000
195665193, 244867134, 64000
0, 251968917, 0
186850203, 251315726, 64000
210774022, 247796171, 64000
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
write_times = ave_times;
mytitle = 'v1\_100';
order = [1 2 3 4 8 7 6 5 9 10 11 12 15 14 13];

total_times = total_times(:, 2)(order);

read_times = read_times(:, 1)(order);
write_times = write_times(:, 1)(order);

polling_read_times = polling_read_times(:, 1)(order);
polling_write_times = polling_write_times(:, 1)(order);

total_times /= 1000000;

read_times /= 1000000;
write_times /= 1000000;

polling_read_times /= 1000000;
polling_write_times /= 1000000;

% laying read on top of write
read_times += write_times;
polling_read_times += write_times;

figure(1);
clf()
% set(gcf, 'Position', get(0,'Screensize'));
% set(gcf,'units','normalized','outerposition',[0 0 1 1])
bar(0:14, total_times,'g');
hold on;
bar(0:14, read_times,'b');
bar(0:14, polling_read_times,'r');
bar(0:14, write_times,'k');
bar(0:14, polling_write_times,'c');
hold off

axis([-2 16 0 300])
% axis([-1 15])
set(gca,'XTick',0:14);
set(gca,'xticklabel',{ '0'; '1'; '2'; '3'; '7'; '6'; '5'; '4'; '8'; '9'; '10'; '11'; '15'; '14'; '13' })

xlabel('Core ID')
ylabel('Cycles (Million)')

legend('total', 'read', 'p-read', 'write', 'p-write')
title(mytitle)
print(1, strcat(mytitle, '.png'))
