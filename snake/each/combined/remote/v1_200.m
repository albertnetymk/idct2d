times(1, :, :) = [
0, 215470867, 0
0, 215473126, 0
215846469, 215584875, 0
217384046, 217132596, 0
230183922, 229932965, 0
227894237, 227631921, 0
224017970, 223772870, 0
220538319, 220307625, 0
232394462, 232174504, 0
234839501, 234618355, 0
240592164, 240373014, 0
246291645, 246077430, 0
0, 260608211, 0
259305489, 259086972, 0
252585219, 252382698, 0
];
times(2, :, :) = [
0, 215493207, 0
0, 215495488, 0
215743160, 215558419, 0
217281727, 217108135, 0
230086142, 229912563, 0
227796304, 227611316, 0
223855886, 223750618, 0
220434605, 220284125, 0
232291007, 232151910, 0
234737111, 234596710, 0
240490666, 240352452, 0
246169791, 246057925, 0
0, 260575784, 0
259197914, 259060790, 0
252482731, 252361128, 0
];
times(3, :, :) = [
0, 215483101, 0
0, 215485584, 0
215757185, 215574074, 0
217296939, 217123014, 0
230104443, 229931617, 0
227814400, 227630095, 0
223902619, 223769923, 0
220447991, 220299925, 0
232308251, 232169370, 0
234753716, 234615398, 0
240507664, 240370527, 0
246181157, 246086373, 0
0, 260620569, 0
259245310, 259107905, 0
252509849, 252388010, 0
];
times(4, :, :) = [
0, 215487729, 0
0, 215490254, 0
215765579, 215580686, 0
217303548, 217129470, 0
230110204, 229935946, 0
227818983, 227633409, 0
223936750, 223771969, 0
220455691, 220305572, 0
232313257, 232172875, 0
234755972, 234616338, 0
240510856, 240372036, 0
246219155, 246077615, 0
0, 260639034, 0
259227906, 259091550, 0
252509077, 252387035, 0
];
times(5, :, :) = [
0, 215476639, 0
0, 215478881, 0
215752930, 215565743, 0
217292834, 217115905, 0
230097339, 229922624, 0
227809648, 227621741, 0
223869782, 223760450, 0
220444700, 220292229, 0
232301126, 232158132, 0
234747308, 234602945, 0
240501614, 240359046, 0
246200383, 246059229, 0
0, 260573779, 0
259194996, 259055267, 0
252488122, 252364106, 0
];
times(6, :, :) = [
0, 215486728, 0
0, 215489226, 0
215754883, 215574522, 0
217295120, 217124084, 0
230094435, 229929511, 0
227805656, 227626034, 0
223834979, 223764276, 0
220444929, 220298832, 0
232302858, 232166388, 0
234746873, 234610915, 0
240501731, 240367071, 0
246211296, 246081721, 0
0, 260606337, 0
259218308, 259087518, 0
252503965, 252387505, 0
];
times(7, :, :) = [
0, 215494995, 0
0, 215497311, 0
215751330, 215571396, 0
217284912, 217119517, 0
230092187, 229921564, 0
227799913, 227619256, 0
223921650, 223760143, 0
220442280, 220296635, 0
232294102, 232160135, 0
234742396, 234607220, 0
240498630, 240366228, 0
246193774, 246079346, 0
0, 260613752, 0
259224848, 259093570, 0
252506948, 252388938, 0
];
times(8, :, :) = [
0, 215469033, 0
0, 215471548, 0
215777363, 215590293, 0
217318145, 217140346, 0
230113326, 229939876, 0
227828214, 227638956, 0
223888866, 223781023, 0
220468279, 220317458, 0
232320528, 232177063, 0
234766339, 234623680, 0
240524137, 240381828, 0
246217133, 246073816, 0
0, 260606389, 0
259228241, 259087872, 0
252515788, 252390033, 0
];
times(9, :, :) = [
0, 215479217, 0
0, 215481518, 0
215753325, 215571371, 0
217291293, 217119338, 0
230099823, 229927713, 0
227806468, 227624445, 0
223894014, 223761382, 0
220441331, 220295595, 0
232303476, 232165476, 0
234747811, 234610858, 0
240502499, 240367273, 0
246180420, 246070764, 0
0, 260594736, 0
259201011, 259067260, 0
252493201, 252373792, 0
];
times(10, :, :) = [
0, 215484078, 0
0, 215486374, 0
215744962, 215560625, 0
217280874, 217109550, 0
230090987, 229916922, 0
227795328, 227615526, 0
223856641, 223753838, 0
220434118, 220285913, 0
232292894, 232152975, 0
234735861, 234596829, 0
240491026, 240352773, 0
246174880, 246041431, 0
0, 260562363, 0
259186287, 259049524, 0
252469400, 252347016, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_read_times = ave_times;
times(1, :, :) = [
0, 215331372, 0
0, 215333805, 0
0, 215335485, 0
0, 216154553, 0
0, 228863118, 0
0, 226582810, 0
0, 222761051, 0
0, 219328010, 0
0, 231086258, 0
0, 233509769, 0
0, 239221574, 0
0, 244752020, 0
0, 259153212, 0
0, 257631924, 0
0, 251057098, 0
];
times(2, :, :) = [
0, 215336631, 0
0, 215339067, 0
0, 215340582, 0
0, 216105339, 0
0, 228813725, 0
0, 226532325, 0
0, 222710894, 0
0, 219279085, 0
0, 231037428, 0
0, 233459304, 0
0, 239172943, 0
0, 244712934, 0
0, 259104216, 0
0, 257575521, 0
0, 251021052, 0
];
times(3, :, :) = [
0, 215335135, 0
0, 215337551, 0
0, 215339183, 0
0, 216161317, 0
0, 228868493, 0
0, 226588485, 0
0, 222767570, 0
0, 219334071, 0
0, 231091788, 0
0, 233514058, 0
0, 239226596, 0
0, 244759715, 0
0, 259123573, 0
0, 257597410, 0
0, 251060756, 0
];
times(4, :, :) = [
0, 215320020, 0
0, 215322276, 0
0, 215324037, 0
0, 216103979, 0
0, 228807776, 0
0, 226527625, 0
0, 222707883, 0
0, 219275407, 0
0, 231031536, 0
0, 233453924, 0
0, 239164913, 0
0, 244701003, 0
0, 259073750, 0
0, 257546497, 0
0, 251004170, 0
];
times(5, :, :) = [
0, 215291806, 0
0, 215294136, 0
0, 215295928, 0
0, 216081781, 0
0, 228789233, 0
0, 226508743, 0
0, 222687125, 0
0, 219254723, 0
0, 231012765, 0
0, 233436675, 0
0, 239150217, 0
0, 244688690, 0
0, 259060005, 0
0, 257551106, 0
0, 250998951, 0
];
times(6, :, :) = [
0, 215332388, 0
0, 215334785, 0
0, 215336252, 0
0, 216155234, 0
0, 228859536, 0
0, 226579574, 0
0, 222759386, 0
0, 219327270, 0
0, 231083167, 0
0, 233505651, 0
0, 239217780, 0
0, 244765680, 0
0, 259143328, 0
0, 257625605, 0
0, 251067072, 0
];
times(7, :, :) = [
0, 215363803, 0
0, 215366299, 0
0, 215367845, 0
0, 216089345, 0
0, 228793804, 0
0, 226513204, 0
0, 222693332, 0
0, 219261823, 0
0, 231017484, 0
0, 233440285, 0
0, 239151484, 0
0, 244682480, 0
0, 259050171, 0
0, 257540309, 0
0, 250991706, 0
];
times(8, :, :) = [
0, 215335582, 0
0, 215338020, 0
0, 215339716, 0
0, 216156516, 0
0, 228863696, 0
0, 226583311, 0
0, 222762005, 0
0, 219328403, 0
0, 231087697, 0
0, 233510624, 0
0, 239223245, 0
0, 244756405, 0
0, 259136299, 0
0, 257616018, 0
0, 251058409, 0
];
times(9, :, :) = [
0, 215326842, 0
0, 215329183, 0
0, 215330875, 0
0, 216079832, 0
0, 228784634, 0
0, 226504713, 0
0, 222685185, 0
0, 219252057, 0
0, 231008306, 0
0, 233430940, 0
0, 239142234, 0
0, 244683302, 0
0, 259059617, 0
0, 257544494, 0
0, 250986100, 0
];
times(10, :, :) = [
0, 215333350, 0
0, 215335750, 0
0, 215337258, 0
0, 216150805, 0
0, 228857688, 0
0, 226577107, 0
0, 222755921, 0
0, 219323266, 0
0, 231081337, 0
0, 233504894, 0
0, 239216727, 0
0, 244751828, 0
0, 259121650, 0
0, 257597238, 0
0, 251053953, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_write_times = ave_times;
times(1, :, :) = [
0, 235090198, 0
8695993, 236656054, 64000
17705703, 238505065, 128000
8695800, 240142596, 64000
8490849, 253936623, 64000
14772061, 251481036, 128000
8591763, 247293854, 64000
8603733, 243498951, 64000
16902464, 256320785, 128000
8219133, 258911426, 64000
8280535, 264985779, 64000
8178515, 271014665, 64000
26089717, 286336465, 255980
13679332, 284732417, 128000
8173828, 277688085, 64000
];
times(2, :, :) = [
0, 235043757, 0
8698183, 236610566, 64000
17652964, 238459092, 128000
8693478, 240104568, 64000
8492576, 253903295, 64000
14761656, 251447214, 128000
8585876, 247259411, 64000
8605807, 243463957, 64000
16906566, 256287163, 128000
8216327, 258877237, 64000
8281095, 264951361, 64000
8180736, 270980545, 64000
26108771, 286279849, 255980
13679908, 284676759, 128000
8174914, 277648648, 64000
];
times(3, :, :) = [
0, 235093361, 0
8699421, 236659659, 64000
17721584, 238507970, 128000
8693095, 240146912, 64000
8490590, 253944064, 64000
14760512, 251487784, 128000
8584377, 247301346, 64000
8606688, 243506332, 64000
16904514, 256328176, 128000
8220228, 258918643, 64000
8281111, 264992039, 64000
8134266, 271018931, 64000
26089684, 286351309, 255980
13643430, 284749981, 128000
8183302, 277698300, 64000
];
times(4, :, :) = [
0, 235050726, 0
8698449, 236617202, 64000
17653524, 238460855, 128000
8698464, 240094284, 64000
8489878, 253889503, 64000
14775657, 251433348, 128000
8593923, 247244876, 64000
8601997, 243450363, 64000
16910339, 256273808, 128000
8218505, 258864002, 64000
8280760, 264937700, 64000
8150026, 270965536, 64000
26110188, 286277227, 255980
13639204, 284671484, 128000
8089750, 277634102, 64000
];
times(5, :, :) = [
0, 235081222, 0
8698788, 236646258, 64000
17650055, 238488861, 128000
8697959, 240131334, 64000
8491886, 253927857, 64000
14774777, 251471667, 128000
8594539, 247283719, 64000
8604306, 243488406, 64000
16906359, 256312073, 128000
8226120, 258902522, 64000
8278559, 264976961, 64000
8144177, 271003580, 64000
26092459, 286313152, 255980
13680568, 284706372, 128000
8086358, 277677380, 64000
];
times(6, :, :) = [
0, 235057824, 0
8701410, 236623958, 64000
17642162, 238473086, 128000
8700211, 240115352, 64000
8492269, 253912272, 64000
14775083, 251456269, 128000
8580499, 247268692, 64000
8604115, 243473803, 64000
16894462, 256297049, 128000
8232371, 258887127, 64000
8276976, 264960702, 64000
8138155, 270984907, 64000
26108902, 286301198, 255980
13645931, 284698666, 128000
8183182, 277653205, 64000
];
times(7, :, :) = [
0, 235091348, 0
8700663, 236656263, 64000
17652488, 238505541, 128000
8698480, 240144361, 64000
8491827, 253940937, 64000
14774976, 251484203, 128000
8593264, 247297383, 64000
8603062, 243503187, 64000
16907657, 256324933, 128000
8220712, 258916010, 64000
8271021, 264989819, 64000
8167601, 271014552, 64000
26092325, 286345244, 255980
13643941, 284729475, 128000
8113556, 277688918, 64000
];
times(8, :, :) = [
0, 235044981, 0
8701634, 236611247, 64000
17661948, 238459699, 128000
8698503, 240097687, 64000
8489626, 253893689, 64000
14773420, 251437461, 128000
8593824, 247250409, 64000
8603638, 243454990, 64000
16908523, 256277541, 128000
8226136, 258868094, 64000
8279757, 264941975, 64000
8144136, 270971094, 64000
26106429, 286281867, 255980
13677673, 284677987, 128000
8084028, 277640821, 64000
];
times(9, :, :) = [
0, 235103884, 0
8696928, 236669907, 64000
17661580, 238512596, 128000
8699811, 240155707, 64000
8491988, 253953425, 64000
14759535, 251496763, 128000
8584317, 247309081, 64000
8606776, 243513529, 64000
16910344, 256338121, 128000
8206781, 258929106, 64000
8269348, 265002588, 64000
8166586, 271032252, 64000
26091000, 286357330, 255980
13642068, 284755662, 128000
8113015, 277708790, 64000
];
times(10, :, :) = [
0, 235047221, 0
8696810, 236612859, 64000
17662207, 238461699, 128000
8703157, 240103871, 64000
8491318, 253899349, 64000
14774414, 251443796, 128000
8583409, 247256294, 64000
8604484, 243462873, 64000
16904027, 256283437, 128000
8219043, 258873871, 64000
8280715, 264948025, 64000
8152022, 270977178, 64000
26107598, 286296255, 255980
13641187, 284695772, 128000
8091182, 277645703, 64000
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
read_times = ave_times;
times(1, :, :) = [
0, 214757815, 0
0, 214760151, 0
0, 214834370, 0
0, 216384625, 0
0, 229369957, 0
0, 227025817, 0
0, 223101739, 0
0, 219574154, 0
0, 231656006, 0
0, 234161174, 0
0, 240061097, 0
0, 245757912, 0
0, 260445720, 0
0, 258926304, 0
0, 252281766, 0
];
times(2, :, :) = [
0, 214765724, 0
0, 214768183, 0
0, 214841837, 0
0, 216393415, 0
0, 229378994, 0
0, 227034232, 0
0, 223109813, 0
0, 219581882, 0
0, 231664791, 0
0, 234170158, 0
0, 240069315, 0
0, 245753642, 0
0, 260432670, 0
0, 258913578, 0
0, 252273084, 0
];
times(3, :, :) = [
0, 214755631, 0
0, 214757861, 0
0, 214829888, 0
0, 216380967, 0
0, 229364359, 0
0, 227020446, 0
0, 223096069, 0
0, 219567933, 0
0, 231650473, 0
0, 234155439, 0
0, 240053500, 0
0, 245748417, 0
0, 260428616, 0
0, 258924156, 0
0, 252266682, 0
];
times(4, :, :) = [
0, 214738562, 0
0, 214740947, 0
0, 214934805, 0
0, 216486392, 0
0, 229471629, 0
0, 227127370, 0
0, 223202237, 0
0, 219672988, 0
0, 231757660, 0
0, 234262906, 0
0, 240155611, 0
0, 245843100, 0
0, 260530697, 0
0, 259014093, 0
0, 252361015, 0
];
times(5, :, :) = [
0, 214764549, 0
0, 214766879, 0
0, 214926137, 0
0, 216478063, 0
0, 229464861, 0
0, 227120226, 0
0, 223195295, 0
0, 219665857, 0
0, 231750920, 0
0, 234256056, 0
0, 240151432, 0
0, 245840592, 0
0, 260539266, 0
0, 259019068, 0
0, 252361076, 0
];
times(6, :, :) = [
0, 214748080, 0
0, 214750545, 0
0, 214944043, 0
0, 216496086, 0
0, 229479931, 0
0, 227135684, 0
0, 223211044, 0
0, 219683423, 0
0, 231766115, 0
0, 234270937, 0
0, 240170546, 0
0, 245858204, 0
0, 260528972, 0
0, 259020486, 0
0, 252381009, 0
];
times(7, :, :) = [
0, 214755698, 0
0, 214757878, 0
0, 214826001, 0
0, 216377290, 0
0, 229363134, 0
0, 227018757, 0
0, 223095382, 0
0, 219566914, 0
0, 231649683, 0
0, 234154541, 0
0, 240050578, 0
0, 245745035, 0
0, 260424645, 0
0, 258907078, 0
0, 252263867, 0
];
times(8, :, :) = [
0, 214753294, 0
0, 214755616, 0
0, 214926697, 0
0, 216478379, 0
0, 229462897, 0
0, 227118618, 0
0, 223194269, 0
0, 219665999, 0
0, 231749180, 0
0, 234254399, 0
0, 240152236, 0
0, 245837784, 0
0, 260517889, 0
0, 259006864, 0
0, 252357861, 0
];
times(9, :, :) = [
0, 214765821, 0
0, 214768060, 0
0, 214810557, 0
0, 216361252, 0
0, 229349288, 0
0, 227004668, 0
0, 223080619, 0
0, 219551549, 0
0, 231635444, 0
0, 234140199, 0
0, 240038012, 0
0, 245731315, 0
0, 260406366, 0
0, 258897890, 0
0, 252248878, 0
];
times(10, :, :) = [
0, 214752612, 0
0, 214754974, 0
0, 214937754, 0
0, 216489741, 0
0, 229475090, 0
0, 227130824, 0
0, 223206205, 0
0, 219678232, 0
0, 231761497, 0
0, 234266664, 0
0, 240164790, 0
0, 245845394, 0
0, 260546168, 0
0, 259031403, 0
0, 252369843, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
total_times = ave_times;
times(1, :, :) = [
12854922, 220702426, 64000
25431429, 220705019, 128000
12828597, 220706799, 64000
12798931, 220708764, 64000
83795135, 229815904, 128000
59551631, 227484045, 64000
36054131, 223565335, 64000
12899273, 220713766, 64000
88027801, 232101780, 64000
107724001, 234608720, 64000
138709978, 240503309, 64000
169021200, 246193207, 64000
0, 260881400, 0
192478816, 259360859, 64000
200779847, 252709195, 64000
];
times(2, :, :) = [
12855240, 220681938, 64000
25431735, 220684590, 128000
12827432, 220686602, 64000
12799865, 220688575, 64000
83940798, 229820047, 128000
59719636, 227487566, 64000
36217294, 223568671, 64000
12900029, 220693540, 64000
88167285, 232106657, 64000
107769030, 234612703, 64000
138822980, 240506878, 64000
169177669, 246198787, 64000
0, 260885918, 0
192501988, 259358757, 64000
200847418, 252714095, 64000
];
times(3, :, :) = [
12855406, 220676808, 64000
25432250, 220679421, 128000
12824603, 220681225, 64000
12800567, 220683259, 64000
83969957, 229820547, 128000
59721445, 227488879, 64000
36275085, 223569782, 64000
12900968, 220688447, 64000
88193526, 232106448, 64000
107814375, 234613106, 64000
138677412, 240505509, 64000
168990944, 246197731, 64000
0, 260924153, 0
192511425, 259392214, 64000
200676739, 252710691, 64000
];
times(4, :, :) = [
12855618, 220683536, 64000
25429623, 220686124, 128000
12827484, 220687852, 64000
12801483, 220690020, 64000
83706911, 229796074, 128000
59473874, 227464312, 64000
35991783, 223545751, 64000
12898618, 220694992, 64000
87951725, 232082053, 64000
107619495, 234588593, 64000
138564594, 240483811, 64000
168971412, 246175468, 64000
0, 260884846, 0
192489729, 259359687, 64000
200729396, 252691262, 64000
];
times(5, :, :) = [
12855433, 220673876, 64000
25429944, 220676556, 128000
12829049, 220678532, 64000
12798221, 220680437, 64000
83783135, 229811181, 128000
59586217, 227479570, 64000
36198668, 223560060, 64000
12900195, 220685507, 64000
87927302, 232096983, 64000
107545641, 234603836, 64000
138477302, 240499330, 64000
168866351, 246192137, 64000
0, 260895177, 0
192441661, 259366730, 64000
200649922, 252701443, 64000
];
times(6, :, :) = [
12855946, 220690206, 64000
25431586, 220692928, 128000
12829711, 220694529, 64000
12800296, 220696732, 64000
83608643, 229798411, 128000
59377362, 227467303, 64000
35932752, 223547295, 64000
12898314, 220701744, 64000
87783144, 232084882, 64000
107422226, 234591763, 64000
138431669, 240484010, 64000
168826174, 246174174, 64000
0, 260865196, 0
192446914, 259352049, 64000
200665519, 252691690, 64000
];
times(7, :, :) = [
12854105, 220691641, 64000
25431785, 220694495, 128000
12828988, 220696332, 64000
12798390, 220698345, 64000
83642169, 229796245, 128000
59392683, 227464474, 64000
35866448, 223546478, 64000
12898177, 220703403, 64000
87824962, 232082547, 64000
107460970, 234589541, 64000
138468463, 240481232, 64000
168792772, 246174304, 64000
0, 260877503, 0
192440564, 259348642, 64000
200556606, 252691993, 64000
];
times(8, :, :) = [
12855417, 220695748, 64000
25428571, 220698519, 128000
12827224, 220700180, 64000
12800494, 220702158, 64000
83748250, 229807594, 128000
59501945, 227475956, 64000
35990158, 223557587, 64000
12899364, 220707227, 64000
88003815, 232093761, 64000
107607134, 234600365, 64000
138557360, 240493526, 64000
168875406, 246185351, 64000
0, 260865025, 0
192421998, 259355907, 64000
200661567, 252700178, 64000
];
times(9, :, :) = [
12855495, 220693039, 64000
25429424, 220695857, 128000
12830282, 220697623, 64000
12798380, 220699636, 64000
83820248, 229818836, 128000
59615968, 227487440, 64000
36092035, 223567704, 64000
12897755, 220704532, 64000
88029092, 232104586, 64000
107690287, 234611509, 64000
138577139, 240504950, 64000
168930473, 246201002, 64000
0, 260897473, 0
192464742, 259372291, 64000
200715814, 252712086, 64000
];
times(10, :, :) = [
12855801, 220684241, 64000
25430940, 220686985, 128000
12825480, 220688562, 64000
12801102, 220690819, 64000
83644714, 229793568, 128000
59423777, 227461893, 64000
35975808, 223543042, 64000
12898769, 220695753, 64000
87862369, 232079281, 64000
107553859, 234585709, 64000
138514195, 240478177, 64000
168897803, 246172250, 64000
0, 260858998, 0
192442584, 259336464, 64000
200677378, 252683928, 64000
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
write_times = ave_times;
mytitle = 'v1\_200';
order = [1 2 3 4 8 7 6 5 9 10 11 12 15 14 13];

total_times = total_times(:, 2)(order);

read_times = read_times(:, 1)(order);
write_times = write_times(:, 1)(order);

polling_read_times = polling_read_times(:, 1)(order);
polling_write_times = polling_write_times(:, 1)(order);

total_times /= 1000000;

read_times /= 1000000;
write_times /= 1000000;

polling_read_times /= 1000000;
polling_write_times /= 1000000;

% laying read on top of write
read_times += write_times;
polling_read_times += write_times;

figure(1);
clf()
% set(gcf, 'Position', get(0,'Screensize'));
% set(gcf,'units','normalized','outerposition',[0 0 1 1])
bar(0:14, total_times,'g');
hold on;
bar(0:14, read_times,'b');
bar(0:14, polling_read_times,'r');
bar(0:14, write_times,'k');
bar(0:14, polling_write_times,'c');
hold off

axis([-2 16 0 300])
% axis([-1 15])
set(gca,'XTick',0:14);
set(gca,'xticklabel',{ '0'; '1'; '2'; '3'; '7'; '6'; '5'; '4'; '8'; '9'; '10'; '11'; '15'; '14'; '13' })

xlabel('Core ID')
ylabel('Cycles (Million)')

legend('activation', 'read', 'p-read', 'write', 'p-write')
title(mytitle)
print(1, strcat(mytitle, '.png'))
