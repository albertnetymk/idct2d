times(1, :, :) = [
0, 242773213, 0
0, 242777472, 0
0, 242996211, 0
0, 243013457, 0
0, 243273974, 0
35480, 243549348, 0
0, 244126736, 0
0, 244161900, 0
0, 244502277, 0
0, 244520059, 0
0, 244977714, 0
0, 245472991, 0
0, 245969864, 0
0, 246845952, 0
0, 246939846, 0
];
times(2, :, :) = [
0, 242738486, 0
0, 242742798, 0
0, 242962030, 0
0, 242979095, 0
0, 243239648, 0
34487, 243514715, 0
0, 244090392, 0
0, 244125440, 0
0, 244465593, 0
0, 244483461, 0
0, 244941246, 0
0, 245435736, 0
0, 245932977, 0
0, 246813410, 0
0, 246902065, 0
];
times(3, :, :) = [
0, 242745758, 0
0, 242750095, 0
0, 242969262, 0
0, 242986790, 0
0, 243247460, 0
28213, 243522641, 0
0, 244100460, 0
0, 244135503, 0
0, 244476300, 0
0, 244494107, 0
0, 244951233, 0
0, 245446680, 0
0, 245943546, 0
0, 246819201, 0
0, 246913094, 0
];
times(4, :, :) = [
0, 242746069, 0
0, 242750233, 0
0, 242967616, 0
0, 242985127, 0
0, 243245413, 0
38564, 243520233, 0
0, 244097472, 0
0, 244132621, 0
0, 244473089, 0
0, 244491084, 0
0, 244948316, 0
0, 245443878, 0
0, 245940774, 0
0, 246823599, 0
0, 246915640, 0
];
times(5, :, :) = [
0, 242724368, 0
0, 242728571, 0
0, 242947866, 0
0, 242965350, 0
0, 243225340, 0
25303, 243500444, 0
118, 244076658, 0
0, 244111766, 0
0, 244452566, 0
0, 244470501, 0
0, 244927445, 0
0, 245421570, 0
0, 245918579, 0
0, 246799686, 0
0, 246891176, 0
];
times(6, :, :) = [
0, 242725907, 0
0, 242730796, 0
0, 242948319, 0
0, 242965422, 0
0, 243226159, 0
36949, 243500700, 0
0, 244076414, 0
0, 244111417, 0
0, 244451402, 0
0, 244469389, 0
0, 244926969, 0
0, 245422498, 0
0, 245919444, 0
0, 246797995, 0
0, 246885764, 0
];
times(7, :, :) = [
0, 242755683, 0
0, 242760040, 0
0, 242979616, 0
0, 242997073, 0
0, 243257708, 0
38201, 243532836, 0
0, 244108806, 0
0, 244143981, 0
0, 244483817, 0
0, 244502024, 0
0, 244959303, 0
0, 245453882, 0
0, 245950678, 0
0, 246832805, 0
0, 246927081, 0
];
times(8, :, :) = [
0, 242735182, 0
0, 242739373, 0
0, 242957701, 0
0, 242975248, 0
0, 243234679, 0
38842, 243509692, 0
0, 244085469, 0
0, 244120567, 0
0, 244461055, 0
0, 244479198, 0
0, 244936508, 0
0, 245431288, 0
0, 245928638, 0
0, 246804360, 0
0, 246893974, 0
];
times(9, :, :) = [
0, 242761698, 0
0, 242766330, 0
0, 242986056, 0
0, 243003445, 0
0, 243263172, 0
28060, 243538805, 0
0, 244115851, 0
0, 244150882, 0
0, 244491133, 0
0, 244509371, 0
0, 244965826, 0
0, 245460304, 0
0, 245957220, 0
0, 246834337, 0
0, 246925876, 0
];
times(10, :, :) = [
0, 242726978, 0
0, 242731514, 0
0, 242951048, 0
0, 242968263, 0
0, 243228997, 0
39640, 243503430, 0
0, 244079524, 0
0, 244114636, 0
0, 244455118, 0
0, 244472746, 0
0, 244929093, 0
0, 245424738, 0
0, 245922266, 0
0, 246806778, 0
0, 246896305, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_read_times = ave_times;
times(1, :, :) = [
21266137, 240795278, 0
130117582, 240800883, 0
173856696, 241015699, 0
185305668, 241033739, 0
191159280, 241293815, 0
194950431, 241564256, 0
178909738, 242132581, 0
164337586, 242168942, 0
181842094, 242501562, 0
197119370, 242520199, 0
199262556, 242971039, 0
199726898, 243444668, 0
206513923, 243940844, 0
168100755, 244787220, 0
0, 244874934, 0
];
times(2, :, :) = [
21217596, 240738382, 0
130017969, 240744305, 0
173737383, 240961323, 0
185193663, 240979282, 0
191058402, 241238996, 0
194875369, 241509468, 0
178810610, 242077057, 0
164253251, 242113271, 0
181800493, 242445673, 0
197093932, 242464378, 0
199022000, 242915342, 0
199672272, 243387628, 0
206488998, 243883492, 0
168057564, 244727986, 0
0, 244815266, 0
];
times(3, :, :) = [
21252885, 240769997, 0
130050520, 240775791, 0
173790131, 240990834, 0
185250192, 241008748, 0
191110236, 241268765, 0
194908726, 241539625, 0
178872388, 242107225, 0
164297519, 242143642, 0
181822742, 242476631, 0
197075415, 242495016, 0
199233616, 242945740, 0
199693905, 243418231, 0
206481230, 243914355, 0
168102839, 244761582, 0
0, 244854155, 0
];
times(4, :, :) = [
21212692, 240770091, 0
130024095, 240776093, 0
173769199, 240991435, 0
185216539, 241009296, 0
191074319, 241269242, 0
194866456, 241539284, 0
178821509, 242106719, 0
164255020, 242142968, 0
181823273, 242475784, 0
197074156, 242493917, 0
199052869, 242945362, 0
199716845, 243417551, 0
206527785, 243913564, 0
168072808, 244767475, 0
0, 244859921, 0
];
times(5, :, :) = [
21225781, 240757100, 0
129983444, 240762943, 0
173702679, 240978141, 0
185153050, 240995913, 0
191004072, 241256124, 0
194798367, 241526330, 0
178768841, 242094806, 0
164215682, 242131016, 0
181832023, 242463675, 0
196910685, 242481789, 0
199164219, 242933720, 0
199621886, 243406779, 0
206460143, 243902660, 0
168102768, 244755675, 0
0, 244845339, 0
];
times(6, :, :) = [
21192805, 240739050, 0
129997108, 240744650, 0
173764681, 240961031, 0
185174827, 240978439, 0
191055589, 241238823, 0
194869120, 241509308, 0
178813764, 242076798, 0
164247661, 242112974, 0
181823240, 242446265, 0
196996161, 242464379, 0
199166875, 242914882, 0
199609415, 243387811, 0
206446519, 243883742, 0
168075217, 244731387, 0
0, 244825280, 0
];
times(7, :, :) = [
21287203, 240784826, 0
130089381, 240790671, 0
173791708, 241006924, 0
185251175, 241024764, 0
191121254, 241284749, 0
194896591, 241555115, 0
178847254, 242122616, 0
164283858, 242158954, 0
181806922, 242491610, 0
197112454, 242510192, 0
199094553, 242960633, 0
199731120, 243433266, 0
206540564, 243928677, 0
168106377, 244777227, 0
0, 244868241, 0
];
times(8, :, :) = [
21165930, 240758567, 0
130000715, 240764336, 0
173791931, 240981294, 0
185212740, 240998947, 0
191102343, 241259525, 0
194887985, 241530239, 0
178837934, 242097402, 0
164265835, 242133801, 0
181782621, 242466320, 0
196994638, 242484446, 0
199074082, 242936337, 0
199690694, 243409294, 0
206522104, 243905080, 0
168058696, 244749417, 0
0, 244840040, 0
];
times(9, :, :) = [
21154365, 240759764, 0
130000265, 240765792, 0
173765758, 240981285, 0
185193430, 240998915, 0
191048925, 241259078, 0
194835869, 241529275, 0
178794848, 242096809, 0
164241585, 242133074, 0
181816277, 242465722, 0
197048926, 242484201, 0
199200609, 242934862, 0
199660042, 243407881, 0
206502301, 243903734, 0
168046347, 244748783, 0
0, 244837425, 0
];
times(10, :, :) = [
21150781, 240713273, 0
129941019, 240719275, 0
173706515, 240936427, 0
185115775, 240954126, 0
191020244, 241214097, 0
194821076, 241484124, 0
178758111, 242051768, 0
164193069, 242088048, 0
181783572, 242420798, 0
196958852, 242439008, 0
199153459, 242889729, 0
199630443, 243364249, 0
206424718, 243860325, 0
168048741, 244707520, 0
0, 244798144, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_write_times = ave_times;
times(1, :, :) = [
0, 268787127, 0
10229421, 268796612, 64000
19323626, 269034358, 128000
9874299, 269053065, 64000
9382718, 269328395, 64000
9708759, 269619251, 64000
15371440, 270222298, 128000
9922610, 270260899, 64000
19380660, 270609093, 128000
9955210, 270629544, 64000
10924370, 271094344, 64000
10898231, 271592396, 64000
9370708, 272103183, 64000
15245522, 273004629, 128000
28451098, 273100415, 255980
];
times(2, :, :) = [
0, 268773618, 0
10231451, 268783034, 64000
19253508, 269020372, 128000
9866902, 269039348, 64000
9379868, 269319047, 64000
9721773, 269609312, 64000
15372418, 270212592, 128000
9934606, 270251317, 64000
19356275, 270599610, 128000
9910174, 270620162, 64000
10921255, 271085247, 64000
10694678, 271583190, 64000
9345843, 272093314, 64000
15261584, 272993856, 128000
28451632, 273091474, 255980
];
times(3, :, :) = [
0, 268789280, 0
10230005, 268799016, 64000
19322448, 269036498, 128000
9875473, 269055347, 64000
9391563, 269332589, 64000
9630792, 269622583, 64000
15313823, 270226038, 128000
9937260, 270264722, 64000
19403601, 270613136, 128000
9851092, 270633833, 64000
10930575, 271098066, 64000
10845769, 271594787, 64000
9345491, 272104820, 64000
15210591, 273005395, 128000
28456884, 273106158, 255980
];
times(4, :, :) = [
0, 268767510, 0
10226707, 268777334, 64000
19330298, 269014387, 128000
9867163, 269033108, 64000
9384812, 269310786, 64000
9707410, 269601129, 64000
15368870, 270204519, 128000
9942978, 270243283, 64000
19358473, 270591782, 128000
9913045, 270611898, 64000
10924428, 271077657, 64000
10705240, 271574042, 64000
9347161, 272083361, 64000
15264068, 272983998, 128000
28449164, 273081093, 255980
];
times(5, :, :) = [
0, 268814986, 0
10227149, 268824695, 64000
19323201, 269061365, 128000
9869525, 269080027, 64000
9384861, 269358454, 64000
9693796, 269648830, 64000
15369461, 270252108, 128000
9940543, 270290922, 64000
19347576, 270639044, 128000
9973686, 270659421, 64000
10936185, 271124213, 64000
10869391, 271622921, 64000
9349227, 272132924, 64000
15216661, 273032719, 128000
28454573, 273132200, 255980
];
times(6, :, :) = [
0, 268803630, 0
10227903, 268813327, 64000
19259556, 269049631, 128000
9850380, 269068499, 64000
9424025, 269347648, 64000
9860551, 269638057, 64000
15320639, 270241512, 128000
9932694, 270280263, 64000
19347548, 270628414, 128000
9968443, 270648538, 64000
10906080, 271114254, 64000
10698732, 271611951, 64000
9341282, 272122508, 64000
15218627, 273019939, 128000
28455259, 273113632, 255980
];
times(7, :, :) = [
0, 268771274, 0
10229664, 268780731, 64000
19333415, 269018146, 128000
9868972, 269036851, 64000
9419829, 269314373, 64000
9541679, 269604513, 64000
15324359, 270208006, 128000
9917101, 270246699, 64000
19350271, 270594950, 128000
9921978, 270615586, 64000
10883079, 271080966, 64000
10915627, 271578752, 64000
9366752, 272088121, 64000
15251953, 272989350, 128000
28450834, 273087006, 255980
];
times(8, :, :) = [
0, 268740492, 0
10231102, 268750159, 64000
19253705, 268986992, 128000
9875301, 269005968, 64000
9423096, 269281614, 64000
9547753, 269571877, 64000
15322979, 270175228, 128000
9890731, 270213805, 64000
19299063, 270562246, 128000
9949751, 270583082, 64000
10871556, 271047749, 64000
10914209, 271544859, 64000
9393028, 272054812, 64000
15201234, 272955817, 128000
28458737, 273055976, 255980
];
times(9, :, :) = [
0, 268718899, 0
10229340, 268728124, 64000
19259254, 268965729, 128000
9847168, 268984625, 64000
9392869, 269263204, 64000
9627240, 269554081, 64000
15321809, 270157397, 128000
9901996, 270195983, 64000
19295741, 270544295, 128000
9923791, 270565334, 64000
10845986, 271029891, 64000
10906333, 271528193, 64000
9395588, 272038531, 64000
15209797, 272945554, 128000
28458018, 273042768, 255980
];
times(10, :, :) = [
0, 268768825, 0
10232594, 268778033, 64000
19255280, 269015654, 128000
9870565, 269034733, 64000
9378603, 269313090, 64000
9695911, 269603887, 64000
15372116, 270207124, 128000
9925623, 270245743, 64000
19378705, 270594145, 128000
9968193, 270614670, 64000
10858223, 271079733, 64000
10911636, 271576129, 64000
9375928, 272086240, 64000
15244621, 272979274, 128000
28450648, 273074640, 255980
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
read_times = ave_times;
times(1, :, :) = [
0, 241084062, 0
0, 241088218, 0
0, 241306287, 0
0, 241323550, 0
0, 241583361, 0
0, 241854522, 0
0, 242423597, 0
0, 242458561, 0
0, 242793763, 0
0, 242811856, 0
0, 243263383, 0
0, 243737775, 0
0, 244234263, 0
0, 245090475, 0
0, 245177291, 0
];
times(2, :, :) = [
0, 241099232, 0
0, 241103617, 0
0, 241321434, 0
0, 241338370, 0
0, 241598919, 0
0, 241869856, 0
0, 242439455, 0
0, 242474337, 0
0, 242809247, 0
0, 242827096, 0
0, 243278032, 0
0, 243750023, 0
0, 244246433, 0
0, 245098862, 0
0, 245187432, 0
];
times(3, :, :) = [
0, 241098552, 0
0, 241102887, 0
0, 241320457, 0
0, 241337378, 0
0, 241597595, 0
0, 241868164, 0
0, 242437618, 0
0, 242472549, 0
0, 242807453, 0
0, 242825284, 0
0, 243277006, 0
0, 243750519, 0
0, 244246497, 0
0, 245102298, 0
0, 245194640, 0
];
times(4, :, :) = [
0, 241083244, 0
0, 241087527, 0
0, 241304653, 0
0, 241321793, 0
0, 241581875, 0
0, 241853270, 0
0, 242422473, 0
0, 242457393, 0
0, 242792722, 0
0, 242810582, 0
0, 243262369, 0
0, 243734679, 0
0, 244230528, 0
0, 245081990, 0
0, 245174891, 0
];
times(5, :, :) = [
0, 241099632, 0
0, 241104030, 0
0, 241321537, 0
0, 241339070, 0
0, 241599095, 0
0, 241869909, 0
0, 242439483, 0
0, 242474353, 0
0, 242809574, 0
0, 242827192, 0
0, 243278729, 0
0, 243752870, 0
0, 244248801, 0
0, 245098689, 0
0, 245191676, 0
];
times(6, :, :) = [
0, 241140585, 0
0, 241145205, 0
0, 241362428, 0
0, 241379296, 0
0, 241639720, 0
0, 241910245, 0
0, 242479504, 0
0, 242514539, 0
0, 242849210, 0
0, 242866871, 0
0, 243318188, 0
0, 243791274, 0
0, 244287364, 0
0, 245135030, 0
0, 245225140, 0
];
times(7, :, :) = [
0, 241104395, 0
0, 241108923, 0
0, 241326517, 0
0, 241343527, 0
0, 241603275, 0
0, 241874188, 0
0, 242443309, 0
0, 242478320, 0
0, 242813424, 0
0, 242831443, 0
0, 243282971, 0
0, 243754954, 0
0, 244250980, 0
0, 245101074, 0
0, 245192111, 0
];
times(8, :, :) = [
0, 241114253, 0
0, 241118788, 0
0, 241335091, 0
0, 241352265, 0
0, 241612395, 0
0, 241882556, 0
0, 242451668, 0
0, 242486570, 0
0, 242821695, 0
0, 242839597, 0
0, 243291439, 0
0, 243763569, 0
0, 244259583, 0
0, 245113887, 0
0, 245204891, 0
];
times(9, :, :) = [
0, 241116537, 0
0, 241120359, 0
0, 241338154, 0
0, 241355556, 0
0, 241615444, 0
0, 241886082, 0
0, 242455080, 0
0, 242490021, 0
0, 242824633, 0
0, 242842687, 0
0, 243293706, 0
0, 243767090, 0
0, 244262963, 0
0, 245114644, 0
0, 245207582, 0
];
times(10, :, :) = [
0, 241107095, 0
0, 241111643, 0
0, 241328427, 0
0, 241345347, 0
0, 241604966, 0
0, 241875847, 0
0, 242445035, 0
0, 242480086, 0
0, 242814866, 0
0, 242832861, 0
0, 243284172, 0
0, 243758050, 0
0, 244253566, 0
0, 245106700, 0
0, 245194967, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
total_times = ave_times;
times(1, :, :) = [
35382546, 243377979, 64000
163617595, 243390770, 128000
186744817, 243600240, 64000
202423801, 243621103, 64000
204750818, 243881292, 64000
208371986, 244151718, 64000
193322842, 244712896, 64000
198176224, 244755097, 128000
195735078, 245080052, 64000
211622962, 245101895, 64000
214392351, 245552402, 64000
217755602, 246024173, 64000
220901835, 246520180, 64000
185780493, 247368578, 64000
0, 247458612, 0
];
times(2, :, :) = [
35317313, 243301291, 64000
163457203, 243314511, 128000
186578779, 243523655, 64000
202270673, 243544688, 64000
204656579, 243803447, 64000
208257197, 244074340, 64000
193210928, 244635722, 64000
198059368, 244677901, 128000
195546330, 245002954, 64000
211538601, 245024470, 64000
214265834, 245474551, 64000
217648470, 245947591, 64000
220797658, 246443421, 64000
185708405, 247294274, 64000
0, 247386265, 0
];
times(3, :, :) = [
35375718, 243376304, 64000
163608872, 243389617, 128000
186740308, 243597436, 64000
202426174, 243618556, 64000
204794866, 243878102, 64000
208410516, 244148883, 64000
193335857, 244709206, 64000
198175078, 244751390, 128000
195706558, 245075920, 64000
211597976, 245097698, 64000
214373677, 245547840, 64000
217740043, 246020321, 64000
220904353, 246516360, 64000
185825487, 247361299, 64000
0, 247450846, 0
];
times(4, :, :) = [
35366831, 243356305, 64000
163628658, 243369197, 128000
186806615, 243577830, 64000
202426933, 243598614, 64000
204828138, 243858409, 64000
208440607, 244128442, 64000
193353598, 244689316, 64000
198186340, 244731491, 128000
195731259, 245055993, 64000
211623196, 245077880, 64000
214386883, 245528826, 64000
217750071, 246001309, 64000
220893754, 246497761, 64000
185810514, 247348714, 64000
0, 247437374, 0
];
times(5, :, :) = [
35383826, 243375077, 64000
163626037, 243388115, 128000
186787253, 243597698, 64000
202399899, 243618299, 64000
204827270, 243878193, 64000
208395318, 244148459, 64000
193336386, 244710440, 64000
198176269, 244752737, 128000
195631755, 245076935, 64000
211621641, 245098695, 64000
214399770, 245549499, 64000
217754116, 246022906, 64000
220842795, 246518743, 64000
185829196, 247367193, 64000
0, 247460132, 0
];
times(6, :, :) = [
35371829, 243359894, 64000
163616495, 243372888, 128000
186738180, 243581449, 64000
202414064, 243602302, 64000
204791566, 243862168, 64000
208384754, 244132131, 64000
193329134, 244693346, 64000
198171585, 244735658, 128000
195621316, 245060421, 64000
211666944, 245081814, 64000
214363479, 245531339, 64000
217757706, 246004182, 64000
220909725, 246499936, 64000
185814273, 247346566, 64000
0, 247438561, 0
];
times(7, :, :) = [
35328590, 243329690, 64000
163563122, 243342883, 128000
186760484, 243551510, 64000
202394802, 243572362, 64000
204808784, 243831714, 64000
208403392, 244101612, 64000
193322139, 244662633, 64000
198164207, 244704903, 128000
195618467, 245029822, 64000
211649107, 245051300, 64000
214392792, 245502109, 64000
217736479, 245973773, 64000
220830537, 246469342, 64000
185721689, 247315154, 64000
0, 247404479, 0
];
times(8, :, :) = [
35285631, 243286734, 64000
163473818, 243300026, 128000
186595570, 243508937, 64000
202298878, 243530022, 64000
204643371, 243789192, 64000
208270310, 244059834, 64000
193211080, 244621009, 64000
198067137, 244663175, 128000
195585324, 244987906, 64000
211539093, 245009470, 64000
214293599, 245459778, 64000
217686604, 245931407, 64000
220790104, 246427499, 64000
185741811, 247280539, 64000
0, 247372622, 0
];
times(9, :, :) = [
35374197, 243348195, 64000
163612598, 243361327, 128000
186743745, 243570581, 64000
202420492, 243591519, 64000
204783619, 243851585, 64000
208413587, 244121826, 64000
193337260, 244682547, 64000
198165180, 244724797, 128000
195716137, 245049341, 64000
211604579, 245071153, 64000
214367738, 245521517, 64000
217714818, 245993817, 64000
220869915, 246489958, 64000
185747129, 247333286, 64000
0, 247422983, 0
];
times(10, :, :) = [
35348020, 243336703, 64000
163511302, 243349504, 128000
186610741, 243559051, 64000
202291051, 243580007, 64000
204670483, 243839676, 64000
208239132, 244109510, 64000
193196575, 244670191, 64000
198051816, 244712623, 128000
195503907, 245037081, 64000
211567697, 245058621, 64000
214270976, 245508487, 64000
217669027, 245981711, 64000
220854441, 246478503, 64000
185781679, 247319814, 64000
0, 247411224, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
write_times = ave_times;
mytitle = 'v1\_16';
% order = [1 2 3 4 8 7 6 5 9 10 11 12 15 14 13];
order = 1:15;

total_times = total_times(:, 2)(order);

read_times = read_times(:, 1)(order);
write_times = write_times(:, 1)(order);

polling_read_times = polling_read_times(:, 1)(order);
polling_write_times = polling_write_times(:, 1)(order);

total_times /= 1000000;

read_times /= 1000000;
write_times /= 1000000;

polling_read_times /= 1000000;
polling_write_times /= 1000000;

% laying read on top of write
read_times += write_times;
polling_read_times += write_times;

figure(1);
clf()
% set(gcf, 'Position', get(0,'Screensize'));
% set(gcf,'units','normalized','outerposition',[0 0 1 1])
bar(0:14, total_times,'g');
hold on;
bar(0:14, read_times,'b');
bar(0:14, polling_read_times,'r');
bar(0:14, write_times,'k');
bar(0:14, polling_write_times,'c');
hold off

axis([-2 16 0 300])
% axis([-1 15])
set(gca,'XTick',0:14);
set(gca,'xticklabel',{ '0'; '1'; '2'; '3'; '7'; '6'; '5'; '4'; '8'; '9'; '10'; '11'; '15'; '14'; '13' })

xlabel('Core ID')
ylabel('Cycles (Million)')

legend('total', 'read', 'p-read', 'write', 'p-write')
title(mytitle)
print(1, strcat(mytitle, '.png'))
