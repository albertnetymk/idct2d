times(1, :, :) = [
0, 229679691, 0
0, 230352034, 0
1450, 231117277, 0
0, 232105502, 0
0, 233704189, 0
852, 235379627, 0
0, 237507030, 0
0, 238554624, 0
58, 239707588, 0
0, 240972285, 0
0, 244169490, 0
0, 247161815, 0
296, 250176533, 0
0, 253875916, 0
0, 254535999, 0
];
times(2, :, :) = [
0, 229673418, 0
0, 230347689, 0
580, 231106407, 0
0, 232097176, 0
180, 233694615, 0
852, 235370911, 0
0, 237499561, 0
0, 238547703, 0
0, 239698436, 0
0, 240963550, 0
0, 244160707, 0
0, 247157441, 0
232, 250172256, 0
0, 253855034, 0
58, 254507698, 0
];
times(3, :, :) = [
0, 229669330, 0
0, 230342552, 0
1334, 231104761, 0
0, 232093352, 0
424, 233692046, 0
943, 235368391, 0
0, 237498992, 0
0, 238548185, 0
0, 239700782, 0
0, 240964541, 0
0, 244162186, 0
0, 247158419, 0
0, 250173820, 0
0, 253866292, 0
0, 254525639, 0
];
times(4, :, :) = [
0, 229671066, 0
0, 230343410, 0
406, 231105383, 0
0, 232095875, 0
244, 233693922, 0
847, 235370721, 0
0, 237500078, 0
0, 238548575, 0
0, 239700916, 0
0, 240964303, 0
0, 244161143, 0
0, 247155749, 0
58, 250170460, 0
0, 253863909, 0
58, 254526849, 0
];
times(5, :, :) = [
0, 229667344, 0
0, 230338232, 0
1334, 231102958, 0
0, 232093510, 0
174, 233691338, 0
612, 235367184, 0
0, 237496195, 0
0, 238544789, 0
0, 239696093, 0
58, 240959849, 0
0, 244156599, 0
0, 247150255, 0
174, 250165145, 0
0, 253851252, 0
0, 254508011, 0
];
times(6, :, :) = [
0, 229690551, 0
0, 230366404, 0
1218, 231127393, 0
0, 232117768, 0
116, 233715842, 0
714, 235392865, 0
0, 237522262, 0
0, 238570460, 0
116, 239722898, 0
0, 240986825, 0
0, 244184171, 0
0, 247180816, 0
180, 250195348, 0
0, 253883637, 0
0, 254553157, 0
];
times(7, :, :) = [
0, 229681683, 0
0, 230353365, 0
1392, 231115944, 0
0, 232104675, 0
296, 233703105, 0
695, 235379682, 0
0, 237509276, 0
0, 238557381, 0
0, 239708592, 0
0, 240973744, 0
0, 244172592, 0
0, 247168693, 0
1238, 250183979, 0
0, 253867218, 0
0, 254530678, 0
];
times(8, :, :) = [
0, 229667867, 0
0, 230341251, 0
870, 231105949, 0
0, 232094816, 0
58, 233692993, 0
758, 235370229, 0
0, 237499747, 0
0, 238548564, 0
0, 239699914, 0
0, 240964042, 0
0, 244160762, 0
0, 247153924, 0
0, 250168980, 0
0, 253858932, 0
0, 254510456, 0
];
times(9, :, :) = [
0, 229678662, 0
0, 230349497, 0
580, 231111301, 0
0, 232100602, 0
58, 233699624, 0
811, 235375447, 0
0, 237504559, 0
0, 238552569, 0
0, 239703856, 0
0, 240967198, 0
0, 244164120, 0
0, 247158270, 0
1484, 250173349, 0
0, 253861055, 0
0, 254525767, 0
];
times(10, :, :) = [
0, 229663619, 0
0, 230333862, 0
464, 231097423, 0
0, 232086409, 0
360, 233685645, 0
693, 235362330, 0
0, 237492922, 0
0, 238541505, 0
58, 239693512, 0
464, 240956246, 0
0, 244155101, 0
0, 247150212, 0
58, 250165098, 0
0, 253858858, 0
0, 254522529, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_read_times = ave_times;
times(1, :, :) = [
8214641, 227719226, 0
69010063, 228389644, 0
78678046, 229145347, 0
90264269, 230131439, 0
105322519, 231728528, 0
119430644, 233372819, 0
120661679, 235467984, 0
116151909, 236499659, 0
134416145, 237632662, 0
152162047, 238880938, 0
167490373, 242034816, 0
179842330, 244881786, 0
198009663, 247896309, 0
173133424, 251459625, 0
0, 252120927, 0
];
times(2, :, :) = [
8216316, 227715579, 0
69072829, 228387484, 0
78752749, 229144190, 0
90321270, 230130367, 0
105411273, 231728224, 0
119456995, 233372655, 0
120698861, 235467155, 0
116199363, 236498913, 0
134483592, 237631513, 0
152268017, 238879891, 0
167375714, 242034163, 0
179867940, 244878966, 0
198006043, 247893734, 0
173125054, 251450273, 0
0, 252110272, 0
];
times(3, :, :) = [
8213367, 227713969, 0
69025256, 228385797, 0
78702565, 229140706, 0
90263691, 230126857, 0
105344087, 231723969, 0
119453775, 233368202, 0
120663773, 235463275, 0
116148503, 236494618, 0
134415796, 237627284, 0
152213912, 238875188, 0
167352375, 242031027, 0
179882061, 244877574, 0
198048418, 247892155, 0
173167301, 251460649, 0
0, 252119731, 0
];
times(4, :, :) = [
8213721, 227724737, 0
69048502, 228394507, 0
78718803, 229149744, 0
90284221, 230136717, 0
105337391, 231734724, 0
119443705, 233379119, 0
120676139, 235473893, 0
116166955, 236505774, 0
134409419, 237638441, 0
152193099, 238886413, 0
167335796, 242039421, 0
179868576, 244888159, 0
198033822, 247902620, 0
173125767, 251452258, 0
0, 252107351, 0
];
times(5, :, :) = [
8204236, 227715481, 0
69036232, 228387026, 0
78721551, 229142254, 0
90342965, 230128458, 0
105330882, 231725256, 0
119407627, 233370377, 0
120659764, 235465207, 0
116142844, 236497398, 0
134395844, 237629911, 0
152163139, 238878141, 0
167447215, 242033114, 0
179830351, 244878059, 0
197981599, 247892555, 0
173133750, 251457279, 0
0, 252113815, 0
];
times(6, :, :) = [
8223011, 227727858, 0
69030544, 228399131, 0
78714433, 229153745, 0
90272141, 230139601, 0
105320283, 231736629, 0
119408588, 233381491, 0
120650831, 235476929, 0
116147435, 236508473, 0
134381286, 237641174, 0
152109883, 238889270, 0
167438577, 242041566, 0
179806267, 244883799, 0
197965287, 247898587, 0
173125024, 251447708, 0
0, 252104259, 0
];
times(7, :, :) = [
8227690, 227728378, 0
69144373, 228402201, 0
78834708, 229158911, 0
90421607, 230145007, 0
105472822, 231743067, 0
119489916, 233387163, 0
120725974, 235483818, 0
116217754, 236516111, 0
134450065, 237648615, 0
152185748, 238896495, 0
167514437, 242050628, 0
179837034, 244894401, 0
197991921, 247909027, 0
173137545, 251460582, 0
0, 252117809, 0
];
times(8, :, :) = [
8220147, 227724777, 0
69063491, 228394944, 0
78707530, 229150076, 0
90280822, 230136236, 0
105340855, 231733111, 0
119407262, 233377078, 0
120660805, 235472103, 0
116148628, 236504097, 0
134411999, 237636781, 0
152147860, 238884402, 0
167466023, 242039406, 0
179847966, 244884157, 0
198015695, 247898713, 0
173144027, 251461224, 0
0, 252125643, 0
];
times(9, :, :) = [
8215400, 227727778, 0
69056232, 228401180, 0
78744471, 229156147, 0
90295654, 230143088, 0
105371863, 231740315, 0
119478949, 233385538, 0
120718719, 235480354, 0
116201090, 236512138, 0
134457441, 237644818, 0
152254216, 238893054, 0
167370746, 242047752, 0
179917326, 244894269, 0
198072602, 247908775, 0
173147478, 251460463, 0
0, 252117270, 0
];
times(10, :, :) = [
8228609, 227723353, 0
69071444, 228394034, 0
78743453, 229149603, 0
90298970, 230136085, 0
105378476, 231733504, 0
119467150, 233377865, 0
120700377, 235473586, 0
116194643, 236505147, 0
134471123, 237638671, 0
152184175, 238886621, 0
167508778, 242040946, 0
179896587, 244887019, 0
198012746, 247901569, 0
173167394, 251469084, 0
0, 252132439, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_write_times = ave_times;
times(1, :, :) = [
0, 254771768, 0
9677479, 255511326, 64000
19363470, 256330904, 128000
9712600, 257368233, 64000
9625486, 259090457, 64000
10070748, 260901661, 64000
15842414, 263196812, 128000
10152279, 264317140, 64000
19308175, 265543647, 128000
9732525, 266879563, 64000
10846648, 270235149, 64000
10822380, 273350570, 64000
9305965, 276545020, 64000
15297700, 280350657, 128000
28577992, 281052351, 255980
];
times(2, :, :) = [
0, 254753232, 0
9689218, 255492379, 64000
19368548, 256312316, 128000
9719869, 257348915, 64000
9628303, 259080474, 64000
10023231, 260891527, 64000
15853103, 263186623, 128000
10164995, 264306689, 64000
19306520, 265533970, 128000
9650256, 266870610, 64000
10818498, 270222512, 64000
10980021, 273340723, 64000
9345759, 276536390, 64000
15289306, 280344907, 128000
28579373, 281050115, 255980
];
times(3, :, :) = [
0, 254754351, 0
9673848, 255492878, 64000
19376917, 256311501, 128000
9709892, 257346834, 64000
9639317, 259073397, 64000
9856834, 260883885, 64000
15828684, 263179603, 128000
10171716, 264299859, 64000
19296925, 265526303, 128000
9676376, 266862336, 64000
10853491, 270217162, 64000
10898014, 273332436, 64000
9331964, 276527216, 64000
15314290, 280331712, 128000
28577955, 281038099, 255980
];
times(4, :, :) = [
0, 254805766, 0
9678951, 255545474, 64000
19363130, 256363879, 128000
9710524, 257398914, 64000
9626324, 259126081, 64000
10043188, 260937093, 64000
15841261, 263232431, 128000
10167607, 264352216, 64000
19296773, 265578828, 128000
9736289, 266914771, 64000
10836505, 270271671, 64000
10845296, 273388648, 64000
9311543, 276583857, 64000
15285034, 280391436, 128000
28578967, 281094926, 255980
];
times(5, :, :) = [
0, 254765036, 0
9677343, 255504238, 64000
19381052, 256323191, 128000
9714993, 257358194, 64000
9636397, 259091044, 64000
9862718, 260902303, 64000
15830977, 263197614, 128000
10144513, 264318063, 64000
19330599, 265546367, 128000
9652532, 266882383, 64000
10829068, 270237936, 64000
10978664, 273355683, 64000
9340146, 276550967, 64000
15316002, 280358172, 128000
28576628, 281069277, 255980
];
times(6, :, :) = [
0, 254781705, 0
9687801, 255520387, 64000
19381082, 256339564, 128000
9712185, 257374016, 64000
9637377, 259097160, 64000
9855331, 260907847, 64000
15828703, 263202829, 128000
10156118, 264322832, 64000
19298537, 265549382, 128000
9624738, 266885447, 64000
10862136, 270242844, 64000
10828601, 273362454, 64000
9311487, 276557606, 64000
15307515, 280372817, 128000
28575867, 281080052, 255980
];
times(7, :, :) = [
0, 254763789, 0
9689041, 255501533, 64000
19362991, 256320417, 128000
9718600, 257358770, 64000
9632393, 259083252, 64000
9893211, 260892872, 64000
15826403, 263188415, 128000
10169641, 264308820, 64000
19297632, 265534364, 128000
9673470, 266870118, 64000
10872271, 270225871, 64000
10830355, 273344815, 64000
9311422, 276539882, 64000
15308095, 280342365, 128000
28579823, 281044692, 255980
];
times(8, :, :) = [
0, 254775234, 0
9677970, 255513245, 64000
19364742, 256332641, 128000
9710123, 257370940, 64000
9624304, 259100154, 64000
10084945, 260910775, 64000
15841175, 263205453, 128000
10155526, 264325375, 64000
19319844, 265551591, 128000
9647999, 266887425, 64000
10866893, 270243965, 64000
10830951, 273361623, 64000
9309135, 276556733, 64000
15290859, 280367830, 128000
28577126, 281070057, 255980
];
times(9, :, :) = [
0, 254747734, 0
9679215, 255486254, 64000
19378091, 256306482, 128000
9714736, 257344573, 64000
9635981, 259064256, 64000
9852669, 260874716, 64000
15833389, 263170391, 128000
10161619, 264290449, 64000
19302808, 265517289, 128000
9680114, 266854052, 64000
10834633, 270207051, 64000
10989963, 273323356, 64000
9352954, 276518434, 64000
15276921, 280333956, 128000
28576984, 281036531, 255980
];
times(10, :, :) = [
0, 254757366, 0
9688537, 255495549, 64000
19359580, 256315014, 128000
9716992, 257352015, 64000
9624073, 259081670, 64000
10071202, 260892402, 64000
15849510, 263187338, 128000
10155286, 264307555, 64000
19297866, 265534211, 128000
9688875, 266870774, 64000
10827978, 270224356, 64000
10987475, 273344098, 64000
9334628, 276539235, 64000
15320274, 280339713, 128000
28577598, 281045722, 255980
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
read_times = ave_times;
times(1, :, :) = [
0, 228098640, 0
0, 228772473, 0
0, 229528153, 0
0, 230515782, 0
0, 232113199, 0
0, 233758342, 0
0, 235855048, 0
0, 236886921, 0
0, 238020292, 0
0, 239268839, 0
0, 242424931, 0
0, 245273304, 0
0, 248287619, 0
0, 251863185, 0
0, 252520475, 0
];
times(2, :, :) = [
0, 228094009, 0
0, 228765615, 0
0, 229522075, 0
0, 230509310, 0
0, 232107252, 0
0, 233752630, 0
0, 235849996, 0
0, 236882216, 0
0, 238015903, 0
0, 239264710, 0
0, 242420375, 0
0, 245264688, 0
0, 248279012, 0
0, 251852194, 0
0, 252507869, 0
];
times(3, :, :) = [
0, 228085235, 0
0, 228758439, 0
0, 229513189, 0
0, 230500199, 0
0, 232097466, 0
0, 233741920, 0
0, 235840610, 0
0, 236872376, 0
0, 238006206, 0
0, 239254268, 0
0, 242408480, 0
0, 245252496, 0
0, 248266893, 0
0, 251843554, 0
0, 252496981, 0
];
times(4, :, :) = [
0, 228087071, 0
0, 228760290, 0
0, 229515986, 0
0, 230503818, 0
0, 232101029, 0
0, 233745971, 0
0, 235843730, 0
0, 236875134, 0
0, 238009397, 0
0, 239257425, 0
0, 242413346, 0
0, 245259415, 0
0, 248273770, 0
0, 251834771, 0
0, 252493266, 0
];
times(5, :, :) = [
0, 228089034, 0
0, 228762898, 0
0, 229517279, 0
0, 230505327, 0
0, 232103681, 0
0, 233748039, 0
0, 235844353, 0
0, 236876613, 0
0, 238010499, 0
0, 239259260, 0
0, 242413313, 0
0, 245254496, 0
0, 248268951, 0
0, 251829023, 0
0, 252478390, 0
];
times(6, :, :) = [
0, 228097372, 0
0, 228769864, 0
0, 229526151, 0
0, 230513786, 0
0, 232111120, 0
0, 233756114, 0
0, 235852893, 0
0, 236884773, 0
0, 238018611, 0
0, 239266945, 0
0, 242423156, 0
0, 245272559, 0
0, 248286978, 0
0, 251863089, 0
0, 252520858, 0
];
times(7, :, :) = [
0, 228088196, 0
0, 228760209, 0
0, 229516098, 0
0, 230503462, 0
0, 232100803, 0
0, 233745369, 0
0, 235841309, 0
0, 236872520, 0
0, 238006392, 0
0, 239254657, 0
0, 242409329, 0
0, 245250942, 0
0, 248265410, 0
0, 251828449, 0
0, 252485309, 0
];
times(8, :, :) = [
0, 228096837, 0
0, 228770189, 0
0, 229525953, 0
0, 230513767, 0
0, 232110388, 0
0, 233755060, 0
0, 235853896, 0
0, 236885404, 0
0, 238019910, 0
0, 239268300, 0
0, 242425833, 0
0, 245271736, 0
0, 248286325, 0
0, 251842848, 0
0, 252497357, 0
];
times(9, :, :) = [
0, 228081285, 0
0, 228753916, 0
0, 229509907, 0
0, 230497185, 0
0, 232094803, 0
0, 233739192, 0
0, 235834806, 0
0, 236868014, 0
0, 238001341, 0
0, 239249126, 0
0, 242404535, 0
0, 245249651, 0
0, 248264095, 0
0, 251825704, 0
0, 252480515, 0
];
times(10, :, :) = [
0, 228073308, 0
0, 228744957, 0
0, 229500689, 0
0, 230487833, 0
0, 232085181, 0
0, 233729001, 0
0, 235826438, 0
0, 236858697, 0
0, 237992270, 0
0, 239240531, 0
0, 242394810, 0
0, 245239111, 0
0, 248253975, 0
0, 251833761, 0
0, 252488670, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
total_times = ave_times;
times(1, :, :) = [
22324368, 230163892, 64000
87839699, 230841312, 128000
82589948, 231588900, 64000
97696372, 232566647, 64000
110141469, 234156400, 64000
125512353, 235779150, 64000
128939601, 237847140, 64000
146746400, 238866680, 128000
143543166, 239976212, 64000
161544171, 241198254, 64000
178527686, 244278169, 64000
195298715, 247140291, 64000
211067768, 250058152, 64000
190130926, 253684371, 64000
0, 254332447, 0
];
times(2, :, :) = [
22337827, 230160885, 64000
87909707, 230836846, 128000
82612296, 231584542, 64000
97718657, 232562718, 64000
110157699, 234151829, 64000
125539467, 235776699, 64000
129013740, 237844460, 64000
146735782, 238866467, 128000
143612809, 239976020, 64000
161515485, 241197102, 64000
178497282, 244275718, 64000
195342189, 247141284, 64000
211085338, 250059708, 64000
190111063, 253670127, 64000
0, 254324280, 0
];
times(3, :, :) = [
22315517, 230157413, 64000
87923494, 230835643, 128000
82633351, 231583625, 64000
97719854, 232562593, 64000
110147997, 234152282, 64000
125534874, 235776593, 64000
128950147, 237845101, 64000
146725011, 238864939, 128000
143536852, 239973891, 64000
161499932, 241194782, 64000
178544715, 244274594, 64000
195320015, 247131150, 64000
211046012, 250048633, 64000
190098260, 253653548, 64000
0, 254314568, 0
];
times(4, :, :) = [
22335161, 230153566, 64000
87911793, 230828673, 128000
82635924, 231577027, 64000
97740356, 232553770, 64000
110164858, 234143180, 64000
125559862, 235768968, 64000
129070752, 237835319, 64000
146818340, 238857032, 128000
143581957, 239965967, 64000
161623949, 241187410, 64000
178598478, 244268271, 64000
195371467, 247132939, 64000
211091144, 250050558, 64000
190117059, 253661761, 64000
0, 254323657, 0
];
times(5, :, :) = [
22343022, 230171596, 64000
88219657, 230847936, 128000
82944121, 231596254, 64000
98042632, 232573855, 64000
110367158, 234163293, 64000
125673978, 235786213, 64000
129117444, 237852534, 64000
146829379, 238873570, 128000
143699152, 239983125, 64000
161653948, 241204107, 64000
178650655, 244283429, 64000
195485713, 247145142, 64000
211180234, 250061681, 64000
190124223, 253678012, 64000
0, 254324925, 0
];
times(6, :, :) = [
22319194, 230157769, 64000
87917745, 230834352, 128000
82599370, 231583770, 64000
97690741, 232561319, 64000
110115105, 234151302, 64000
125511211, 235773466, 64000
129072058, 237846829, 64000
146844596, 238866521, 128000
143653928, 239974157, 64000
161627862, 241195404, 64000
178685531, 244276803, 64000
195430710, 247139800, 64000
211116283, 250057439, 64000
190118712, 253668561, 64000
0, 254322961, 0
];
times(7, :, :) = [
22331064, 230157977, 64000
87899178, 230832567, 128000
82613385, 231582867, 64000
97683040, 232560213, 64000
110099737, 234149771, 64000
125431991, 235773955, 64000
128954039, 237840380, 64000
146719741, 238860036, 128000
143483456, 239968053, 64000
161476395, 241190105, 64000
178424759, 244271966, 64000
195298484, 247136021, 64000
211053965, 250053962, 64000
190168374, 253667226, 64000
0, 254327124, 0
];
times(8, :, :) = [
22324625, 230156722, 64000
87779421, 230830171, 128000
82455168, 231580930, 64000
97535068, 232558647, 64000
109969365, 234147975, 64000
125347058, 235772432, 64000
128850798, 237844937, 64000
146634431, 238864145, 128000
143419500, 239971894, 64000
161451807, 241191699, 64000
178451144, 244273240, 64000
195326469, 247137588, 64000
211055181, 250054558, 64000
190121737, 253673260, 64000
0, 254331350, 0
];
times(9, :, :) = [
22340048, 230169064, 64000
87874556, 230844950, 128000
82596604, 231593936, 64000
97714530, 232571200, 64000
110115657, 234160547, 64000
125525746, 235784872, 64000
128946537, 237853035, 64000
146696419, 238871575, 128000
143548985, 239979838, 64000
161506939, 241199780, 64000
178453497, 244279113, 64000
195288554, 247139496, 64000
211063889, 250056932, 64000
190197295, 253680283, 64000
0, 254333047, 0
];
times(10, :, :) = [
22301721, 230151714, 64000
87778823, 230826260, 128000
82498895, 231575488, 64000
97579357, 232552764, 64000
110022561, 234142324, 64000
125412799, 235767716, 64000
128819558, 237840669, 64000
146619828, 238861865, 128000
143490620, 239969574, 64000
161438430, 241190086, 64000
178511409, 244268486, 64000
195277466, 247133809, 64000
211009252, 250052530, 64000
190122512, 253668975, 64000
0, 254328306, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
write_times = ave_times;
mytitle = 'v1\_100';
% order = [1 2 3 4 8 7 6 5 9 10 11 12 15 14 13];
order = 1:15;

total_times = total_times(:, 2)(order);

read_times = read_times(:, 1)(order);
write_times = write_times(:, 1)(order);

polling_read_times = polling_read_times(:, 1)(order);
polling_write_times = polling_write_times(:, 1)(order);

total_times /= 1000000;

read_times /= 1000000;
write_times /= 1000000;

polling_read_times /= 1000000;
polling_write_times /= 1000000;

% laying read on top of write
read_times += write_times;
polling_read_times += write_times;

figure(1);
clf()
% set(gcf, 'Position', get(0,'Screensize'));
% set(gcf,'units','normalized','outerposition',[0 0 1 1])
bar(0:14, total_times,'g');
hold on;
bar(0:14, read_times,'b');
bar(0:14, polling_read_times,'r');
bar(0:14, write_times,'k');
bar(0:14, polling_write_times,'c');
hold off

axis([-2 16 0 300])
% axis([-1 15])
set(gca,'XTick',0:14);
set(gca,'xticklabel',{ '0'; '1'; '2'; '3'; '7'; '6'; '5'; '4'; '8'; '9'; '10'; '11'; '15'; '14'; '13' })

xlabel('Core ID')
ylabel('Cycles (Million)')

legend('total', 'read', 'p-read', 'write', 'p-write')
title(mytitle)
print(1, strcat(mytitle, '.png'))
