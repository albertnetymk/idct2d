times(1, :, :) = [
0, 214655474, 0
0, 215552451, 0
0, 217283322, 0
0, 218842888, 0
0, 222034094, 0
124, 225578057, 0
0, 229522466, 0
0, 231870228, 0
0, 234163815, 0
0, 236678395, 0
0, 242597244, 0
0, 248372350, 0
528, 254889348, 0
0, 261690912, 0
0, 263215544, 0
];
times(2, :, :) = [
0, 214631791, 0
0, 215476682, 0
0, 217204143, 0
0, 218763582, 0
0, 221954612, 0
59, 225497845, 0
0, 229446169, 0
0, 231792547, 0
0, 234085868, 0
0, 236600229, 0
0, 242518801, 0
0, 248297764, 0
304, 254817390, 0
0, 261622030, 0
0, 263136999, 0
];
times(3, :, :) = [
0, 214663128, 0
0, 215530424, 0
0, 217257671, 0
0, 218817599, 0
0, 222008477, 0
58, 225550020, 0
0, 229495850, 0
0, 231844230, 0
0, 234136720, 0
0, 236651108, 0
0, 242568924, 0
0, 248361743, 0
116, 254884578, 0
0, 261667221, 0
0, 263192029, 0
];
times(4, :, :) = [
0, 214641180, 0
0, 215461894, 0
0, 217188081, 0
0, 218746807, 0
0, 221939000, 0
174, 225483267, 0
0, 229430508, 0
0, 231778943, 0
0, 234070098, 0
0, 236585268, 0
0, 242507583, 0
0, 248275207, 0
353, 254795367, 0
0, 261597743, 0
0, 263117738, 0
];
times(5, :, :) = [
0, 214673772, 0
0, 215528829, 0
0, 217253819, 0
0, 218812351, 0
0, 222004082, 0
124, 225546963, 0
0, 229491940, 0
0, 231840498, 0
0, 234134255, 0
0, 236648993, 0
0, 242567386, 0
0, 248350560, 0
0, 254868093, 0
0, 261642286, 0
0, 263172525, 0
];
times(6, :, :) = [
0, 214645465, 0
0, 215470770, 0
0, 217196132, 0
0, 218756276, 0
0, 221947494, 0
58, 225491784, 0
0, 229439843, 0
0, 231788607, 0
0, 234082274, 0
0, 236596422, 0
0, 242517468, 0
0, 248292982, 0
0, 254811517, 0
0, 261592937, 0
0, 263111358, 0
];
times(7, :, :) = [
0, 214648447, 0
0, 215471133, 0
0, 217198294, 0
0, 218757212, 0
0, 221947431, 0
0, 225490064, 0
0, 229435959, 0
0, 231783820, 0
0, 234076349, 0
0, 236590519, 0
0, 242512665, 0
0, 248289605, 0
469, 254813951, 0
0, 261624986, 0
0, 263129126, 0
];
times(8, :, :) = [
0, 214664167, 0
0, 215553469, 0
0, 217280483, 0
0, 218839675, 0
0, 222031427, 0
120, 225572072, 0
0, 229518332, 0
0, 231866472, 0
0, 234157347, 0
0, 236672979, 0
0, 242593846, 0
0, 248386202, 0
58, 254904361, 0
0, 261731128, 0
0, 263256235, 0
];
times(9, :, :) = [
0, 214667092, 0
0, 215456654, 0
0, 217185890, 0
0, 218744923, 0
0, 221934959, 0
62, 225477132, 0
0, 229424579, 0
0, 231773222, 0
0, 234064739, 0
0, 236578653, 0
0, 242502965, 0
0, 248285748, 0
0, 254806893, 0
0, 261590426, 0
0, 263106467, 0
];
times(10, :, :) = [
0, 214649785, 0
0, 215448719, 0
0, 217176432, 0
0, 218735132, 0
0, 221927091, 0
182, 225471415, 0
0, 229420167, 0
0, 231767688, 0
0, 234059515, 0
0, 236571966, 0
0, 242489971, 0
0, 248264054, 0
58, 254782951, 0
0, 261560976, 0
0, 263086233, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_read_times = ave_times;
times(1, :, :) = [
0, 215922983, 0
0, 215925366, 0
0, 215926937, 0
7159762, 216975329, 0
30712312, 220163993, 0
54733885, 223692521, 0
70841542, 227617638, 0
78385884, 229956821, 0
96873023, 232241057, 0
115811231, 234748931, 0
142240027, 240645388, 0
166237078, 246355183, 0
196745114, 252875636, 0
180568869, 259592226, 0
0, 261111678, 0
];
times(2, :, :) = [
0, 215928273, 0
0, 215930698, 0
0, 215932239, 0
7201893, 216981636, 0
30746471, 220167989, 0
54761796, 223697920, 0
70885973, 227623447, 0
78428091, 229961796, 0
96951386, 232246393, 0
115824903, 234753771, 0
142188184, 240649806, 0
166227929, 246355264, 0
196743559, 252872117, 0
180509904, 259593610, 0
0, 261112401, 0
];
times(3, :, :) = [
0, 215924203, 0
0, 215926531, 0
0, 215928119, 0
6975727, 216951548, 0
30576059, 220137999, 0
54668146, 223667946, 0
70793610, 227593157, 0
78339020, 229932020, 0
96836563, 232216651, 0
115744409, 234724437, 0
142176380, 240622844, 0
166278752, 246333671, 0
196744744, 252846002, 0
180516020, 259540086, 0
0, 261065368, 0
];
times(4, :, :) = [
0, 215924201, 0
0, 215926594, 0
0, 215928321, 0
6972003, 216949494, 0
30552457, 220134350, 0
54571220, 223662490, 0
70797351, 227586940, 0
78317624, 229925828, 0
96807170, 232210253, 0
115714397, 234718441, 0
142255555, 240617705, 0
166268031, 246329442, 0
196766891, 252840687, 0
180472443, 259544544, 0
0, 261062891, 0
];
times(5, :, :) = [
0, 215919138, 0
0, 215921418, 0
0, 215923054, 0
7280669, 216990127, 0
30766501, 220177254, 0
54800684, 223705406, 0
70958711, 227630917, 0
78447881, 229969077, 0
96906492, 232252853, 0
115830792, 234760218, 0
142284115, 240657358, 0
166297493, 246368805, 0
196764542, 252883231, 0
180533577, 259594776, 0
0, 261119571, 0
];
times(6, :, :) = [
0, 215915163, 0
0, 215917670, 0
0, 215919183, 0
7081655, 216959029, 0
30668657, 220144795, 0
54705578, 223672794, 0
70865720, 227598636, 0
78374293, 229937141, 0
96859184, 232221258, 0
115782179, 234729041, 0
142226243, 240625646, 0
166347300, 246334555, 0
196837819, 252852587, 0
180504697, 259569849, 0
0, 261084683, 0
];
times(7, :, :) = [
0, 215913507, 0
0, 215915811, 0
0, 215917641, 0
7070686, 216959912, 0
30638808, 220146671, 0
54671548, 223674738, 0
70822383, 227600324, 0
78321359, 229938965, 0
96844789, 232222819, 0
115799229, 234730479, 0
142163955, 240624874, 0
166235856, 246323546, 0
196717543, 252835662, 0
180500074, 259560256, 0
0, 261084603, 0
];
times(8, :, :) = [
0, 215916221, 0
0, 215918768, 0
0, 215920307, 0
7149032, 216967290, 0
30695788, 220155049, 0
54731656, 223682887, 0
70833871, 227607554, 0
78395864, 229945974, 0
96866452, 232229858, 0
115787664, 234737601, 0
142289517, 240635248, 0
166298929, 246336673, 0
196784189, 252854945, 0
180505695, 259561723, 0
0, 261100683, 0
];
times(9, :, :) = [
0, 215913892, 0
0, 215916434, 0
0, 215918092, 0
7096641, 216957598, 0
30675459, 220144566, 0
54671076, 223674049, 0
70819856, 227600144, 0
78384811, 229939564, 0
96868117, 232223850, 0
115830624, 234732388, 0
142279697, 240632463, 0
166319184, 246337989, 0
196821797, 252854712, 0
180548543, 259570040, 0
0, 261101971, 0
];
times(10, :, :) = [
0, 215924707, 0
0, 215927145, 0
0, 215928735, 0
7040695, 216961447, 0
30624075, 220149244, 0
54669121, 223678076, 0
70839092, 227602799, 0
78347721, 229941920, 0
96817965, 232227519, 0
115732995, 234735488, 0
142167520, 240636266, 0
166216609, 246339619, 0
196721002, 252858396, 0
180500595, 259563049, 0
0, 261090066, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_write_times = ave_times;
times(1, :, :) = [
0, 236130137, 0
8692303, 237701103, 64000
17724703, 239549878, 128000
8691854, 241192421, 64000
8572217, 244585997, 64000
8590176, 248459724, 64000
14761547, 252752397, 128000
8476294, 255287471, 64000
16734802, 257748854, 128000
8209253, 260429427, 64000
8279483, 266698136, 64000
8248185, 272924455, 64000
7989510, 279817151, 64000
13642679, 286959561, 128000
26090235, 288565517, 255980
];
times(2, :, :) = [
0, 236213301, 0
8689457, 237783884, 64000
17666041, 239632609, 128000
8690197, 241274071, 64000
8574978, 244673400, 64000
8579914, 248550107, 64000
14761362, 252842699, 128000
8468147, 255377327, 64000
16732703, 257839242, 128000
8201686, 260519922, 64000
8299994, 266792237, 64000
8234891, 273016033, 64000
7983750, 279915030, 64000
13638151, 287041988, 128000
26087070, 288664449, 255980
];
times(3, :, :) = [
0, 236143144, 0
8692668, 237714321, 64000
17720975, 239562517, 128000
8693290, 241205594, 64000
8572247, 244596805, 64000
8597932, 248470052, 64000
14759896, 252762902, 128000
8471795, 255296842, 64000
16742014, 257759286, 128000
8210568, 260439209, 64000
8294302, 266708674, 64000
8238333, 272920509, 64000
7984290, 279818463, 64000
13638912, 286950324, 128000
26087875, 288568409, 255980
];
times(4, :, :) = [
0, 236222502, 0
8692231, 237793153, 64000
17712539, 239640970, 128000
8691324, 241290228, 64000
8571854, 244687760, 64000
8592607, 248562650, 64000
14761318, 252855597, 128000
8468898, 255390307, 64000
16738724, 257851915, 128000
8195662, 260532996, 64000
8279548, 266801871, 64000
8248730, 273028218, 64000
7991562, 279922699, 64000
13642068, 287073145, 128000
26087863, 288681745, 255980
];
times(5, :, :) = [
0, 236206621, 0
8694190, 237778034, 64000
17641984, 239626944, 128000
8691856, 241274978, 64000
8573491, 244672161, 64000
8581921, 248546856, 64000
14761881, 252840197, 128000
8473600, 255375467, 64000
16733486, 257837846, 128000
8199613, 260518466, 64000
8292897, 266786941, 64000
8243096, 273006806, 64000
7991069, 279898907, 64000
13643242, 287015954, 128000
26085070, 288637058, 255980
];
times(6, :, :) = [
0, 236225589, 0
8691306, 237796570, 64000
17644440, 239644355, 128000
8691173, 241288040, 64000
8573199, 244687753, 64000
8584464, 248561782, 64000
14761083, 252854999, 128000
8468099, 255390203, 64000
16740909, 257851361, 128000
8209381, 260532262, 64000
8290828, 266802591, 64000
8245542, 273030214, 64000
7993320, 279926381, 64000
13640528, 287062044, 128000
26086046, 288681751, 255980
];
times(7, :, :) = [
0, 236202324, 0
8693809, 237773136, 64000
17633471, 239626713, 128000
8693048, 241275538, 64000
8574022, 244677383, 64000
8583706, 248550779, 64000
14761838, 252843701, 128000
8468610, 255378609, 64000
16741073, 257841004, 128000
8200126, 260522718, 64000
8293531, 266793335, 64000
8237457, 273016337, 64000
7987840, 279914048, 64000
13637909, 287046446, 128000
26089040, 288658668, 255980
];
times(8, :, :) = [
0, 236235991, 0
8694160, 237807026, 64000
17635200, 239662000, 128000
8691895, 241310859, 64000
8572149, 244703782, 64000
8595404, 248579249, 64000
14756257, 252872051, 128000
8474599, 255406768, 64000
16735925, 257869957, 128000
8200574, 260548484, 64000
8279777, 266820427, 64000
8248721, 273044552, 64000
7994323, 279940654, 64000
13638453, 287064474, 128000
26086526, 288671566, 255980
];
times(9, :, :) = [
0, 236234036, 0
8692372, 237805450, 64000
17713832, 239660070, 128000
8690874, 241308757, 64000
8570552, 244699968, 64000
8592206, 248572680, 64000
14756022, 252865685, 128000
8469793, 255400714, 64000
16738458, 257863886, 128000
8195483, 260544138, 64000
8280193, 266815645, 64000
8248313, 273043122, 64000
7991075, 279938163, 64000
13641197, 287059829, 128000
26085868, 288670772, 255980
];
times(10, :, :) = [
0, 236163661, 0
8690794, 237735060, 64000
17642237, 239583662, 128000
8693395, 241231427, 64000
8569187, 244625899, 64000
8593941, 248501140, 64000
14757784, 252793589, 128000
8471087, 255328448, 64000
16739192, 257789907, 128000
8215032, 260469992, 64000
8305819, 266738813, 64000
8232319, 272961902, 64000
7990334, 279857962, 64000
13641384, 286996613, 128000
26088837, 288608097, 255980
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
read_times = ave_times;
times(1, :, :) = [
0, 214450468, 0
0, 214452910, 0
0, 215679161, 0
0, 217230697, 0
0, 220400242, 0
0, 223845167, 0
0, 227675734, 0
0, 229956424, 0
0, 232177318, 0
0, 234605099, 0
0, 240327011, 0
0, 245922327, 0
0, 252220070, 0
0, 258896414, 0
0, 260424617, 0
];
times(2, :, :) = [
0, 214439742, 0
0, 214441997, 0
0, 215657550, 0
0, 217205832, 0
0, 220376871, 0
0, 223819633, 0
0, 227653088, 0
0, 229937457, 0
0, 232159053, 0
0, 234587741, 0
0, 240310555, 0
0, 245905306, 0
0, 252200840, 0
0, 258855359, 0
0, 260375095, 0
];
times(3, :, :) = [
0, 214496918, 0
0, 214499073, 0
0, 215739988, 0
0, 217290846, 0
0, 220460035, 0
0, 223904079, 0
0, 227733640, 0
0, 230015860, 0
0, 232236712, 0
0, 234665231, 0
0, 240386816, 0
0, 245973655, 0
0, 252281888, 0
0, 258939113, 0
0, 260462370, 0
];
times(4, :, :) = [
0, 214453296, 0
0, 214455494, 0
0, 215657836, 0
0, 217207084, 0
0, 220377832, 0
0, 223820597, 0
0, 227655350, 0
0, 229936349, 0
0, 232157564, 0
0, 234585550, 0
0, 240307723, 0
0, 245894037, 0
0, 252192174, 0
0, 258838049, 0
0, 260354512, 0
];
times(5, :, :) = [
0, 214464256, 0
0, 214466631, 0
0, 215777042, 0
0, 217323995, 0
0, 220493527, 0
0, 223935874, 0
0, 227765124, 0
0, 230047906, 0
0, 232269705, 0
0, 234698124, 0
0, 240421636, 0
0, 246016693, 0
0, 252323212, 0
0, 258986583, 0
0, 260498649, 0
];
times(6, :, :) = [
0, 214472626, 0
0, 214474951, 0
0, 215646854, 0
0, 217195890, 0
0, 220364956, 0
0, 223805230, 0
0, 227637256, 0
0, 229919369, 0
0, 232140930, 0
0, 234568424, 0
0, 240292900, 0
0, 245881799, 0
0, 252181370, 0
0, 258853035, 0
0, 260376486, 0
];
times(7, :, :) = [
0, 214473066, 0
0, 214475526, 0
0, 215644564, 0
0, 217190373, 0
0, 220361020, 0
0, 223803445, 0
0, 227636025, 0
0, 229917802, 0
0, 232139947, 0
0, 234568928, 0
0, 240292832, 0
0, 245887451, 0
0, 252187848, 0
0, 258861356, 0
0, 260375227, 0
];
times(8, :, :) = [
0, 214444568, 0
0, 214446833, 0
0, 215781873, 0
0, 217330351, 0
0, 220499091, 0
0, 223942545, 0
0, 227772802, 0
0, 230056538, 0
0, 232278430, 0
0, 234706000, 0
0, 240427163, 0
0, 246018143, 0
0, 252322995, 0
0, 258992968, 0
0, 260518389, 0
];
times(9, :, :) = [
0, 214474368, 0
0, 214476695, 0
0, 215771837, 0
0, 217318087, 0
0, 220487305, 0
0, 223930394, 0
0, 227762872, 0
0, 230046504, 0
0, 232267213, 0
0, 234693819, 0
0, 240419971, 0
0, 246008754, 0
0, 252313970, 0
0, 258965250, 0
0, 260491381, 0
];
times(10, :, :) = [
0, 214481574, 0
0, 214483903, 0
0, 215757312, 0
0, 217303121, 0
0, 220473798, 0
0, 223916930, 0
0, 227749114, 0
0, 230031662, 0
0, 232252743, 0
0, 234681131, 0
0, 240402495, 0
0, 245997366, 0
0, 252306243, 0
0, 258962463, 0
0, 260487471, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
total_times = ave_times;
times(1, :, :) = [
12856471, 220451130, 64000
25431598, 220453755, 128000
12798843, 220455628, 64000
15307463, 220457721, 64000
12917419, 220460891, 64000
38638740, 223666174, 64000
61534914, 227586011, 64000
88768845, 229914352, 128000
89766451, 232197752, 64000
109345878, 234707312, 64000
139813586, 240602729, 64000
170502762, 246318354, 64000
201346113, 252829637, 64000
192509289, 259536321, 64000
0, 261054918, 0
];
times(2, :, :) = [
12855027, 220426177, 64000
25430793, 220429016, 128000
12798012, 220430713, 64000
15306587, 220432814, 64000
12915166, 220435857, 64000
38748473, 223656774, 64000
61656026, 227576339, 64000
88869814, 229904850, 128000
89816020, 232188190, 64000
109363901, 234697368, 64000
139883414, 240591578, 64000
170554226, 246296659, 64000
201361405, 252811929, 64000
192519634, 259515738, 64000
0, 261033438, 0
];
times(3, :, :) = [
12855071, 220459168, 64000
25435123, 220461960, 128000
12797833, 220463810, 64000
15307856, 220465992, 64000
12917773, 220469054, 64000
38768853, 223695821, 64000
61685782, 227617212, 64000
88895896, 229944850, 128000
89893534, 232228918, 64000
109488650, 234738775, 64000
139978440, 240637821, 64000
170665042, 246353400, 64000
201418894, 252867557, 64000
192600528, 259575976, 64000
0, 261101647, 0
];
times(4, :, :) = [
12855657, 220438537, 64000
25431347, 220441277, 128000
12797531, 220443030, 64000
15308117, 220445153, 64000
12917678, 220448264, 64000
38798378, 223684053, 64000
61724950, 227603650, 64000
88889991, 229933293, 128000
89860044, 232217240, 64000
109398550, 234726653, 64000
139931849, 240625969, 64000
170579525, 246337619, 64000
201392377, 252849436, 64000
192531311, 259536016, 64000
0, 261043175, 0
];
times(5, :, :) = [
12855926, 220450130, 64000
25434925, 220452981, 128000
12798832, 220454704, 64000
15309282, 220456891, 64000
12916313, 220459953, 64000
38529734, 223658703, 64000
61428132, 227579747, 64000
88675334, 229907506, 128000
89634190, 232191377, 64000
109256880, 234701572, 64000
139798179, 240597373, 64000
170526815, 246315299, 64000
201359591, 252831419, 64000
192548761, 259543121, 64000
0, 261055271, 0
];
times(6, :, :) = [
12856462, 220459051, 64000
25433240, 220461920, 128000
12798511, 220463667, 64000
15309311, 220465721, 64000
12914253, 220468780, 64000
38501682, 223662353, 64000
61466105, 227583827, 64000
88704418, 229912962, 128000
89714942, 232196680, 64000
109292379, 234705188, 64000
139800725, 240603254, 64000
170474419, 246311006, 64000
201331860, 252821671, 64000
192527954, 259508209, 64000
0, 261024853, 0
];
times(7, :, :) = [
12853661, 220451012, 64000
25433352, 220453613, 128000
12798727, 220455508, 64000
15307783, 220457522, 64000
12915593, 220460684, 64000
38615534, 223676180, 64000
61543029, 227596797, 64000
88765142, 229924549, 128000
89759860, 232208175, 64000
109328821, 234717984, 64000
139842163, 240616852, 64000
170513520, 246320717, 64000
201372532, 252838875, 64000
192522617, 259527339, 64000
0, 261043303, 0
];
times(8, :, :) = [
12856272, 220445650, 64000
25432448, 220448521, 128000
12799973, 220450176, 64000
15307022, 220452377, 64000
12916709, 220455478, 64000
38662932, 223669239, 64000
61585121, 227589336, 64000
88823274, 229918518, 128000
89827177, 232202965, 64000
109437232, 234711775, 64000
139888167, 240606303, 64000
170583916, 246315638, 64000
201402629, 252824463, 64000
192535992, 259524870, 64000
0, 261040133, 0
];
times(9, :, :) = [
12855369, 220461478, 64000
25433573, 220464302, 128000
12799392, 220465987, 64000
15305884, 220468036, 64000
12915206, 220471232, 64000
38632695, 223676584, 64000
61529186, 227596443, 64000
88735012, 229925053, 128000
89758609, 232209196, 64000
109306798, 234718610, 64000
139840585, 240615908, 64000
170533768, 246332734, 64000
201358369, 252850867, 64000
192553450, 259562334, 64000
0, 261066325, 0
];
times(10, :, :) = [
12854970, 220437593, 64000
25432824, 220440462, 128000
12797751, 220442230, 64000
15308062, 220444379, 64000
12916828, 220447465, 64000
38718997, 223666848, 64000
61610657, 227587555, 64000
88833967, 229915754, 128000
89828027, 232199684, 64000
109430081, 234708106, 64000
139944992, 240602129, 64000
170577612, 246301011, 64000
201346621, 252812588, 64000
192478667, 259496268, 64000
0, 261002396, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
write_times = ave_times;
mytitle = 'v1\_200';
% order = [1 2 3 4 8 7 6 5 9 10 11 12 15 14 13];
order = 1:15;

total_times = total_times(:, 2)(order);

read_times = read_times(:, 1)(order);
write_times = write_times(:, 1)(order);

polling_read_times = polling_read_times(:, 1)(order);
polling_write_times = polling_write_times(:, 1)(order);

total_times /= 1000000;

read_times /= 1000000;
write_times /= 1000000;

polling_read_times /= 1000000;
polling_write_times /= 1000000;

% laying read on top of write
read_times += write_times;
polling_read_times += write_times;

figure(1);
clf()
% set(gcf, 'Position', get(0,'Screensize'));
% set(gcf,'units','normalized','outerposition',[0 0 1 1])
bar(0:14, total_times,'g');
hold on;
bar(0:14, read_times,'b');
bar(0:14, polling_read_times,'r');
bar(0:14, write_times,'k');
bar(0:14, polling_write_times,'c');
hold off

axis([-2 16 0 300])
% axis([-1 15])
set(gca,'XTick',0:14);
set(gca,'xticklabel',{ '0'; '1'; '2'; '3'; '7'; '6'; '5'; '4'; '8'; '9'; '10'; '11'; '15'; '14'; '13' })

xlabel('Core ID')
ylabel('Cycles (Million)')

legend('total', 'read', 'p-read', 'write', 'p-write')
title(mytitle)
print(1, strcat(mytitle, '.png'))
