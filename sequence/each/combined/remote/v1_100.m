times(1, :, :) = [
0, 229221027, 0
0, 229888236, 0
177, 230642044, 0
0, 231632289, 0
416, 233219808, 0
120, 234841479, 0
0, 236914234, 0
0, 237930509, 0
1276, 239042273, 0
886, 240261408, 0
0, 243347274, 0
0, 246203347, 0
238, 249127131, 0
116, 252759507, 0
0, 253414107, 0
];
times(2, :, :) = [
0, 229235460, 0
0, 229900859, 0
472, 230656119, 0
0, 231646219, 0
121, 233233393, 0
236, 234855776, 0
0, 236927542, 0
0, 237943653, 0
1218, 239055434, 0
1133, 240274294, 0
0, 243359465, 0
0, 246215861, 0
0, 249137677, 0
116, 252776371, 0
0, 253443035, 0
];
times(3, :, :) = [
0, 229237084, 0
0, 229902438, 0
590, 230659464, 0
0, 231649496, 0
121, 233237147, 0
472, 234859724, 0
0, 236932880, 0
0, 237948750, 0
638, 239059744, 0
597, 240278742, 0
0, 243363552, 0
0, 246225225, 0
116, 249151976, 0
0, 252796112, 0
0, 253454416, 0
];
times(4, :, :) = [
0, 229224460, 0
0, 229893139, 0
236, 230649252, 0
0, 231639315, 0
0, 233226311, 0
825, 234848965, 0
0, 236921519, 0
0, 237935863, 0
812, 239047393, 0
471, 240265127, 0
0, 243350674, 0
0, 246207339, 0
363, 249133333, 0
0, 252759471, 0
0, 253416681, 0
];
times(5, :, :) = [
0, 229213530, 0
0, 229881293, 0
767, 230636032, 0
0, 231625314, 0
66, 233212787, 0
406, 234834861, 0
0, 236908764, 0
0, 237923936, 0
812, 239036183, 0
1133, 240254806, 0
0, 243339066, 0
0, 246198946, 0
822, 249119969, 0
116, 252759196, 0
0, 253410590, 0
];
times(6, :, :) = [
0, 229230723, 0
0, 229896815, 0
413, 230650737, 0
0, 231642845, 0
0, 233229906, 0
348, 234848354, 0
0, 236920056, 0
0, 237937253, 0
870, 239048509, 0
591, 240266992, 0
0, 243352002, 0
0, 246210219, 0
412, 249131823, 0
0, 252753125, 0
0, 253410801, 0
];
times(7, :, :) = [
0, 229240942, 0
0, 229909177, 0
590, 230665270, 0
0, 231654741, 0
179, 233241461, 0
600, 234864684, 0
0, 236935869, 0
0, 237952859, 0
696, 239065060, 0
1126, 240284842, 0
0, 243368246, 0
0, 246220268, 0
0, 249145607, 0
116, 252774219, 0
0, 253432152, 0
];
times(8, :, :) = [
0, 229219413, 0
0, 229883709, 0
531, 230640524, 0
0, 231630956, 0
526, 233217931, 0
232, 234840292, 0
0, 236912951, 0
0, 237928926, 0
696, 239040999, 0
1187, 240258437, 0
0, 243344453, 0
0, 246204005, 0
174, 249124373, 0
0, 252751278, 0
0, 253401103, 0
];
times(9, :, :) = [
0, 229221172, 0
0, 229888631, 0
472, 230644249, 0
0, 231633010, 0
938, 233219665, 0
236, 234841540, 0
0, 236912597, 0
0, 237928177, 0
812, 239039678, 0
362, 240257415, 0
0, 243342006, 0
0, 246195477, 0
121, 249117436, 0
116, 252748677, 0
0, 253411473, 0
];
times(10, :, :) = [
0, 229222437, 0
0, 229886236, 0
649, 230641664, 0
0, 231632203, 0
295, 233219894, 0
294, 234842542, 0
0, 236915556, 0
0, 237930083, 0
928, 239042903, 0
1542, 240260829, 0
0, 243348283, 0
0, 246200407, 0
116, 249124360, 0
0, 252747416, 0
0, 253405486, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_read_times = ave_times;
times(1, :, :) = [
10766585, 227557136, 0
87325822, 228226343, 0
96438099, 228981725, 0
107588916, 229971311, 0
121336033, 231566470, 0
133885699, 233209758, 0
131953266, 235309346, 0
129623632, 236340226, 0
146480463, 237473766, 0
162845153, 238721751, 0
176686313, 241877450, 0
187827084, 244739618, 0
204243914, 247759965, 0
174165597, 251359738, 0
0, 252015095, 0
];
times(2, :, :) = [
10735157, 227543255, 0
87300557, 228211782, 0
96426789, 228968161, 0
107555748, 229958099, 0
121252516, 231553387, 0
133816636, 233198212, 0
131904777, 235297464, 0
129588636, 236328985, 0
146421887, 237463692, 0
162800774, 238712116, 0
176573708, 241872975, 0
187841098, 244726955, 0
204257987, 247750256, 0
174154574, 251341312, 0
0, 251995316, 0
];
times(3, :, :) = [
10762318, 227545733, 0
87332944, 228213817, 0
96489544, 228970455, 0
107650673, 229960983, 0
121360862, 231555171, 0
133914305, 233200761, 0
131957961, 235300128, 0
129648377, 236330687, 0
146467466, 237465213, 0
162873781, 238714122, 0
176752525, 241870955, 0
187822320, 244725460, 0
204222502, 247748752, 0
174137120, 251352007, 0
0, 252015866, 0
];
times(4, :, :) = [
10760220, 227553124, 0
87288037, 228222181, 0
96421439, 228976686, 0
107567340, 229965936, 0
121306581, 231560459, 0
133825143, 233204826, 0
131908021, 235303189, 0
129574293, 236334719, 0
146381970, 237469049, 0
162752802, 238717814, 0
176538653, 241876205, 0
187835376, 244732059, 0
204253034, 247754951, 0
174174961, 251358042, 0
0, 252018678, 0
];
times(5, :, :) = [
10741246, 227544428, 0
87348640, 228213733, 0
96479231, 228970309, 0
107631252, 229960281, 0
121382570, 231554760, 0
133955514, 233198796, 0
132011957, 235298289, 0
129669887, 236329203, 0
146474911, 237463797, 0
162867223, 238712454, 0
176834904, 241872673, 0
187939961, 244726121, 0
204333282, 247752205, 0
174172906, 251355616, 0
0, 252009296, 0
];
times(6, :, :) = [
10733892, 227545591, 0
87268659, 228214898, 0
96379288, 228969379, 0
107507390, 229961221, 0
121225736, 231555606, 0
133799325, 233198528, 0
131866223, 235296830, 0
129551359, 236327740, 0
146382200, 237462791, 0
162797279, 238711351, 0
176638562, 241870392, 0
187866698, 244721040, 0
204245244, 247742293, 0
174137308, 251332098, 0
0, 251983189, 0
];
times(7, :, :) = [
10746604, 227544616, 0
87197895, 228213329, 0
96341976, 228969273, 0
107492039, 229960344, 0
121209506, 231553547, 0
133766461, 233198443, 0
131899487, 235297132, 0
129581536, 236328270, 0
146414181, 237462819, 0
162816590, 238711626, 0
176721556, 241870551, 0
187857460, 244719982, 0
204227265, 247743114, 0
174128581, 251338051, 0
0, 251998637, 0
];
times(8, :, :) = [
10749379, 227545680, 0
87311403, 228212207, 0
96455204, 228967914, 0
107588771, 229958359, 0
121307689, 231552885, 0
133859337, 233196368, 0
131924905, 235295704, 0
129597310, 236326112, 0
146436000, 237460573, 0
162801334, 238709454, 0
176688232, 241868283, 0
187864976, 244718859, 0
204250343, 247741114, 0
174135995, 251341520, 0
0, 251993216, 0
];
times(9, :, :) = [
10749125, 227554879, 0
87367098, 228222900, 0
96473934, 228978340, 0
107614922, 229968433, 0
121307745, 231562496, 0
133831672, 233206829, 0
131902733, 235304996, 0
129567339, 236336340, 0
146358123, 237470744, 0
162790113, 238719334, 0
176631537, 241879533, 0
187864050, 244737396, 0
204245352, 247761028, 0
174175674, 251371138, 0
0, 252033096, 0
];
times(10, :, :) = [
10751937, 227538695, 0
87178587, 228206614, 0
96325410, 228962226, 0
107479885, 229951489, 0
121210555, 231546587, 0
133746085, 233189043, 0
131832280, 235288850, 0
129527197, 236319590, 0
146342809, 237453895, 0
162738192, 238702170, 0
176643934, 241862817, 0
187783737, 244716940, 0
204219247, 247740982, 0
174135202, 251340431, 0
0, 252009177, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
polling_write_times = ave_times;
times(1, :, :) = [
0, 253358782, 0
8268640, 254093336, 64000
16983517, 254912092, 128000
8298784, 255954555, 64000
8207577, 257655753, 64000
8230669, 259462215, 64000
14132590, 261755871, 128000
8137963, 262872942, 64000
16317660, 264099186, 128000
8023631, 265431858, 64000
8148018, 268788582, 64000
8104075, 271900586, 64000
7914561, 275101909, 64000
13572058, 278924197, 128000
26076302, 279629182, 255980
];
times(2, :, :) = [
0, 253371437, 0
8263461, 254103776, 64000
16910390, 254924092, 128000
8294655, 255965723, 64000
8206094, 257662705, 64000
8229045, 259469608, 64000
14132692, 261762822, 128000
8130611, 262880422, 64000
16320438, 264106550, 128000
8023007, 265438154, 64000
8143361, 268793578, 64000
8112205, 271905566, 64000
7920733, 275107647, 64000
13573447, 278923730, 128000
26075601, 279624798, 255980
];
times(3, :, :) = [
0, 253406640, 0
8269012, 254140096, 64000
16986885, 254959728, 128000
8299117, 256000627, 64000
8207894, 257700520, 64000
8226447, 259506311, 64000
14139595, 261800307, 128000
8138640, 262917918, 64000
16318213, 264143800, 128000
8027388, 265475938, 64000
8137231, 268831709, 64000
8123662, 271945852, 64000
7924220, 275142986, 64000
13575256, 278963454, 128000
26074655, 279667902, 255980
];
times(4, :, :) = [
0, 253353520, 0
8266831, 254085572, 64000
16878869, 254903175, 128000
8300116, 255941762, 64000
8206038, 257647456, 64000
8228031, 259452779, 64000
14132936, 261745958, 128000
8139529, 262863149, 64000
16318438, 264089526, 128000
8040539, 265421107, 64000
8153062, 268775536, 64000
8103180, 271884662, 64000
7919430, 275088087, 64000
13575689, 278899313, 128000
26075638, 279600983, 255980
];
times(5, :, :) = [
0, 253402317, 0
8268843, 254136093, 64000
16986069, 254952861, 128000
8297517, 255994941, 64000
8207884, 257694397, 64000
8223737, 259499710, 64000
14138906, 261793563, 128000
8138733, 262911055, 64000
16315847, 264137632, 128000
8023613, 265469795, 64000
8148219, 268825647, 64000
8104652, 271938688, 64000
7914094, 275138627, 64000
13569248, 278962963, 128000
26075676, 279669488, 255980
];
times(6, :, :) = [
0, 253383950, 0
8265469, 254116911, 64000
16860020, 254935325, 128000
8301235, 255977966, 64000
8206095, 257677727, 64000
8230274, 259484566, 64000
14133748, 261778998, 128000
8130309, 262896115, 64000
16322840, 264122625, 128000
8039980, 265454357, 64000
8152789, 268810292, 64000
8104320, 271923727, 64000
7918572, 275125233, 64000
13577405, 278952955, 128000
26077816, 279653162, 255980
];
times(7, :, :) = [
0, 253368655, 0
8267892, 254103365, 64000
16983102, 254920301, 128000
8298679, 255961306, 64000
8206801, 257662917, 64000
8227263, 259469287, 64000
14127900, 261763443, 128000
8129024, 262880267, 64000
16320557, 264108463, 128000
8033339, 265439586, 64000
8147274, 268797167, 64000
8111478, 271910053, 64000
7917806, 275111860, 64000
13572715, 278938012, 128000
26077144, 279639872, 255980
];
times(8, :, :) = [
0, 253383408, 0
8270768, 254116518, 64000
16871115, 254937773, 128000
8295913, 255980153, 64000
8206671, 257679669, 64000
8228363, 259485679, 64000
14132762, 261779841, 128000
8138632, 262897115, 64000
16319940, 264122250, 128000
8033449, 265454444, 64000
8146804, 268811295, 64000
8111820, 271921679, 64000
7917474, 275121579, 64000
13572972, 278937758, 128000
26077679, 279642009, 255980
];
times(9, :, :) = [
0, 253359207, 0
8268132, 254092449, 64000
16986118, 254911589, 128000
8298346, 255952183, 64000
8206610, 257653168, 64000
8225676, 259459265, 64000
14136956, 261752874, 128000
8132033, 262869578, 64000
16320194, 264094958, 128000
8029931, 265426654, 64000
8126474, 268782436, 64000
8125612, 271890705, 64000
7920685, 275089939, 64000
13577162, 278914658, 128000
26074311, 279622853, 255980
];
times(10, :, :) = [
0, 253385947, 0
8267305, 254119047, 64000
16875071, 254939500, 128000
8299107, 255980282, 64000
8209980, 257678997, 64000
8216731, 259484959, 64000
14137878, 261779333, 128000
8131082, 262896345, 64000
16321829, 264122172, 128000
8041165, 265454712, 64000
8152066, 268809739, 64000
8103732, 271920105, 64000
7915415, 275122113, 64000
13572318, 278936137, 128000
26077568, 279636688, 255980
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
read_times = ave_times;
times(1, :, :) = [
0, 228064122, 0
0, 228730915, 0
0, 229483715, 0
0, 230471470, 0
0, 232056621, 0
0, 233660453, 0
0, 235709781, 0
0, 236715409, 0
0, 237819006, 0
0, 239027518, 0
0, 242090970, 0
0, 244886747, 0
0, 247806609, 0
0, 251393471, 0
0, 252044232, 0
];
times(2, :, :) = [
0, 228094764, 0
0, 228760447, 0
0, 229512302, 0
0, 230499792, 0
0, 232086087, 0
0, 233688842, 0
0, 235737617, 0
0, 236742791, 0
0, 237846303, 0
0, 239055441, 0
0, 242120442, 0
0, 244920083, 0
0, 247843562, 0
0, 251422318, 0
0, 252079550, 0
];
times(3, :, :) = [
0, 228073509, 0
0, 228736984, 0
0, 229491611, 0
0, 230480858, 0
0, 232066549, 0
0, 233670903, 0
0, 235721007, 0
0, 236727240, 0
0, 237830651, 0
0, 239039146, 0
0, 242102513, 0
0, 244907933, 0
0, 247830423, 0
0, 251400999, 0
0, 252050345, 0
];
times(4, :, :) = [
0, 228096853, 0
0, 228763396, 0
0, 229516458, 0
0, 230501016, 0
0, 232087541, 0
0, 233691107, 0
0, 235741821, 0
0, 236746420, 0
0, 237850077, 0
0, 239058547, 0
0, 242123412, 0
0, 244922065, 0
0, 247847393, 0
0, 251407504, 0
0, 252052344, 0
];
times(5, :, :) = [
0, 228067220, 0
0, 228732296, 0
0, 229484176, 0
0, 230470508, 0
0, 232057241, 0
0, 233661470, 0
0, 235709570, 0
0, 236714231, 0
0, 237817676, 0
0, 239027090, 0
0, 242092220, 0
0, 244892945, 0
0, 247816522, 0
0, 251377720, 0
0, 252025950, 0
];
times(6, :, :) = [
0, 228054437, 0
0, 228721718, 0
0, 229474815, 0
0, 230460441, 0
0, 232046264, 0
0, 233648938, 0
0, 235699042, 0
0, 236703945, 0
0, 237806607, 0
0, 239014896, 0
0, 242079452, 0
0, 244875993, 0
0, 247797933, 0
0, 251377975, 0
0, 252037380, 0
];
times(7, :, :) = [
0, 228068461, 0
0, 228734690, 0
0, 229487795, 0
0, 230476280, 0
0, 232062324, 0
0, 233665006, 0
0, 235714593, 0
0, 236719392, 0
0, 237822853, 0
0, 239031732, 0
0, 242096787, 0
0, 244894896, 0
0, 247816480, 0
0, 251383205, 0
0, 252030795, 0
];
times(8, :, :) = [
0, 228067277, 0
0, 228733797, 0
0, 229485337, 0
0, 230472198, 0
0, 232058338, 0
0, 233663026, 0
0, 235714882, 0
0, 236720608, 0
0, 237824362, 0
0, 239032080, 0
0, 242095876, 0
0, 244889234, 0
0, 247813035, 0
0, 251393245, 0
0, 252040530, 0
];
times(9, :, :) = [
0, 228065741, 0
0, 228732409, 0
0, 229486358, 0
0, 230471937, 0
0, 232059337, 0
0, 233662666, 0
0, 235711976, 0
0, 236716888, 0
0, 237820005, 0
0, 239027490, 0
0, 242093015, 0
0, 244893152, 0
0, 247817188, 0
0, 251377866, 0
0, 252036479, 0
];
times(10, :, :) = [
0, 228080476, 0
0, 228747695, 0
0, 229501082, 0
0, 230490234, 0
0, 232075429, 0
0, 233679250, 0
0, 235730191, 0
0, 236734477, 0
0, 237838024, 0
0, 239047159, 0
0, 242113281, 0
0, 244910317, 0
0, 247831432, 0
0, 251402207, 0
0, 252051395, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
total_times = ave_times;
times(1, :, :) = [
21043136, 228631429, 64000
93066691, 229305725, 128000
90982707, 230055996, 64000
105153705, 231041038, 64000
117416751, 232636966, 64000
131744991, 234281618, 64000
133224494, 236376156, 64000
148447490, 237408023, 128000
148548058, 238539878, 64000
165563295, 239789205, 64000
181651646, 242942592, 64000
197567968, 245797461, 64000
212254596, 248820750, 64000
187784162, 252421264, 64000
0, 253065412, 0
];
times(2, :, :) = [
21085478, 228670492, 64000
93221139, 229344611, 128000
91143211, 230097118, 64000
105292539, 231081398, 64000
117524172, 232676806, 64000
131883780, 234322882, 64000
133356362, 236416270, 64000
148547152, 237447124, 128000
148651187, 238579129, 64000
165694974, 239828060, 64000
181727068, 242981596, 64000
197631402, 245839127, 64000
212288331, 248864168, 64000
187831824, 252446782, 64000
0, 253097828, 0
];
times(3, :, :) = [
21073129, 228662828, 64000
93109051, 229335931, 128000
91033828, 230086879, 64000
105180832, 231073700, 64000
117397618, 232670018, 64000
131754480, 234314273, 64000
133235635, 236408363, 64000
148423976, 237439972, 128000
148546418, 238571333, 64000
165576454, 239820325, 64000
181650498, 242974402, 64000
197589653, 245827153, 64000
212326807, 248852821, 64000
187822924, 252453617, 64000
0, 253110978, 0
];
times(4, :, :) = [
21062477, 228655737, 64000
93099948, 229329332, 128000
91025081, 230081440, 64000
105214531, 231067187, 64000
117475788, 232662687, 64000
131847898, 234306439, 64000
133279117, 236400290, 64000
148529073, 237431827, 128000
148661005, 238564181, 64000
165697798, 239813066, 64000
181743777, 242968045, 64000
197618650, 245820356, 64000
212305794, 248843195, 64000
187827224, 252446733, 64000
0, 253099285, 0
];
times(5, :, :) = [
21062839, 228656736, 64000
93186357, 229328912, 128000
91118065, 230081256, 64000
105232684, 231067948, 64000
117458953, 232664013, 64000
131860446, 234309320, 64000
133325309, 236402098, 64000
148522905, 237433344, 128000
148654691, 238565917, 64000
165680074, 239815535, 64000
181724823, 242969595, 64000
197647737, 245827755, 64000
212309917, 248851022, 64000
187812932, 252440608, 64000
0, 253093117, 0
];
times(6, :, :) = [
21032272, 228641570, 64000
93005530, 229316795, 128000
90898087, 230069302, 64000
105043240, 231055944, 64000
117297921, 232652723, 64000
131703812, 234298237, 64000
133215935, 236393664, 64000
148440178, 237425122, 128000
148540960, 238556995, 64000
165576184, 239807045, 64000
181665597, 242963631, 64000
197565448, 245817404, 64000
212262265, 248841621, 64000
187808145, 252446570, 64000
0, 253103781, 0
];
times(7, :, :) = [
21044438, 228649290, 64000
93103240, 229323853, 128000
90985931, 230077232, 64000
105152920, 231063718, 64000
117407210, 232659826, 64000
131813972, 234303457, 64000
133303124, 236397777, 64000
148495871, 237428738, 128000
148628330, 238560332, 64000
165660288, 239809709, 64000
181701788, 242963426, 64000
197627965, 245820062, 64000
212298516, 248843969, 64000
187800008, 252440433, 64000
0, 253099040, 0
];
times(8, :, :) = [
21074943, 228669281, 64000
93099976, 229345391, 128000
91026380, 230097730, 64000
105185833, 231083808, 64000
117432599, 232680387, 64000
131868720, 234324251, 64000
133298336, 236417607, 64000
148490774, 237449876, 128000
148612407, 238581694, 64000
165631557, 239830674, 64000
181711080, 242982763, 64000
197653559, 245840080, 64000
212339279, 248865523, 64000
187835941, 252468937, 64000
0, 253115880, 0
];
times(9, :, :) = [
21029136, 228647804, 64000
92990099, 229321831, 128000
90895370, 230072184, 64000
105051639, 231058519, 64000
117293181, 232655218, 64000
131676340, 234299545, 64000
133165324, 236393795, 64000
148379722, 237424875, 128000
148527789, 238556849, 64000
165532097, 239805778, 64000
181562454, 242958989, 64000
197530111, 245813961, 64000
212229126, 248835113, 64000
187808901, 252443021, 64000
0, 253096928, 0
];
times(10, :, :) = [
21053730, 228658138, 64000
93182516, 229332727, 128000
91103023, 230085380, 64000
105267967, 231070858, 64000
117460110, 232668241, 64000
131837247, 234312222, 64000
133315506, 236405689, 64000
148496788, 237437893, 128000
148627332, 238569506, 64000
165670549, 239818358, 64000
181693397, 242973806, 64000
197635608, 245834272, 64000
212334807, 248865136, 64000
187858507, 252462602, 64000
0, 253122364, 0
];
ave_times = round(squeeze(mean(times)));
format long g, ave_times
std_times = round(squeeze(std(times)));
format long g, std_times
write_times = ave_times;
mytitle = 'v1\_100';
% order = [1 2 3 4 8 7 6 5 9 10 11 12 15 14 13];
order = 1:15;

total_times = total_times(:, 2)(order);

read_times = read_times(:, 1)(order);
write_times = write_times(:, 1)(order);

polling_read_times = polling_read_times(:, 1)(order);
polling_write_times = polling_write_times(:, 1)(order);

total_times /= 1000000;

read_times /= 1000000;
write_times /= 1000000;

polling_read_times /= 1000000;
polling_write_times /= 1000000;

% laying read on top of write
read_times += write_times;
polling_read_times += write_times;

figure(1);
clf()
% set(gcf, 'Position', get(0,'Screensize'));
% set(gcf,'units','normalized','outerposition',[0 0 1 1])
bar(0:14, total_times,'g');
hold on;
bar(0:14, read_times,'b');
bar(0:14, polling_read_times,'r');
bar(0:14, write_times,'k');
bar(0:14, polling_write_times,'c');
hold off

axis([-2 16 0 300])
% axis([-1 15])
set(gca,'XTick',0:14);
set(gca,'xticklabel',{ '0'; '1'; '2'; '3'; '7'; '6'; '5'; '4'; '8'; '9'; '10'; '11'; '15'; '14'; '13' })

xlabel('Core ID')
ylabel('Cycles (Million)')

legend('total', 'read', 'p-read', 'write', 'p-write')
title(mytitle)
print(1, strcat(mytitle, '.png'))
